d6df0788e17b7c95060bc69981c9daa5
/**
 * MULTIMODAL PROCESSOR TESTS
 * Testes unitários para processamento multimodal
 */

const MultimodalProcessor = require("../MultimodalProcessor");
describe("MultimodalProcessor", () => {
  let processor;
  beforeEach(() => {
    processor = new MultimodalProcessor();
  });
  describe("Audio Processing", () => {
    describe("validateAudioFile", () => {
      test("deve aceitar formato MP3", () => {
        const validation = processor.validateAudioFile("audio.mp3", 1000000);
        expect(validation.valid).toBe(true);
      });
      test("deve aceitar formato WAV", () => {
        const validation = processor.validateAudioFile("audio.wav", 1000000);
        expect(validation.valid).toBe(true);
      });
      test("deve rejeitar formato inválido", () => {
        const validation = processor.validateAudioFile("audio.exe", 1000000);
        expect(validation.valid).toBe(false);
        expect(validation.error).toContain("não suportado");
      });
      test("deve rejeitar arquivo muito grande", () => {
        const validation = processor.validateAudioFile("audio.mp3", 30 * 1024 * 1024);
        expect(validation.valid).toBe(false);
        expect(validation.error).toContain("muito grande");
      });
    });
    describe("processAudio", () => {
      test("deve processar áudio válido", async () => {
        const audioBuffer = Buffer.from("fake audio data");

        // Mock da API de transcrição
        processor.transcribeAudio = async () => "cria um componente de login";
        const result = await processor.processAudio(audioBuffer, "mp3");
        expect(result.type).toBe("audio");
        expect(result.format).toBe("mp3");
        expect(result.transcript).toBeDefined();
        expect(result.confidence).toBeGreaterThan(0);
      });
      test("deve rejeitar formato não suportado", async () => {
        const audioBuffer = Buffer.from("fake audio data");
        await expect(processor.processAudio(audioBuffer, "exe")).rejects.toThrow();
      });
      test("deve rejeitar arquivo muito grande", async () => {
        const largeBuffer = Buffer.alloc(30 * 1024 * 1024);
        await expect(processor.processAudio(largeBuffer, "mp3")).rejects.toThrow();
      });
    });
    describe("estimateAudioDuration", () => {
      test("deve estimar duração do áudio", async () => {
        const audioBuffer = Buffer.alloc(128000); // ~1 segundo a 128kbps

        const duration = await processor.estimateAudioDuration(audioBuffer, "mp3");
        expect(duration).toBeGreaterThan(0);
      });
    });
  });
  describe("Image Processing", () => {
    describe("validateImageFile", () => {
      test("deve aceitar formato PNG", () => {
        const validation = processor.validateImageFile("image.png", 1000000);
        expect(validation.valid).toBe(true);
      });
      test("deve aceitar formato JPG", () => {
        const validation = processor.validateImageFile("image.jpg", 1000000);
        expect(validation.valid).toBe(true);
      });
      test("deve rejeitar formato inválido", () => {
        const validation = processor.validateImageFile("image.exe", 1000000);
        expect(validation.valid).toBe(false);
      });
      test("deve rejeitar arquivo muito grande", () => {
        const validation = processor.validateImageFile("image.png", 25 * 1024 * 1024);
        expect(validation.valid).toBe(false);
      });
    });
    describe("processImage", () => {
      test("deve processar imagem válida", async () => {
        const imageBuffer = Buffer.from("fake image data");

        // Mock da API de análise
        processor.analyzeImage = async () => ({
          description: "Uma imagem de código",
          labels: ["código", "terminal"],
          confidence: 0.95
        });
        const result = await processor.processImage(imageBuffer, "png");
        expect(result.type).toBe("image");
        expect(result.format).toBe("png");
        expect(result.analysis).toBeDefined();
      });
      test("deve rejeitar formato não suportado", async () => {
        const imageBuffer = Buffer.from("fake image data");
        await expect(processor.processImage(imageBuffer, "exe")).rejects.toThrow();
      });
    });
    describe("extractTextFromImage", () => {
      test("deve extrair texto da imagem", async () => {
        const imageBuffer = Buffer.from("fake image data");

        // Mock da análise
        processor.analyzeImage = async () => ({
          textDetection: [{
            text: "function test()",
            confidence: 0.95
          }, {
            text: "return true;",
            confidence: 0.93
          }],
          description: "Código JavaScript"
        });
        const result = await processor.extractTextFromImage(imageBuffer, "png");
        expect(result.success).toBe(true);
        expect(result.text).toContain("function test()");
        expect(result.confidence).toBeGreaterThan(0);
      });
      test("deve retornar sucesso false quando nenhum texto é encontrado", async () => {
        const imageBuffer = Buffer.from("fake image data");
        processor.analyzeImage = async () => ({
          textDetection: [],
          description: "Imagem sem texto"
        });
        const result = await processor.extractTextFromImage(imageBuffer, "png");
        expect(result.success).toBe(false);
        expect(result.text).toBe("");
      });
    });
    describe("describeImage", () => {
      test("deve descrever imagem", async () => {
        const imageBuffer = Buffer.from("fake image data");
        processor.analyzeImage = async () => ({
          description: "Uma imagem de código JavaScript",
          labels: ["código", "javascript", "terminal"],
          objects: ["monitor", "teclado"],
          confidence: 0.92
        });
        const result = await processor.describeImage(imageBuffer, "png");
        expect(result.description).toBeDefined();
        expect(result.labels.length).toBeGreaterThan(0);
        expect(result.confidence).toBeGreaterThan(0);
      });
    });
    describe("detectCodeInImage", () => {
      test("deve detectar código em imagem", async () => {
        const imageBuffer = Buffer.from("fake image data");
        processor.extractTextFromImage = async () => ({
          success: true,
          text: "function login() { return true; }",
          confidence: 0.95
        });
        const result = await processor.detectCodeInImage(imageBuffer, "png");
        expect(result.success).toBe(true);
        expect(result.code).toContain("function");
        expect(result.language).toBeDefined();
      });
      test("deve identificar linguagem JavaScript", async () => {
        const imageBuffer = Buffer.from("fake image data");
        processor.extractTextFromImage = async () => ({
          success: true,
          text: "const x = 10; function test() {}",
          confidence: 0.95
        });
        const result = await processor.detectCodeInImage(imageBuffer, "png");
        expect(result.language).toBe("javascript");
      });
      test("deve identificar linguagem Python", async () => {
        const imageBuffer = Buffer.from("fake image data");
        processor.extractTextFromImage = async () => ({
          success: true,
          text: 'def test(): print("hello")',
          confidence: 0.95
        });
        const result = await processor.detectCodeInImage(imageBuffer, "png");
        expect(result.language).toBe("python");
      });
      test("deve identificar linguagem SQL", async () => {
        const imageBuffer = Buffer.from("fake image data");
        processor.extractTextFromImage = async () => ({
          success: true,
          text: "SELECT * FROM users WHERE id = 1",
          confidence: 0.95
        });
        const result = await processor.detectCodeInImage(imageBuffer, "png");
        expect(result.language).toBe("sql");
      });
    });
    describe("detectProgrammingLanguage", () => {
      test("deve detectar JavaScript", () => {
        const code = "const x = 10; function test() {}";
        const language = processor.detectProgrammingLanguage(code);
        expect(language).toBe("javascript");
      });
      test("deve detectar Python", () => {
        const code = "def test(): return True";
        const language = processor.detectProgrammingLanguage(code);
        expect(language).toBe("python");
      });
      test("deve detectar Java", () => {
        const code = "public class Test { public static void main() {} }";
        const language = processor.detectProgrammingLanguage(code);
        expect(language).toBe("java");
      });
      test("deve detectar SQL", () => {
        const code = "SELECT * FROM users WHERE id = 1";
        const language = processor.detectProgrammingLanguage(code);
        expect(language).toBe("sql");
      });
      test("deve retornar null para linguagem desconhecida", () => {
        const code = "some random text without code";
        const language = processor.detectProgrammingLanguage(code);
        expect(language).toBeNull();
      });
    });
  });
  describe("Multimodal Processing", () => {
    test("deve processar áudio e imagem simultaneamente", async () => {
      const inputs = {
        audio: {
          buffer: Buffer.from("fake audio"),
          format: "mp3"
        },
        image: {
          buffer: Buffer.from("fake image"),
          format: "png"
        }
      };
      processor.processAudio = async () => ({
        transcript: "cria um componente",
        confidence: 0.95
      });
      processor.processImage = async () => ({
        analysis: {
          description: "Imagem de código"
        }
      });
      const result = await processor.processMultimodal(inputs);
      expect(result.audio).toBeDefined();
      expect(result.image).toBeDefined();
      expect(result.combined).toBeDefined();
    });
    test("deve combinar resultados corretamente", async () => {
      const inputs = {
        audio: {
          buffer: Buffer.from("fake audio"),
          format: "mp3"
        },
        image: {
          buffer: Buffer.from("fake image"),
          format: "png"
        }
      };
      processor.processAudio = async () => ({
        transcript: "cria um componente",
        confidence: 0.95
      });
      processor.processImage = async () => ({
        analysis: {
          description: "Imagem de código"
        }
      });
      const result = await processor.processMultimodal(inputs);
      expect(result.combined.transcript).toBe("cria um componente");
      expect(result.combined.imageAnalysis.description).toBe("Imagem de código");
      expect(result.combined.confidence).toBeDefined();
    });
  });
  describe("Support Information", () => {
    test("deve retornar informações de suporte", () => {
      const info = processor.getSupportInfo();
      expect(info.audio).toBeDefined();
      expect(info.image).toBeDefined();
      expect(info.audio.formats).toContain("mp3");
      expect(info.audio.formats).toContain("wav");
      expect(info.image.formats).toContain("png");
      expect(info.image.formats).toContain("jpg");
    });
    test("deve incluir tamanho máximo de arquivo", () => {
      const info = processor.getSupportInfo();
      expect(info.audio.maxSize).toBe(25 * 1024 * 1024);
      expect(info.image.maxSize).toBe(20 * 1024 * 1024);
    });
    test("deve listar features disponíveis", () => {
      const info = processor.getSupportInfo();
      expect(info.audio.features).toContain("Speech-to-Text");
      expect(info.image.features).toContain("OCR");
      expect(info.image.features).toContain("Code Detection");
    });
  });
  describe("Error Handling", () => {
    test("deve lançar erro para áudio inválido", async () => {
      const audioBuffer = Buffer.from("fake audio");
      processor.transcribeAudio = async () => {
        throw new Error("Erro na transcrição");
      };
      await expect(processor.processAudio(audioBuffer, "mp3")).rejects.toThrow();
    });
    test("deve lançar erro para imagem inválida", async () => {
      const imageBuffer = Buffer.from("fake image");
      processor.analyzeImage = async () => {
        throw new Error("Erro na análise");
      };
      await expect(processor.processImage(imageBuffer, "png")).rejects.toThrow();
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNdWx0aW1vZGFsUHJvY2Vzc29yIiwicmVxdWlyZSIsImRlc2NyaWJlIiwicHJvY2Vzc29yIiwiYmVmb3JlRWFjaCIsInRlc3QiLCJ2YWxpZGF0aW9uIiwidmFsaWRhdGVBdWRpb0ZpbGUiLCJleHBlY3QiLCJ2YWxpZCIsInRvQmUiLCJlcnJvciIsInRvQ29udGFpbiIsImF1ZGlvQnVmZmVyIiwiQnVmZmVyIiwiZnJvbSIsInRyYW5zY3JpYmVBdWRpbyIsInJlc3VsdCIsInByb2Nlc3NBdWRpbyIsInR5cGUiLCJmb3JtYXQiLCJ0cmFuc2NyaXB0IiwidG9CZURlZmluZWQiLCJjb25maWRlbmNlIiwidG9CZUdyZWF0ZXJUaGFuIiwicmVqZWN0cyIsInRvVGhyb3ciLCJsYXJnZUJ1ZmZlciIsImFsbG9jIiwiZHVyYXRpb24iLCJlc3RpbWF0ZUF1ZGlvRHVyYXRpb24iLCJ2YWxpZGF0ZUltYWdlRmlsZSIsImltYWdlQnVmZmVyIiwiYW5hbHl6ZUltYWdlIiwiZGVzY3JpcHRpb24iLCJsYWJlbHMiLCJwcm9jZXNzSW1hZ2UiLCJhbmFseXNpcyIsInRleHREZXRlY3Rpb24iLCJ0ZXh0IiwiZXh0cmFjdFRleHRGcm9tSW1hZ2UiLCJzdWNjZXNzIiwib2JqZWN0cyIsImRlc2NyaWJlSW1hZ2UiLCJsZW5ndGgiLCJkZXRlY3RDb2RlSW5JbWFnZSIsImNvZGUiLCJsYW5ndWFnZSIsImRldGVjdFByb2dyYW1taW5nTGFuZ3VhZ2UiLCJ0b0JlTnVsbCIsImlucHV0cyIsImF1ZGlvIiwiYnVmZmVyIiwiaW1hZ2UiLCJwcm9jZXNzTXVsdGltb2RhbCIsImNvbWJpbmVkIiwiaW1hZ2VBbmFseXNpcyIsImluZm8iLCJnZXRTdXBwb3J0SW5mbyIsImZvcm1hdHMiLCJtYXhTaXplIiwiZmVhdHVyZXMiLCJFcnJvciJdLCJzb3VyY2VzIjpbIk11bHRpbW9kYWxQcm9jZXNzb3IudGVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIE1VTFRJTU9EQUwgUFJPQ0VTU09SIFRFU1RTXG4gKiBUZXN0ZXMgdW5pdMOhcmlvcyBwYXJhIHByb2Nlc3NhbWVudG8gbXVsdGltb2RhbFxuICovXG5cbmNvbnN0IE11bHRpbW9kYWxQcm9jZXNzb3IgPSByZXF1aXJlKFwiLi4vTXVsdGltb2RhbFByb2Nlc3NvclwiKTtcblxuZGVzY3JpYmUoXCJNdWx0aW1vZGFsUHJvY2Vzc29yXCIsICgpID0+IHtcbiAgbGV0IHByb2Nlc3NvcjtcblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBwcm9jZXNzb3IgPSBuZXcgTXVsdGltb2RhbFByb2Nlc3NvcigpO1xuICB9KTtcblxuICBkZXNjcmliZShcIkF1ZGlvIFByb2Nlc3NpbmdcIiwgKCkgPT4ge1xuICAgIGRlc2NyaWJlKFwidmFsaWRhdGVBdWRpb0ZpbGVcIiwgKCkgPT4ge1xuICAgICAgdGVzdChcImRldmUgYWNlaXRhciBmb3JtYXRvIE1QM1wiLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHZhbGlkYXRpb24gPSBwcm9jZXNzb3IudmFsaWRhdGVBdWRpb0ZpbGUoXCJhdWRpby5tcDNcIiwgMTAwMDAwMCk7XG5cbiAgICAgICAgZXhwZWN0KHZhbGlkYXRpb24udmFsaWQpLnRvQmUodHJ1ZSk7XG4gICAgICB9KTtcblxuICAgICAgdGVzdChcImRldmUgYWNlaXRhciBmb3JtYXRvIFdBVlwiLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHZhbGlkYXRpb24gPSBwcm9jZXNzb3IudmFsaWRhdGVBdWRpb0ZpbGUoXCJhdWRpby53YXZcIiwgMTAwMDAwMCk7XG5cbiAgICAgICAgZXhwZWN0KHZhbGlkYXRpb24udmFsaWQpLnRvQmUodHJ1ZSk7XG4gICAgICB9KTtcblxuICAgICAgdGVzdChcImRldmUgcmVqZWl0YXIgZm9ybWF0byBpbnbDoWxpZG9cIiwgKCkgPT4ge1xuICAgICAgICBjb25zdCB2YWxpZGF0aW9uID0gcHJvY2Vzc29yLnZhbGlkYXRlQXVkaW9GaWxlKFwiYXVkaW8uZXhlXCIsIDEwMDAwMDApO1xuXG4gICAgICAgIGV4cGVjdCh2YWxpZGF0aW9uLnZhbGlkKS50b0JlKGZhbHNlKTtcbiAgICAgICAgZXhwZWN0KHZhbGlkYXRpb24uZXJyb3IpLnRvQ29udGFpbihcIm7Do28gc3Vwb3J0YWRvXCIpO1xuICAgICAgfSk7XG5cbiAgICAgIHRlc3QoXCJkZXZlIHJlamVpdGFyIGFycXVpdm8gbXVpdG8gZ3JhbmRlXCIsICgpID0+IHtcbiAgICAgICAgY29uc3QgdmFsaWRhdGlvbiA9IHByb2Nlc3Nvci52YWxpZGF0ZUF1ZGlvRmlsZShcImF1ZGlvLm1wM1wiLCAzMCAqIDEwMjQgKiAxMDI0KTtcblxuICAgICAgICBleHBlY3QodmFsaWRhdGlvbi52YWxpZCkudG9CZShmYWxzZSk7XG4gICAgICAgIGV4cGVjdCh2YWxpZGF0aW9uLmVycm9yKS50b0NvbnRhaW4oXCJtdWl0byBncmFuZGVcIik7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKFwicHJvY2Vzc0F1ZGlvXCIsICgpID0+IHtcbiAgICAgIHRlc3QoXCJkZXZlIHByb2Nlc3NhciDDoXVkaW8gdsOhbGlkb1wiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGF1ZGlvQnVmZmVyID0gQnVmZmVyLmZyb20oXCJmYWtlIGF1ZGlvIGRhdGFcIik7XG5cbiAgICAgICAgLy8gTW9jayBkYSBBUEkgZGUgdHJhbnNjcmnDp8Ojb1xuICAgICAgICBwcm9jZXNzb3IudHJhbnNjcmliZUF1ZGlvID0gYXN5bmMgKCkgPT4gXCJjcmlhIHVtIGNvbXBvbmVudGUgZGUgbG9naW5cIjtcblxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwcm9jZXNzb3IucHJvY2Vzc0F1ZGlvKGF1ZGlvQnVmZmVyLCBcIm1wM1wiKTtcblxuICAgICAgICBleHBlY3QocmVzdWx0LnR5cGUpLnRvQmUoXCJhdWRpb1wiKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5mb3JtYXQpLnRvQmUoXCJtcDNcIik7XG4gICAgICAgIGV4cGVjdChyZXN1bHQudHJhbnNjcmlwdCkudG9CZURlZmluZWQoKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5jb25maWRlbmNlKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICB9KTtcblxuICAgICAgdGVzdChcImRldmUgcmVqZWl0YXIgZm9ybWF0byBuw6NvIHN1cG9ydGFkb1wiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGF1ZGlvQnVmZmVyID0gQnVmZmVyLmZyb20oXCJmYWtlIGF1ZGlvIGRhdGFcIik7XG5cbiAgICAgICAgYXdhaXQgZXhwZWN0KHByb2Nlc3Nvci5wcm9jZXNzQXVkaW8oYXVkaW9CdWZmZXIsIFwiZXhlXCIpKS5yZWplY3RzLnRvVGhyb3coKTtcbiAgICAgIH0pO1xuXG4gICAgICB0ZXN0KFwiZGV2ZSByZWplaXRhciBhcnF1aXZvIG11aXRvIGdyYW5kZVwiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGxhcmdlQnVmZmVyID0gQnVmZmVyLmFsbG9jKDMwICogMTAyNCAqIDEwMjQpO1xuXG4gICAgICAgIGF3YWl0IGV4cGVjdChwcm9jZXNzb3IucHJvY2Vzc0F1ZGlvKGxhcmdlQnVmZmVyLCBcIm1wM1wiKSkucmVqZWN0cy50b1Rocm93KCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKFwiZXN0aW1hdGVBdWRpb0R1cmF0aW9uXCIsICgpID0+IHtcbiAgICAgIHRlc3QoXCJkZXZlIGVzdGltYXIgZHVyYcOnw6NvIGRvIMOhdWRpb1wiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGF1ZGlvQnVmZmVyID0gQnVmZmVyLmFsbG9jKDEyODAwMCk7IC8vIH4xIHNlZ3VuZG8gYSAxMjhrYnBzXG5cbiAgICAgICAgY29uc3QgZHVyYXRpb24gPSBhd2FpdCBwcm9jZXNzb3IuZXN0aW1hdGVBdWRpb0R1cmF0aW9uKGF1ZGlvQnVmZmVyLCBcIm1wM1wiKTtcblxuICAgICAgICBleHBlY3QoZHVyYXRpb24pLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZShcIkltYWdlIFByb2Nlc3NpbmdcIiwgKCkgPT4ge1xuICAgIGRlc2NyaWJlKFwidmFsaWRhdGVJbWFnZUZpbGVcIiwgKCkgPT4ge1xuICAgICAgdGVzdChcImRldmUgYWNlaXRhciBmb3JtYXRvIFBOR1wiLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHZhbGlkYXRpb24gPSBwcm9jZXNzb3IudmFsaWRhdGVJbWFnZUZpbGUoXCJpbWFnZS5wbmdcIiwgMTAwMDAwMCk7XG5cbiAgICAgICAgZXhwZWN0KHZhbGlkYXRpb24udmFsaWQpLnRvQmUodHJ1ZSk7XG4gICAgICB9KTtcblxuICAgICAgdGVzdChcImRldmUgYWNlaXRhciBmb3JtYXRvIEpQR1wiLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHZhbGlkYXRpb24gPSBwcm9jZXNzb3IudmFsaWRhdGVJbWFnZUZpbGUoXCJpbWFnZS5qcGdcIiwgMTAwMDAwMCk7XG5cbiAgICAgICAgZXhwZWN0KHZhbGlkYXRpb24udmFsaWQpLnRvQmUodHJ1ZSk7XG4gICAgICB9KTtcblxuICAgICAgdGVzdChcImRldmUgcmVqZWl0YXIgZm9ybWF0byBpbnbDoWxpZG9cIiwgKCkgPT4ge1xuICAgICAgICBjb25zdCB2YWxpZGF0aW9uID0gcHJvY2Vzc29yLnZhbGlkYXRlSW1hZ2VGaWxlKFwiaW1hZ2UuZXhlXCIsIDEwMDAwMDApO1xuXG4gICAgICAgIGV4cGVjdCh2YWxpZGF0aW9uLnZhbGlkKS50b0JlKGZhbHNlKTtcbiAgICAgIH0pO1xuXG4gICAgICB0ZXN0KFwiZGV2ZSByZWplaXRhciBhcnF1aXZvIG11aXRvIGdyYW5kZVwiLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHZhbGlkYXRpb24gPSBwcm9jZXNzb3IudmFsaWRhdGVJbWFnZUZpbGUoXCJpbWFnZS5wbmdcIiwgMjUgKiAxMDI0ICogMTAyNCk7XG5cbiAgICAgICAgZXhwZWN0KHZhbGlkYXRpb24udmFsaWQpLnRvQmUoZmFsc2UpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZShcInByb2Nlc3NJbWFnZVwiLCAoKSA9PiB7XG4gICAgICB0ZXN0KFwiZGV2ZSBwcm9jZXNzYXIgaW1hZ2VtIHbDoWxpZGFcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBpbWFnZUJ1ZmZlciA9IEJ1ZmZlci5mcm9tKFwiZmFrZSBpbWFnZSBkYXRhXCIpO1xuXG4gICAgICAgIC8vIE1vY2sgZGEgQVBJIGRlIGFuw6FsaXNlXG4gICAgICAgIHByb2Nlc3Nvci5hbmFseXplSW1hZ2UgPSBhc3luYyAoKSA9PiAoe1xuICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIlVtYSBpbWFnZW0gZGUgY8OzZGlnb1wiLFxuICAgICAgICAgIGxhYmVsczogW1wiY8OzZGlnb1wiLCBcInRlcm1pbmFsXCJdLFxuICAgICAgICAgIGNvbmZpZGVuY2U6IDAuOTUsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHByb2Nlc3Nvci5wcm9jZXNzSW1hZ2UoaW1hZ2VCdWZmZXIsIFwicG5nXCIpO1xuXG4gICAgICAgIGV4cGVjdChyZXN1bHQudHlwZSkudG9CZShcImltYWdlXCIpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmZvcm1hdCkudG9CZShcInBuZ1wiKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5hbmFseXNpcykudG9CZURlZmluZWQoKTtcbiAgICAgIH0pO1xuXG4gICAgICB0ZXN0KFwiZGV2ZSByZWplaXRhciBmb3JtYXRvIG7Do28gc3Vwb3J0YWRvXCIsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgaW1hZ2VCdWZmZXIgPSBCdWZmZXIuZnJvbShcImZha2UgaW1hZ2UgZGF0YVwiKTtcblxuICAgICAgICBhd2FpdCBleHBlY3QocHJvY2Vzc29yLnByb2Nlc3NJbWFnZShpbWFnZUJ1ZmZlciwgXCJleGVcIikpLnJlamVjdHMudG9UaHJvdygpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZShcImV4dHJhY3RUZXh0RnJvbUltYWdlXCIsICgpID0+IHtcbiAgICAgIHRlc3QoXCJkZXZlIGV4dHJhaXIgdGV4dG8gZGEgaW1hZ2VtXCIsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgaW1hZ2VCdWZmZXIgPSBCdWZmZXIuZnJvbShcImZha2UgaW1hZ2UgZGF0YVwiKTtcblxuICAgICAgICAvLyBNb2NrIGRhIGFuw6FsaXNlXG4gICAgICAgIHByb2Nlc3Nvci5hbmFseXplSW1hZ2UgPSBhc3luYyAoKSA9PiAoe1xuICAgICAgICAgIHRleHREZXRlY3Rpb246IFtcbiAgICAgICAgICAgIHsgdGV4dDogXCJmdW5jdGlvbiB0ZXN0KClcIiwgY29uZmlkZW5jZTogMC45NSB9LFxuICAgICAgICAgICAgeyB0ZXh0OiBcInJldHVybiB0cnVlO1wiLCBjb25maWRlbmNlOiAwLjkzIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogXCJDw7NkaWdvIEphdmFTY3JpcHRcIixcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcHJvY2Vzc29yLmV4dHJhY3RUZXh0RnJvbUltYWdlKGltYWdlQnVmZmVyLCBcInBuZ1wiKTtcblxuICAgICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQudGV4dCkudG9Db250YWluKFwiZnVuY3Rpb24gdGVzdCgpXCIpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmNvbmZpZGVuY2UpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgIH0pO1xuXG4gICAgICB0ZXN0KFwiZGV2ZSByZXRvcm5hciBzdWNlc3NvIGZhbHNlIHF1YW5kbyBuZW5odW0gdGV4dG8gw6kgZW5jb250cmFkb1wiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGltYWdlQnVmZmVyID0gQnVmZmVyLmZyb20oXCJmYWtlIGltYWdlIGRhdGFcIik7XG5cbiAgICAgICAgcHJvY2Vzc29yLmFuYWx5emVJbWFnZSA9IGFzeW5jICgpID0+ICh7XG4gICAgICAgICAgdGV4dERldGVjdGlvbjogW10sXG4gICAgICAgICAgZGVzY3JpcHRpb246IFwiSW1hZ2VtIHNlbSB0ZXh0b1wiLFxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwcm9jZXNzb3IuZXh0cmFjdFRleHRGcm9tSW1hZ2UoaW1hZ2VCdWZmZXIsIFwicG5nXCIpO1xuXG4gICAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZShmYWxzZSk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQudGV4dCkudG9CZShcIlwiKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoXCJkZXNjcmliZUltYWdlXCIsICgpID0+IHtcbiAgICAgIHRlc3QoXCJkZXZlIGRlc2NyZXZlciBpbWFnZW1cIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBpbWFnZUJ1ZmZlciA9IEJ1ZmZlci5mcm9tKFwiZmFrZSBpbWFnZSBkYXRhXCIpO1xuXG4gICAgICAgIHByb2Nlc3Nvci5hbmFseXplSW1hZ2UgPSBhc3luYyAoKSA9PiAoe1xuICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIlVtYSBpbWFnZW0gZGUgY8OzZGlnbyBKYXZhU2NyaXB0XCIsXG4gICAgICAgICAgbGFiZWxzOiBbXCJjw7NkaWdvXCIsIFwiamF2YXNjcmlwdFwiLCBcInRlcm1pbmFsXCJdLFxuICAgICAgICAgIG9iamVjdHM6IFtcIm1vbml0b3JcIiwgXCJ0ZWNsYWRvXCJdLFxuICAgICAgICAgIGNvbmZpZGVuY2U6IDAuOTIsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHByb2Nlc3Nvci5kZXNjcmliZUltYWdlKGltYWdlQnVmZmVyLCBcInBuZ1wiKTtcblxuICAgICAgICBleHBlY3QocmVzdWx0LmRlc2NyaXB0aW9uKS50b0JlRGVmaW5lZCgpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmxhYmVscy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5jb25maWRlbmNlKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKFwiZGV0ZWN0Q29kZUluSW1hZ2VcIiwgKCkgPT4ge1xuICAgICAgdGVzdChcImRldmUgZGV0ZWN0YXIgY8OzZGlnbyBlbSBpbWFnZW1cIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBpbWFnZUJ1ZmZlciA9IEJ1ZmZlci5mcm9tKFwiZmFrZSBpbWFnZSBkYXRhXCIpO1xuXG4gICAgICAgIHByb2Nlc3Nvci5leHRyYWN0VGV4dEZyb21JbWFnZSA9IGFzeW5jICgpID0+ICh7XG4gICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICB0ZXh0OiBcImZ1bmN0aW9uIGxvZ2luKCkgeyByZXR1cm4gdHJ1ZTsgfVwiLFxuICAgICAgICAgIGNvbmZpZGVuY2U6IDAuOTUsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHByb2Nlc3Nvci5kZXRlY3RDb2RlSW5JbWFnZShpbWFnZUJ1ZmZlciwgXCJwbmdcIik7XG5cbiAgICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmNvZGUpLnRvQ29udGFpbihcImZ1bmN0aW9uXCIpO1xuICAgICAgICBleHBlY3QocmVzdWx0Lmxhbmd1YWdlKS50b0JlRGVmaW5lZCgpO1xuICAgICAgfSk7XG5cbiAgICAgIHRlc3QoXCJkZXZlIGlkZW50aWZpY2FyIGxpbmd1YWdlbSBKYXZhU2NyaXB0XCIsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgaW1hZ2VCdWZmZXIgPSBCdWZmZXIuZnJvbShcImZha2UgaW1hZ2UgZGF0YVwiKTtcblxuICAgICAgICBwcm9jZXNzb3IuZXh0cmFjdFRleHRGcm9tSW1hZ2UgPSBhc3luYyAoKSA9PiAoe1xuICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgdGV4dDogXCJjb25zdCB4ID0gMTA7IGZ1bmN0aW9uIHRlc3QoKSB7fVwiLFxuICAgICAgICAgIGNvbmZpZGVuY2U6IDAuOTUsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHByb2Nlc3Nvci5kZXRlY3RDb2RlSW5JbWFnZShpbWFnZUJ1ZmZlciwgXCJwbmdcIik7XG5cbiAgICAgICAgZXhwZWN0KHJlc3VsdC5sYW5ndWFnZSkudG9CZShcImphdmFzY3JpcHRcIik7XG4gICAgICB9KTtcblxuICAgICAgdGVzdChcImRldmUgaWRlbnRpZmljYXIgbGluZ3VhZ2VtIFB5dGhvblwiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGltYWdlQnVmZmVyID0gQnVmZmVyLmZyb20oXCJmYWtlIGltYWdlIGRhdGFcIik7XG5cbiAgICAgICAgcHJvY2Vzc29yLmV4dHJhY3RUZXh0RnJvbUltYWdlID0gYXN5bmMgKCkgPT4gKHtcbiAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgIHRleHQ6ICdkZWYgdGVzdCgpOiBwcmludChcImhlbGxvXCIpJyxcbiAgICAgICAgICBjb25maWRlbmNlOiAwLjk1LFxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwcm9jZXNzb3IuZGV0ZWN0Q29kZUluSW1hZ2UoaW1hZ2VCdWZmZXIsIFwicG5nXCIpO1xuXG4gICAgICAgIGV4cGVjdChyZXN1bHQubGFuZ3VhZ2UpLnRvQmUoXCJweXRob25cIik7XG4gICAgICB9KTtcblxuICAgICAgdGVzdChcImRldmUgaWRlbnRpZmljYXIgbGluZ3VhZ2VtIFNRTFwiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGltYWdlQnVmZmVyID0gQnVmZmVyLmZyb20oXCJmYWtlIGltYWdlIGRhdGFcIik7XG5cbiAgICAgICAgcHJvY2Vzc29yLmV4dHJhY3RUZXh0RnJvbUltYWdlID0gYXN5bmMgKCkgPT4gKHtcbiAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgIHRleHQ6IFwiU0VMRUNUICogRlJPTSB1c2VycyBXSEVSRSBpZCA9IDFcIixcbiAgICAgICAgICBjb25maWRlbmNlOiAwLjk1LFxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwcm9jZXNzb3IuZGV0ZWN0Q29kZUluSW1hZ2UoaW1hZ2VCdWZmZXIsIFwicG5nXCIpO1xuXG4gICAgICAgIGV4cGVjdChyZXN1bHQubGFuZ3VhZ2UpLnRvQmUoXCJzcWxcIik7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKFwiZGV0ZWN0UHJvZ3JhbW1pbmdMYW5ndWFnZVwiLCAoKSA9PiB7XG4gICAgICB0ZXN0KFwiZGV2ZSBkZXRlY3RhciBKYXZhU2NyaXB0XCIsICgpID0+IHtcbiAgICAgICAgY29uc3QgY29kZSA9IFwiY29uc3QgeCA9IDEwOyBmdW5jdGlvbiB0ZXN0KCkge31cIjtcbiAgICAgICAgY29uc3QgbGFuZ3VhZ2UgPSBwcm9jZXNzb3IuZGV0ZWN0UHJvZ3JhbW1pbmdMYW5ndWFnZShjb2RlKTtcblxuICAgICAgICBleHBlY3QobGFuZ3VhZ2UpLnRvQmUoXCJqYXZhc2NyaXB0XCIpO1xuICAgICAgfSk7XG5cbiAgICAgIHRlc3QoXCJkZXZlIGRldGVjdGFyIFB5dGhvblwiLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGNvZGUgPSBcImRlZiB0ZXN0KCk6IHJldHVybiBUcnVlXCI7XG4gICAgICAgIGNvbnN0IGxhbmd1YWdlID0gcHJvY2Vzc29yLmRldGVjdFByb2dyYW1taW5nTGFuZ3VhZ2UoY29kZSk7XG5cbiAgICAgICAgZXhwZWN0KGxhbmd1YWdlKS50b0JlKFwicHl0aG9uXCIpO1xuICAgICAgfSk7XG5cbiAgICAgIHRlc3QoXCJkZXZlIGRldGVjdGFyIEphdmFcIiwgKCkgPT4ge1xuICAgICAgICBjb25zdCBjb2RlID0gXCJwdWJsaWMgY2xhc3MgVGVzdCB7IHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKCkge30gfVwiO1xuICAgICAgICBjb25zdCBsYW5ndWFnZSA9IHByb2Nlc3Nvci5kZXRlY3RQcm9ncmFtbWluZ0xhbmd1YWdlKGNvZGUpO1xuXG4gICAgICAgIGV4cGVjdChsYW5ndWFnZSkudG9CZShcImphdmFcIik7XG4gICAgICB9KTtcblxuICAgICAgdGVzdChcImRldmUgZGV0ZWN0YXIgU1FMXCIsICgpID0+IHtcbiAgICAgICAgY29uc3QgY29kZSA9IFwiU0VMRUNUICogRlJPTSB1c2VycyBXSEVSRSBpZCA9IDFcIjtcbiAgICAgICAgY29uc3QgbGFuZ3VhZ2UgPSBwcm9jZXNzb3IuZGV0ZWN0UHJvZ3JhbW1pbmdMYW5ndWFnZShjb2RlKTtcblxuICAgICAgICBleHBlY3QobGFuZ3VhZ2UpLnRvQmUoXCJzcWxcIik7XG4gICAgICB9KTtcblxuICAgICAgdGVzdChcImRldmUgcmV0b3JuYXIgbnVsbCBwYXJhIGxpbmd1YWdlbSBkZXNjb25oZWNpZGFcIiwgKCkgPT4ge1xuICAgICAgICBjb25zdCBjb2RlID0gXCJzb21lIHJhbmRvbSB0ZXh0IHdpdGhvdXQgY29kZVwiO1xuICAgICAgICBjb25zdCBsYW5ndWFnZSA9IHByb2Nlc3Nvci5kZXRlY3RQcm9ncmFtbWluZ0xhbmd1YWdlKGNvZGUpO1xuXG4gICAgICAgIGV4cGVjdChsYW5ndWFnZSkudG9CZU51bGwoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZShcIk11bHRpbW9kYWwgUHJvY2Vzc2luZ1wiLCAoKSA9PiB7XG4gICAgdGVzdChcImRldmUgcHJvY2Vzc2FyIMOhdWRpbyBlIGltYWdlbSBzaW11bHRhbmVhbWVudGVcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgaW5wdXRzID0ge1xuICAgICAgICBhdWRpbzoge1xuICAgICAgICAgIGJ1ZmZlcjogQnVmZmVyLmZyb20oXCJmYWtlIGF1ZGlvXCIpLFxuICAgICAgICAgIGZvcm1hdDogXCJtcDNcIixcbiAgICAgICAgfSxcbiAgICAgICAgaW1hZ2U6IHtcbiAgICAgICAgICBidWZmZXI6IEJ1ZmZlci5mcm9tKFwiZmFrZSBpbWFnZVwiKSxcbiAgICAgICAgICBmb3JtYXQ6IFwicG5nXCIsXG4gICAgICAgIH0sXG4gICAgICB9O1xuXG4gICAgICBwcm9jZXNzb3IucHJvY2Vzc0F1ZGlvID0gYXN5bmMgKCkgPT4gKHtcbiAgICAgICAgdHJhbnNjcmlwdDogXCJjcmlhIHVtIGNvbXBvbmVudGVcIixcbiAgICAgICAgY29uZmlkZW5jZTogMC45NSxcbiAgICAgIH0pO1xuXG4gICAgICBwcm9jZXNzb3IucHJvY2Vzc0ltYWdlID0gYXN5bmMgKCkgPT4gKHtcbiAgICAgICAgYW5hbHlzaXM6IHsgZGVzY3JpcHRpb246IFwiSW1hZ2VtIGRlIGPDs2RpZ29cIiB9LFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHByb2Nlc3Nvci5wcm9jZXNzTXVsdGltb2RhbChpbnB1dHMpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmF1ZGlvKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5pbWFnZSkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuY29tYmluZWQpLnRvQmVEZWZpbmVkKCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KFwiZGV2ZSBjb21iaW5hciByZXN1bHRhZG9zIGNvcnJldGFtZW50ZVwiLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBpbnB1dHMgPSB7XG4gICAgICAgIGF1ZGlvOiB7XG4gICAgICAgICAgYnVmZmVyOiBCdWZmZXIuZnJvbShcImZha2UgYXVkaW9cIiksXG4gICAgICAgICAgZm9ybWF0OiBcIm1wM1wiLFxuICAgICAgICB9LFxuICAgICAgICBpbWFnZToge1xuICAgICAgICAgIGJ1ZmZlcjogQnVmZmVyLmZyb20oXCJmYWtlIGltYWdlXCIpLFxuICAgICAgICAgIGZvcm1hdDogXCJwbmdcIixcbiAgICAgICAgfSxcbiAgICAgIH07XG5cbiAgICAgIHByb2Nlc3Nvci5wcm9jZXNzQXVkaW8gPSBhc3luYyAoKSA9PiAoe1xuICAgICAgICB0cmFuc2NyaXB0OiBcImNyaWEgdW0gY29tcG9uZW50ZVwiLFxuICAgICAgICBjb25maWRlbmNlOiAwLjk1LFxuICAgICAgfSk7XG5cbiAgICAgIHByb2Nlc3Nvci5wcm9jZXNzSW1hZ2UgPSBhc3luYyAoKSA9PiAoe1xuICAgICAgICBhbmFseXNpczogeyBkZXNjcmlwdGlvbjogXCJJbWFnZW0gZGUgY8OzZGlnb1wiIH0sXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcHJvY2Vzc29yLnByb2Nlc3NNdWx0aW1vZGFsKGlucHV0cyk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuY29tYmluZWQudHJhbnNjcmlwdCkudG9CZShcImNyaWEgdW0gY29tcG9uZW50ZVwiKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuY29tYmluZWQuaW1hZ2VBbmFseXNpcy5kZXNjcmlwdGlvbikudG9CZShcIkltYWdlbSBkZSBjw7NkaWdvXCIpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5jb21iaW5lZC5jb25maWRlbmNlKS50b0JlRGVmaW5lZCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZShcIlN1cHBvcnQgSW5mb3JtYXRpb25cIiwgKCkgPT4ge1xuICAgIHRlc3QoXCJkZXZlIHJldG9ybmFyIGluZm9ybWHDp8O1ZXMgZGUgc3Vwb3J0ZVwiLCAoKSA9PiB7XG4gICAgICBjb25zdCBpbmZvID0gcHJvY2Vzc29yLmdldFN1cHBvcnRJbmZvKCk7XG5cbiAgICAgIGV4cGVjdChpbmZvLmF1ZGlvKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KGluZm8uaW1hZ2UpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QoaW5mby5hdWRpby5mb3JtYXRzKS50b0NvbnRhaW4oXCJtcDNcIik7XG4gICAgICBleHBlY3QoaW5mby5hdWRpby5mb3JtYXRzKS50b0NvbnRhaW4oXCJ3YXZcIik7XG4gICAgICBleHBlY3QoaW5mby5pbWFnZS5mb3JtYXRzKS50b0NvbnRhaW4oXCJwbmdcIik7XG4gICAgICBleHBlY3QoaW5mby5pbWFnZS5mb3JtYXRzKS50b0NvbnRhaW4oXCJqcGdcIik7XG4gICAgfSk7XG5cbiAgICB0ZXN0KFwiZGV2ZSBpbmNsdWlyIHRhbWFuaG8gbcOheGltbyBkZSBhcnF1aXZvXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IGluZm8gPSBwcm9jZXNzb3IuZ2V0U3VwcG9ydEluZm8oKTtcblxuICAgICAgZXhwZWN0KGluZm8uYXVkaW8ubWF4U2l6ZSkudG9CZSgyNSAqIDEwMjQgKiAxMDI0KTtcbiAgICAgIGV4cGVjdChpbmZvLmltYWdlLm1heFNpemUpLnRvQmUoMjAgKiAxMDI0ICogMTAyNCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KFwiZGV2ZSBsaXN0YXIgZmVhdHVyZXMgZGlzcG9uw612ZWlzXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IGluZm8gPSBwcm9jZXNzb3IuZ2V0U3VwcG9ydEluZm8oKTtcblxuICAgICAgZXhwZWN0KGluZm8uYXVkaW8uZmVhdHVyZXMpLnRvQ29udGFpbihcIlNwZWVjaC10by1UZXh0XCIpO1xuICAgICAgZXhwZWN0KGluZm8uaW1hZ2UuZmVhdHVyZXMpLnRvQ29udGFpbihcIk9DUlwiKTtcbiAgICAgIGV4cGVjdChpbmZvLmltYWdlLmZlYXR1cmVzKS50b0NvbnRhaW4oXCJDb2RlIERldGVjdGlvblwiKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoXCJFcnJvciBIYW5kbGluZ1wiLCAoKSA9PiB7XG4gICAgdGVzdChcImRldmUgbGFuw6dhciBlcnJvIHBhcmEgw6F1ZGlvIGludsOhbGlkb1wiLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBhdWRpb0J1ZmZlciA9IEJ1ZmZlci5mcm9tKFwiZmFrZSBhdWRpb1wiKTtcblxuICAgICAgcHJvY2Vzc29yLnRyYW5zY3JpYmVBdWRpbyA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXJybyBuYSB0cmFuc2NyacOnw6NvXCIpO1xuICAgICAgfTtcblxuICAgICAgYXdhaXQgZXhwZWN0KHByb2Nlc3Nvci5wcm9jZXNzQXVkaW8oYXVkaW9CdWZmZXIsIFwibXAzXCIpKS5yZWplY3RzLnRvVGhyb3coKTtcbiAgICB9KTtcblxuICAgIHRlc3QoXCJkZXZlIGxhbsOnYXIgZXJybyBwYXJhIGltYWdlbSBpbnbDoWxpZGFcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgaW1hZ2VCdWZmZXIgPSBCdWZmZXIuZnJvbShcImZha2UgaW1hZ2VcIik7XG5cbiAgICAgIHByb2Nlc3Nvci5hbmFseXplSW1hZ2UgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkVycm8gbmEgYW7DoWxpc2VcIik7XG4gICAgICB9O1xuXG4gICAgICBhd2FpdCBleHBlY3QocHJvY2Vzc29yLnByb2Nlc3NJbWFnZShpbWFnZUJ1ZmZlciwgXCJwbmdcIikpLnJlamVjdHMudG9UaHJvdygpO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxNQUFNQSxtQkFBbUIsR0FBR0MsT0FBTyxDQUFDLHdCQUF3QixDQUFDO0FBRTdEQyxRQUFRLENBQUMscUJBQXFCLEVBQUUsTUFBTTtFQUNwQyxJQUFJQyxTQUFTO0VBRWJDLFVBQVUsQ0FBQyxNQUFNO0lBQ2ZELFNBQVMsR0FBRyxJQUFJSCxtQkFBbUIsQ0FBQyxDQUFDO0VBQ3ZDLENBQUMsQ0FBQztFQUVGRSxRQUFRLENBQUMsa0JBQWtCLEVBQUUsTUFBTTtJQUNqQ0EsUUFBUSxDQUFDLG1CQUFtQixFQUFFLE1BQU07TUFDbENHLElBQUksQ0FBQywwQkFBMEIsRUFBRSxNQUFNO1FBQ3JDLE1BQU1DLFVBQVUsR0FBR0gsU0FBUyxDQUFDSSxpQkFBaUIsQ0FBQyxXQUFXLEVBQUUsT0FBTyxDQUFDO1FBRXBFQyxNQUFNLENBQUNGLFVBQVUsQ0FBQ0csS0FBSyxDQUFDLENBQUNDLElBQUksQ0FBQyxJQUFJLENBQUM7TUFDckMsQ0FBQyxD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