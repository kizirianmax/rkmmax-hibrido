1e72cfb5734a9045c62618dbae4c31eb
"use strict";

var _costOptimization = require("../costOptimization.js");
/**
 * COST OPTIMIZATION TESTS
 * Testes unitários completos para o módulo de otimização de custos
 */

describe("Cost Optimization Utils", () => {
  beforeEach(() => {
    jest.useFakeTimers();
    _costOptimization.responseCache.clear();
  });
  afterEach(() => {
    jest.useRealTimers();
  });
  describe("ResponseCache", () => {
    test("should generate consistent MD5 hash for same messages", () => {
      const cache = new _costOptimization.ResponseCache();
      const messages = [{
        role: "user",
        content: "Hello"
      }];
      const hash1 = cache.generateHash(messages);
      const hash2 = cache.generateHash(messages);
      expect(hash1).toBe(hash2);
      expect(hash1).toHaveLength(32); // MD5 hash length
    });
    test("should cache and retrieve responses correctly", () => {
      const cache = new _costOptimization.ResponseCache();
      const messages = [{
        role: "user",
        content: "Test"
      }];
      const response = {
        text: "Response"
      };

      // Cache miss initially
      expect(cache.get(messages)).toBeNull();

      // Set cache
      cache.set(messages, response);

      // Cache hit
      expect(cache.get(messages)).toEqual(response);
    });
    test("should expire cached items after TTL", () => {
      const cache = new _costOptimization.ResponseCache(1000, 100); // 100ms TTL
      const messages = [{
        role: "user",
        content: "Test"
      }];
      const response = {
        text: "Response"
      };
      cache.set(messages, response);

      // Should exist initially
      expect(cache.get(messages)).toEqual(response);

      // Wait for TTL to expire
      jest.advanceTimersByTime(150);

      // Should be expired
      expect(cache.get(messages)).toBeNull();
    });
    test("should evict oldest item when maxSize is reached", () => {
      const cache = new _costOptimization.ResponseCache(2); // Max 2 items

      const msg1 = [{
        role: "user",
        content: "First"
      }];
      const msg2 = [{
        role: "user",
        content: "Second"
      }];
      const msg3 = [{
        role: "user",
        content: "Third"
      }];
      cache.set(msg1, {
        text: "Response 1"
      });
      cache.set(msg2, {
        text: "Response 2"
      });
      cache.set(msg3, {
        text: "Response 3"
      });

      // First should be evicted
      expect(cache.get(msg1)).toBeNull();
      expect(cache.get(msg2)).not.toBeNull();
      expect(cache.get(msg3)).not.toBeNull();
    });
    test("should return cache statistics", () => {
      const cache = new _costOptimization.ResponseCache(100, 5000);
      const messages = [{
        role: "user",
        content: "Test"
      }];
      const response = {
        text: "Response"
      };
      cache.set(messages, response);
      const stats = cache.stats();
      expect(stats.size).toBe(1);
      expect(stats.maxSize).toBe(100);
      expect(stats.ttl).toBe(5000);
    });
  });
  describe("Utility Functions", () => {
    test("should compress prompts by removing extra whitespace", () => {
      const prompt = "  Hello    world  \n\n\n  How are you?  ";
      const compressed = (0, _costOptimization.compressPrompt)(prompt);
      expect(compressed).toBe("Hello world How are you?");
      expect(compressed.length).toBeLessThan(prompt.length);
    });
    test("should remove consecutive duplicate messages", () => {
      const messages = [{
        role: "user",
        content: "Hello"
      }, {
        role: "assistant",
        content: "Hi"
      }, {
        role: "user",
        content: "Hello"
      }, {
        role: "user",
        content: "Hello"
      }, {
        role: "user",
        content: "How are you?"
      }];
      const deduplicated = (0, _costOptimization.deduplicateMessages)(messages);
      expect(deduplicated).toHaveLength(4);
      expect(deduplicated[2].content).toBe("Hello");
      expect(deduplicated[3].content).toBe("How are you?");
    });
    test("should estimate tokens correctly", () => {
      expect((0, _costOptimization.estimateTokens)("test")).toBe(1); // 4 chars = 1 token
      expect((0, _costOptimization.estimateTokens)("Hello world")).toBe(3); // 11 chars = 3 tokens
      expect((0, _costOptimization.estimateTokens)("a")).toBe(1); // Should round up
      expect((0, _costOptimization.estimateTokens)("")).toBe(0);
    });
    test("should limit context to max tokens", () => {
      const messages = [{
        role: "user",
        content: "a".repeat(100)
      },
      // 25 tokens
      {
        role: "assistant",
        content: "b".repeat(100)
      },
      // 25 tokens
      {
        role: "user",
        content: "c".repeat(100)
      },
      // 25 tokens
      {
        role: "assistant",
        content: "d".repeat(100)
      } // 25 tokens
      ];
      const limited = (0, _costOptimization.limitContext)(messages, 60);

      // Should keep only the most recent messages that fit within 60 tokens
      expect(limited.length).toBeLessThan(messages.length);
      expect(limited[0].content).toBe("b".repeat(100)); // Most recent messages first
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY29zdE9wdGltaXphdGlvbiIsInJlcXVpcmUiLCJkZXNjcmliZSIsImJlZm9yZUVhY2giLCJqZXN0IiwidXNlRmFrZVRpbWVycyIsInJlc3BvbnNlQ2FjaGUiLCJjbGVhciIsImFmdGVyRWFjaCIsInVzZVJlYWxUaW1lcnMiLCJ0ZXN0IiwiY2FjaGUiLCJSZXNwb25zZUNhY2hlIiwibWVzc2FnZXMiLCJyb2xlIiwiY29udGVudCIsImhhc2gxIiwiZ2VuZXJhdGVIYXNoIiwiaGFzaDIiLCJleHBlY3QiLCJ0b0JlIiwidG9IYXZlTGVuZ3RoIiwicmVzcG9uc2UiLCJ0ZXh0IiwiZ2V0IiwidG9CZU51bGwiLCJzZXQiLCJ0b0VxdWFsIiwiYWR2YW5jZVRpbWVyc0J5VGltZSIsIm1zZzEiLCJtc2cyIiwibXNnMyIsIm5vdCIsInN0YXRzIiwic2l6ZSIsIm1heFNpemUiLCJ0dGwiLCJwcm9tcHQiLCJjb21wcmVzc2VkIiwiY29tcHJlc3NQcm9tcHQiLCJsZW5ndGgiLCJ0b0JlTGVzc1RoYW4iLCJkZWR1cGxpY2F0ZWQiLCJkZWR1cGxpY2F0ZU1lc3NhZ2VzIiwiZXN0aW1hdGVUb2tlbnMiLCJyZXBlYXQiLCJsaW1pdGVkIiwibGltaXRDb250ZXh0Il0sInNvdXJjZXMiOlsiY29zdE9wdGltaXphdGlvbi50ZXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ09TVCBPUFRJTUlaQVRJT04gVEVTVFNcbiAqIFRlc3RlcyB1bml0w6FyaW9zIGNvbXBsZXRvcyBwYXJhIG8gbcOzZHVsbyBkZSBvdGltaXphw6fDo28gZGUgY3VzdG9zXG4gKi9cblxuaW1wb3J0IHtcbiAgcmVzcG9uc2VDYWNoZSxcbiAgUmVzcG9uc2VDYWNoZSxcbiAgY29tcHJlc3NQcm9tcHQsXG4gIGRlZHVwbGljYXRlTWVzc2FnZXMsXG4gIGVzdGltYXRlVG9rZW5zLFxuICBsaW1pdENvbnRleHQsXG59IGZyb20gXCIuLi9jb3N0T3B0aW1pemF0aW9uLmpzXCI7XG5cbmRlc2NyaWJlKFwiQ29zdCBPcHRpbWl6YXRpb24gVXRpbHNcIiwgKCkgPT4ge1xuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBqZXN0LnVzZUZha2VUaW1lcnMoKTtcbiAgICByZXNwb25zZUNhY2hlLmNsZWFyKCk7XG4gIH0pO1xuXG4gIGFmdGVyRWFjaCgoKSA9PiB7XG4gICAgamVzdC51c2VSZWFsVGltZXJzKCk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKFwiUmVzcG9uc2VDYWNoZVwiLCAoKSA9PiB7XG4gICAgdGVzdChcInNob3VsZCBnZW5lcmF0ZSBjb25zaXN0ZW50IE1ENSBoYXNoIGZvciBzYW1lIG1lc3NhZ2VzXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IGNhY2hlID0gbmV3IFJlc3BvbnNlQ2FjaGUoKTtcbiAgICAgIGNvbnN0IG1lc3NhZ2VzID0gW3sgcm9sZTogXCJ1c2VyXCIsIGNvbnRlbnQ6IFwiSGVsbG9cIiB9XTtcblxuICAgICAgY29uc3QgaGFzaDEgPSBjYWNoZS5nZW5lcmF0ZUhhc2gobWVzc2FnZXMpO1xuICAgICAgY29uc3QgaGFzaDIgPSBjYWNoZS5nZW5lcmF0ZUhhc2gobWVzc2FnZXMpO1xuXG4gICAgICBleHBlY3QoaGFzaDEpLnRvQmUoaGFzaDIpO1xuICAgICAgZXhwZWN0KGhhc2gxKS50b0hhdmVMZW5ndGgoMzIpOyAvLyBNRDUgaGFzaCBsZW5ndGhcbiAgICB9KTtcblxuICAgIHRlc3QoXCJzaG91bGQgY2FjaGUgYW5kIHJldHJpZXZlIHJlc3BvbnNlcyBjb3JyZWN0bHlcIiwgKCkgPT4ge1xuICAgICAgY29uc3QgY2FjaGUgPSBuZXcgUmVzcG9uc2VDYWNoZSgpO1xuICAgICAgY29uc3QgbWVzc2FnZXMgPSBbeyByb2xlOiBcInVzZXJcIiwgY29udGVudDogXCJUZXN0XCIgfV07XG4gICAgICBjb25zdCByZXNwb25zZSA9IHsgdGV4dDogXCJSZXNwb25zZVwiIH07XG5cbiAgICAgIC8vIENhY2hlIG1pc3MgaW5pdGlhbGx5XG4gICAgICBleHBlY3QoY2FjaGUuZ2V0KG1lc3NhZ2VzKSkudG9CZU51bGwoKTtcblxuICAgICAgLy8gU2V0IGNhY2hlXG4gICAgICBjYWNoZS5zZXQobWVzc2FnZXMsIHJlc3BvbnNlKTtcblxuICAgICAgLy8gQ2FjaGUgaGl0XG4gICAgICBleHBlY3QoY2FjaGUuZ2V0KG1lc3NhZ2VzKSkudG9FcXVhbChyZXNwb25zZSk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KFwic2hvdWxkIGV4cGlyZSBjYWNoZWQgaXRlbXMgYWZ0ZXIgVFRMXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IGNhY2hlID0gbmV3IFJlc3BvbnNlQ2FjaGUoMTAwMCwgMTAwKTsgLy8gMTAwbXMgVFRMXG4gICAgICBjb25zdCBtZXNzYWdlcyA9IFt7IHJvbGU6IFwidXNlclwiLCBjb250ZW50OiBcIlRlc3RcIiB9XTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0geyB0ZXh0OiBcIlJlc3BvbnNlXCIgfTtcblxuICAgICAgY2FjaGUuc2V0KG1lc3NhZ2VzLCByZXNwb25zZSk7XG5cbiAgICAgIC8vIFNob3VsZCBleGlzdCBpbml0aWFsbHlcbiAgICAgIGV4cGVjdChjYWNoZS5nZXQobWVzc2FnZXMpKS50b0VxdWFsKHJlc3BvbnNlKTtcblxuICAgICAgLy8gV2FpdCBmb3IgVFRMIHRvIGV4cGlyZVxuICAgICAgamVzdC5hZHZhbmNlVGltZXJzQnlUaW1lKDE1MCk7XG5cbiAgICAgIC8vIFNob3VsZCBiZSBleHBpcmVkXG4gICAgICBleHBlY3QoY2FjaGUuZ2V0KG1lc3NhZ2VzKSkudG9CZU51bGwoKTtcbiAgICB9KTtcblxuICAgIHRlc3QoXCJzaG91bGQgZXZpY3Qgb2xkZXN0IGl0ZW0gd2hlbiBtYXhTaXplIGlzIHJlYWNoZWRcIiwgKCkgPT4ge1xuICAgICAgY29uc3QgY2FjaGUgPSBuZXcgUmVzcG9uc2VDYWNoZSgyKTsgLy8gTWF4IDIgaXRlbXNcblxuICAgICAgY29uc3QgbXNnMSA9IFt7IHJvbGU6IFwidXNlclwiLCBjb250ZW50OiBcIkZpcnN0XCIgfV07XG4gICAgICBjb25zdCBtc2cyID0gW3sgcm9sZTogXCJ1c2VyXCIsIGNvbnRlbnQ6IFwiU2Vjb25kXCIgfV07XG4gICAgICBjb25zdCBtc2czID0gW3sgcm9sZTogXCJ1c2VyXCIsIGNvbnRlbnQ6IFwiVGhpcmRcIiB9XTtcblxuICAgICAgY2FjaGUuc2V0KG1zZzEsIHsgdGV4dDogXCJSZXNwb25zZSAxXCIgfSk7XG4gICAgICBjYWNoZS5zZXQobXNnMiwgeyB0ZXh0OiBcIlJlc3BvbnNlIDJcIiB9KTtcbiAgICAgIGNhY2hlLnNldChtc2czLCB7IHRleHQ6IFwiUmVzcG9uc2UgM1wiIH0pO1xuXG4gICAgICAvLyBGaXJzdCBzaG91bGQgYmUgZXZpY3RlZFxuICAgICAgZXhwZWN0KGNhY2hlLmdldChtc2cxKSkudG9CZU51bGwoKTtcbiAgICAgIGV4cGVjdChjYWNoZS5nZXQobXNnMikpLm5vdC50b0JlTnVsbCgpO1xuICAgICAgZXhwZWN0KGNhY2hlLmdldChtc2czKSkubm90LnRvQmVOdWxsKCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KFwic2hvdWxkIHJldHVybiBjYWNoZSBzdGF0aXN0aWNzXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IGNhY2hlID0gbmV3IFJlc3BvbnNlQ2FjaGUoMTAwLCA1MDAwKTtcbiAgICAgIGNvbnN0IG1lc3NhZ2VzID0gW3sgcm9sZTogXCJ1c2VyXCIsIGNvbnRlbnQ6IFwiVGVzdFwiIH1dO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSB7IHRleHQ6IFwiUmVzcG9uc2VcIiB9O1xuXG4gICAgICBjYWNoZS5zZXQobWVzc2FnZXMsIHJlc3BvbnNlKTtcblxuICAgICAgY29uc3Qgc3RhdHMgPSBjYWNoZS5zdGF0cygpO1xuXG4gICAgICBleHBlY3Qoc3RhdHMuc2l6ZSkudG9CZSgxKTtcbiAgICAgIGV4cGVjdChzdGF0cy5tYXhTaXplKS50b0JlKDEwMCk7XG4gICAgICBleHBlY3Qoc3RhdHMudHRsKS50b0JlKDUwMDApO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZShcIlV0aWxpdHkgRnVuY3Rpb25zXCIsICgpID0+IHtcbiAgICB0ZXN0KFwic2hvdWxkIGNvbXByZXNzIHByb21wdHMgYnkgcmVtb3ZpbmcgZXh0cmEgd2hpdGVzcGFjZVwiLCAoKSA9PiB7XG4gICAgICBjb25zdCBwcm9tcHQgPSBcIiAgSGVsbG8gICAgd29ybGQgIFxcblxcblxcbiAgSG93IGFyZSB5b3U/ICBcIjtcbiAgICAgIGNvbnN0IGNvbXByZXNzZWQgPSBjb21wcmVzc1Byb21wdChwcm9tcHQpO1xuXG4gICAgICBleHBlY3QoY29tcHJlc3NlZCkudG9CZShcIkhlbGxvIHdvcmxkIEhvdyBhcmUgeW91P1wiKTtcbiAgICAgIGV4cGVjdChjb21wcmVzc2VkLmxlbmd0aCkudG9CZUxlc3NUaGFuKHByb21wdC5sZW5ndGgpO1xuICAgIH0pO1xuXG4gICAgdGVzdChcInNob3VsZCByZW1vdmUgY29uc2VjdXRpdmUgZHVwbGljYXRlIG1lc3NhZ2VzXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IG1lc3NhZ2VzID0gW1xuICAgICAgICB7IHJvbGU6IFwidXNlclwiLCBjb250ZW50OiBcIkhlbGxvXCIgfSxcbiAgICAgICAgeyByb2xlOiBcImFzc2lzdGFudFwiLCBjb250ZW50OiBcIkhpXCIgfSxcbiAgICAgICAgeyByb2xlOiBcInVzZXJcIiwgY29udGVudDogXCJIZWxsb1wiIH0sXG4gICAgICAgIHsgcm9sZTogXCJ1c2VyXCIsIGNvbnRlbnQ6IFwiSGVsbG9cIiB9LFxuICAgICAgICB7IHJvbGU6IFwidXNlclwiLCBjb250ZW50OiBcIkhvdyBhcmUgeW91P1wiIH0sXG4gICAgICBdO1xuXG4gICAgICBjb25zdCBkZWR1cGxpY2F0ZWQgPSBkZWR1cGxpY2F0ZU1lc3NhZ2VzKG1lc3NhZ2VzKTtcblxuICAgICAgZXhwZWN0KGRlZHVwbGljYXRlZCkudG9IYXZlTGVuZ3RoKDQpO1xuICAgICAgZXhwZWN0KGRlZHVwbGljYXRlZFsyXS5jb250ZW50KS50b0JlKFwiSGVsbG9cIik7XG4gICAgICBleHBlY3QoZGVkdXBsaWNhdGVkWzNdLmNvbnRlbnQpLnRvQmUoXCJIb3cgYXJlIHlvdT9cIik7XG4gICAgfSk7XG5cbiAgICB0ZXN0KFwic2hvdWxkIGVzdGltYXRlIHRva2VucyBjb3JyZWN0bHlcIiwgKCkgPT4ge1xuICAgICAgZXhwZWN0KGVzdGltYXRlVG9rZW5zKFwidGVzdFwiKSkudG9CZSgxKTsgLy8gNCBjaGFycyA9IDEgdG9rZW5cbiAgICAgIGV4cGVjdChlc3RpbWF0ZVRva2VucyhcIkhlbGxvIHdvcmxkXCIpKS50b0JlKDMpOyAvLyAxMSBjaGFycyA9IDMgdG9rZW5zXG4gICAgICBleHBlY3QoZXN0aW1hdGVUb2tlbnMoXCJhXCIpKS50b0JlKDEpOyAvLyBTaG91bGQgcm91bmQgdXBcbiAgICAgIGV4cGVjdChlc3RpbWF0ZVRva2VucyhcIlwiKSkudG9CZSgwKTtcbiAgICB9KTtcblxuICAgIHRlc3QoXCJzaG91bGQgbGltaXQgY29udGV4dCB0byBtYXggdG9rZW5zXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IG1lc3NhZ2VzID0gW1xuICAgICAgICB7IHJvbGU6IFwidXNlclwiLCBjb250ZW50OiBcImFcIi5yZXBlYXQoMTAwKSB9LCAvLyAyNSB0b2tlbnNcbiAgICAgICAgeyByb2xlOiBcImFzc2lzdGFudFwiLCBjb250ZW50OiBcImJcIi5yZXBlYXQoMTAwKSB9LCAvLyAyNSB0b2tlbnNcbiAgICAgICAgeyByb2xlOiBcInVzZXJcIiwgY29udGVudDogXCJjXCIucmVwZWF0KDEwMCkgfSwgLy8gMjUgdG9rZW5zXG4gICAgICAgIHsgcm9sZTogXCJhc3Npc3RhbnRcIiwgY29udGVudDogXCJkXCIucmVwZWF0KDEwMCkgfSwgLy8gMjUgdG9rZW5zXG4gICAgICBdO1xuXG4gICAgICBjb25zdCBsaW1pdGVkID0gbGltaXRDb250ZXh0KG1lc3NhZ2VzLCA2MCk7XG5cbiAgICAgIC8vIFNob3VsZCBrZWVwIG9ubHkgdGhlIG1vc3QgcmVjZW50IG1lc3NhZ2VzIHRoYXQgZml0IHdpdGhpbiA2MCB0b2tlbnNcbiAgICAgIGV4cGVjdChsaW1pdGVkLmxlbmd0aCkudG9CZUxlc3NUaGFuKG1lc3NhZ2VzLmxlbmd0aCk7XG4gICAgICBleHBlY3QobGltaXRlZFswXS5jb250ZW50KS50b0JlKFwiYlwiLnJlcGVhdCgxMDApKTsgLy8gTW9zdCByZWNlbnQgbWVzc2FnZXMgZmlyc3RcbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdLCJtYXBwaW5ncyI6Ijs7QUFLQSxJQUFBQSxpQkFBQSxHQUFBQyxPQUFBO0FBTEE7QUFDQTtBQUNBO0FBQ0E7O0FBV0FDLFFBQVEsQ0FBQyx5QkFBeUIsRUFBRSxNQUFNO0VBQ3hDQyxVQUFVLENBQUMsTUFBTTtJQUNmQyxJQUFJLENBQUNDLGFBQWEsQ0FBQyxDQUFDO0lBQ3BCQywrQkFBYSxDQUFDQyxLQUFLLENBQUMsQ0FBQztFQUN2QixDQUFDLENBQUM7RUFFRkMsU0FBUyxDQUFDLE1BQU07SUFDZEosSUFBSSxDQUFDSyxhQUFhLENBQUMsQ0FBQztFQUN0QixDQUFDLENBQUM7RUFFRlAsUUFBUSxDQUFDLGVBQWUsRUFBRSxNQUFNO0lBQzlCUSxJQUFJLENBQUMsdURBQXVELEVBQUUsTUFBTTtNQUNsRSxNQUFNQyxLQUFLLEdBQUcsSUFBSUMsK0JBQWEsQ0FBQyxDQUFDO01BQ2pDLE1BQU1DLFFBQVEsR0FBRyxDQUFDO1FBQUVDLElBQUksRUFBRSxNQUFNO1FBQUVDLE9BQU8sRUFBRTtNQUFRLENBQUMsQ0FBQztNQUVyRCxNQUFNQyxLQUFLLEdBQUdMLEtBQUssQ0FBQ00sWUFBWSxDQUFDSixRQUFRLENBQUM7TUFDMUMsTUFBTUssS0FBSyxHQUFHUCxLQUFLLENBQUNNLFlBQVksQ0FBQ0osUUFBUSxDQUFDO01BRTFDTSxNQUFNLENBQUNILEtBQUssQ0FBQyxDQUFDSSxJQUFJLENBQUNGLEtBQUssQ0FBQztNQUN6QkMsTUFBTSxDQUFDSCxLQUFLLENBQUMsQ0FBQ0ssWUFBWSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDbEMsQ0FBQyxDQUFDO0lBRUZYLElBQUksQ0FBQywrQ0FBK0MsRUFBRSxNQUFNO01B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