{"version":3,"names":["cov_1l320nywv2","actualCoverage","React","useState","useEffect","OptionalSignupBanner","f","email","setEmail","s","isVisible","setIsVisible","isSubmitting","setIsSubmitting","message","setMessage","hasEmail","localStorage","getItem","dismissed","b","timer","setTimeout","clearTimeout","handleSubmit","e","preventDefault","includes","setItem","fetch","method","headers","body","JSON","stringify","error","console","handleDismiss","createElement","className","onClick","onSubmit","type","value","onChange","target","placeholder","disabled"],"sources":["OptionalSignupBanner.jsx"],"sourcesContent":["// src/components/OptionalSignupBanner.jsx\nimport React, { useState, useEffect } from \"react\";\nimport \"./OptionalSignupBanner.css\";\n\nexport default function OptionalSignupBanner() {\n  const [email, setEmail] = useState(\"\");\n  const [isVisible, setIsVisible] = useState(false);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [message, setMessage] = useState(\"\");\n\n  useEffect(() => {\n    // Verificar se jÃ¡ cadastrou ou dispensou\n    const hasEmail = localStorage.getItem(\"user_email\");\n    const dismissed = localStorage.getItem(\"signup_banner_dismissed\");\n\n    if (!hasEmail && !dismissed) {\n      // Mostrar banner apÃ³s 10 segundos de uso\n      const timer = setTimeout(() => {\n        setIsVisible(true);\n      }, 10000); // 10 segundos\n\n      return () => clearTimeout(timer);\n    }\n  }, []);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    if (!email || !email.includes(\"@\")) {\n      setMessage(\"Por favor, insira um e-mail vÃ¡lido\");\n      return;\n    }\n\n    setIsSubmitting(true);\n\n    try {\n      // Salvar e-mail no localStorage\n      localStorage.setItem(\"user_email\", email);\n\n      // Enviar para o backend\n      await fetch(\"/api/save-email\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ email }),\n      });\n\n      setMessage(\"âœ… E-mail salvo! VocÃª receberÃ¡ atualizaÃ§Ãµes.\");\n\n      // Fechar banner apÃ³s 2 segundos\n      setTimeout(() => {\n        setIsVisible(false);\n      }, 2000);\n    } catch (error) {\n      console.error(\"Erro ao salvar e-mail:\", error);\n      setMessage(\"Erro ao salvar. Tente novamente.\");\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const handleDismiss = () => {\n    localStorage.setItem(\"signup_banner_dismissed\", \"true\");\n    setIsVisible(false);\n  };\n\n  if (!isVisible) return null;\n\n  return (\n    <div className=\"signup-banner\">\n      <div className=\"signup-banner-content\">\n        <button className=\"signup-banner-close\" onClick={handleDismiss} aria-label=\"Fechar\">\n          âœ•\n        </button>\n\n        <div className=\"signup-banner-icon\">ðŸ“§</div>\n\n        <h3 className=\"signup-banner-title\">Quer receber atualizaÃ§Ãµes?</h3>\n\n        <p className=\"signup-banner-text\">\n          Deixe seu e-mail para saber quando lanÃ§armos novos recursos e melhorias!\n        </p>\n\n        <form onSubmit={handleSubmit} className=\"signup-banner-form\">\n          <input\n            type=\"email\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n            placeholder=\"seu@email.com\"\n            className=\"signup-banner-input\"\n            disabled={isSubmitting}\n          />\n          <button type=\"submit\" className=\"signup-banner-button\" disabled={isSubmitting}>\n            {isSubmitting ? \"Salvando...\" : \"Cadastrar\"}\n          </button>\n        </form>\n\n        {message && (\n          <p className={`signup-banner-message ${message.includes(\"âœ…\") ? \"success\" : \"error\"}`}>\n            {message}\n          </p>\n        )}\n\n        <button className=\"signup-banner-skip\" onClick={handleDismiss}>\n          Agora nÃ£o\n        </button>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]}