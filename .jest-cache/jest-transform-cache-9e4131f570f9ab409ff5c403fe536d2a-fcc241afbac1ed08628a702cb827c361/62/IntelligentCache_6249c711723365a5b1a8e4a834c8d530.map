{"version":3,"names":["cov_28wv6x7mqq","actualCoverage","crypto","s","require","IntelligentCache","constructor","options","b","f","cache","Map","metadata","maxMemory","currentMemory","ttlConfig","stats","hits","misses","evictions","apiCallsSaved","totalRequests","generateKey","agentId","prompt","context","hash","createHash","update","JSON","stringify","toLowerCase","trim","contextHash","_hashContext","digest","get","key","similarityThreshold","has","entry","_isExpired","_evict","lastAccess","Date","now","accessCount","value","similar","_findSimilar","set","category","size","_estimateSize","_evictByPolicy","createdAt","ttl","entries","Array","from","map","priority","_calculateEvictionPriority","sort","a","toRemove","Math","ceil","length","i","age","recency","frequency","delete","threshold","cacheKey","_calculateSimilarity","key1","key2","distance","_levenshteinDistance","maxLength","max","s1","s2","len1","len2","matrix","fill","j","indicator","min","getStats","hitRate","memoryUsage","estimatedSavings","toFixed","cacheSize","clear","generateReport","toISOString","module","exports"],"sources":["IntelligentCache.js"],"sourcesContent":["/**\n * INTELLIGENT CACHE - Motor de Cache Adaptativo\n * TTL adaptativo, evicção LRU + prioridade, busca semântica\n * Economia radical de API: 70% hit rate = 65% redução de custo\n */\n\nconst crypto = require(\"crypto\");\n\nclass IntelligentCache {\n  constructor(options = {}) {\n    this.cache = new Map();\n    this.metadata = new Map();\n\n    // Configuração\n    this.maxMemory = options.maxMemory || 512; // MB\n    this.currentMemory = 0;\n\n    // TTL adaptativo por categoria\n    this.ttlConfig = {\n      \"specialist-response\": 86400, // 24h para respostas especializadas\n      \"general-knowledge\": 25200, // 7h para conhecimento geral\n      \"user-context\": 3600, // 1h para contexto do usuário\n      \"real-time-data\": 300, // 5min para dados em tempo real\n      \"system-config\": 2592000, // 30 dias para configuração\n    };\n\n    // Estatísticas\n    this.stats = {\n      hits: 0,\n      misses: 0,\n      evictions: 0,\n      apiCallsSaved: 0,\n      totalRequests: 0,\n    };\n  }\n\n  /**\n   * Gerador de Chave Multi-Dimensional\n   * @param {string} agentId - ID do agente\n   * @param {string} prompt - Prompt do usuário\n   * @param {Object} context - Contexto da conversa\n   * @returns {string} Chave de cache\n   */\n  generateKey(agentId, prompt, context = {}) {\n    const hash = crypto\n      .createHash(\"sha256\")\n      .update(\n        JSON.stringify({\n          agentId,\n          prompt: prompt.toLowerCase().trim(),\n          contextHash: this._hashContext(context),\n        })\n      )\n      .digest(\"hex\");\n\n    return `${agentId}:${hash}`;\n  }\n\n  /**\n   * Busca em Cache com Fallback para Similaridade\n   * @param {string} key - Chave de cache\n   * @param {number} similarityThreshold - Limite de similaridade (0-1)\n   * @returns {Object|null} Resultado em cache ou null\n   */\n  get(key, similarityThreshold = 0.85) {\n    this.stats.totalRequests++;\n\n    // Busca exata\n    if (this.cache.has(key)) {\n      const entry = this.cache.get(key);\n\n      if (this._isExpired(entry)) {\n        this._evict(key);\n        this.stats.misses++;\n        return null;\n      }\n\n      // Atualizar metadados\n      entry.lastAccess = Date.now();\n      entry.accessCount++;\n      this.stats.hits++;\n      this.stats.apiCallsSaved++;\n\n      return entry.value;\n    }\n\n    // Busca por similaridade (fuzzy matching)\n    const similar = this._findSimilar(key, similarityThreshold);\n    if (similar) {\n      this.stats.hits++;\n      this.stats.apiCallsSaved++;\n      return similar.value;\n    }\n\n    this.stats.misses++;\n    return null;\n  }\n\n  /**\n   * Armazenamento com Política de Evicção\n   * @param {string} key - Chave de cache\n   * @param {*} value - Valor a armazenar\n   * @param {string} category - Categoria (para TTL)\n   */\n  set(key, value, category = \"general-knowledge\") {\n    const size = this._estimateSize(value);\n\n    // Verificar limite de memória\n    if (this.currentMemory + size > this.maxMemory) {\n      this._evictByPolicy();\n    }\n\n    this.cache.set(key, {\n      value,\n      createdAt: Date.now(),\n      lastAccess: Date.now(),\n      accessCount: 0,\n      size,\n      category,\n      ttl: this.ttlConfig[category] || 3600,\n    });\n\n    this.currentMemory += size;\n  }\n\n  /**\n   * Política de Evicção LRU + Categoria\n   * Remove itens menos usados recentemente\n   */\n  _evictByPolicy() {\n    const entries = Array.from(this.cache.entries())\n      .map(([key, entry]) => ({\n        key,\n        ...entry,\n        priority: this._calculateEvictionPriority(entry),\n      }))\n      .sort((a, b) => a.priority - b.priority);\n\n    // Remover 20% dos itens com menor prioridade\n    const toRemove = Math.ceil(entries.length * 0.2);\n    for (let i = 0; i < toRemove; i++) {\n      this._evict(entries[i].key);\n    }\n\n    this.stats.evictions += toRemove;\n  }\n\n  /**\n   * Calcular Prioridade de Evicção\n   * Fórmula: idade + recência - frequência\n   */\n  _calculateEvictionPriority(entry) {\n    const age = Date.now() - entry.createdAt;\n    const recency = Date.now() - entry.lastAccess;\n    const frequency = entry.accessCount;\n\n    // Normalizar em segundos\n    return age / 1000 + recency / 1000 - frequency * 10;\n  }\n\n  /**\n   * Verificar Expiração\n   */\n  _isExpired(entry) {\n    return Date.now() - entry.createdAt > entry.ttl * 1000;\n  }\n\n  /**\n   * Evictar Item do Cache\n   */\n  _evict(key) {\n    const entry = this.cache.get(key);\n    if (entry) {\n      this.currentMemory -= entry.size;\n      this.cache.delete(key);\n    }\n  }\n\n  /**\n   * Busca por Similaridade Semântica\n   */\n  _findSimilar(key, threshold) {\n    for (const [cacheKey, entry] of this.cache) {\n      if (this._calculateSimilarity(key, cacheKey) > threshold) {\n        if (!this._isExpired(entry)) {\n          return entry;\n        }\n      }\n    }\n    return null;\n  }\n\n  /**\n   * Calcular Similaridade entre Chaves\n   * Usa Levenshtein distance normalizada\n   */\n  _calculateSimilarity(key1, key2) {\n    const distance = this._levenshteinDistance(key1, key2);\n    const maxLength = Math.max(key1.length, key2.length);\n    return 1 - distance / maxLength;\n  }\n\n  /**\n   * Distância de Levenshtein\n   */\n  _levenshteinDistance(s1, s2) {\n    const len1 = s1.length;\n    const len2 = s2.length;\n    const matrix = Array(len2 + 1)\n      .fill(null)\n      .map(() => Array(len1 + 1).fill(0));\n\n    for (let i = 0; i <= len1; i++) matrix[0][i] = i;\n    for (let j = 0; j <= len2; j++) matrix[j][0] = j;\n\n    for (let j = 1; j <= len2; j++) {\n      for (let i = 1; i <= len1; i++) {\n        const indicator = s1[i - 1] === s2[j - 1] ? 0 : 1;\n        matrix[j][i] = Math.min(\n          matrix[j][i - 1] + 1,\n          matrix[j - 1][i] + 1,\n          matrix[j - 1][i - 1] + indicator\n        );\n      }\n    }\n\n    return matrix[len2][len1];\n  }\n\n  /**\n   * Estimar Tamanho em MB\n   */\n  _estimateSize(value) {\n    return JSON.stringify(value).length / 1024 / 1024;\n  }\n\n  /**\n   * Hash do Contexto\n   */\n  _hashContext(context) {\n    return crypto.createHash(\"sha256\").update(JSON.stringify(context)).digest(\"hex\");\n  }\n\n  /**\n   * Obter Estatísticas\n   */\n  getStats() {\n    const hitRate =\n      this.stats.totalRequests > 0 ? (this.stats.hits / this.stats.totalRequests) * 100 : 0;\n\n    const memoryUsage = (this.currentMemory / this.maxMemory) * 100;\n\n    // Estimativa de economia: $0.01 por chamada de API\n    const estimatedSavings = this.stats.apiCallsSaved * 0.01;\n\n    return {\n      hits: this.stats.hits,\n      misses: this.stats.misses,\n      totalRequests: this.stats.totalRequests,\n      hitRate: hitRate.toFixed(2) + \"%\",\n      evictions: this.stats.evictions,\n      memoryUsage: memoryUsage.toFixed(2) + \"%\",\n      cacheSize: this.cache.size,\n      estimatedSavings: \"$\" + estimatedSavings.toFixed(2),\n      apiCallsSaved: this.stats.apiCallsSaved,\n    };\n  }\n\n  /**\n   * Limpar Cache Completamente\n   */\n  clear() {\n    this.cache.clear();\n    this.currentMemory = 0;\n    this.stats = {\n      hits: 0,\n      misses: 0,\n      evictions: 0,\n      apiCallsSaved: 0,\n      totalRequests: 0,\n    };\n  }\n\n  /**\n   * Gerar Relatório de Cache\n   */\n  generateReport() {\n    const stats = this.getStats();\n    return `\n╔════════════════════════════════════════╗\n║     INTELLIGENT CACHE - REPORT         ║\n╚════════════════════════════════════════╝\n\nHit Rate: ${stats.hitRate}\nHits: ${stats.hits} | Misses: ${stats.misses}\nTotal Requests: ${stats.totalRequests}\nCache Size: ${stats.cacheSize} items\nMemory Usage: ${stats.memoryUsage}\nEvictions: ${stats.evictions}\n\nAPI Calls Saved: ${stats.apiCallsSaved}\nEstimated Savings: ${stats.estimatedSavings}\n\nTimestamp: ${new Date().toISOString()}\n`;\n  }\n}\n\nmodule.exports = IntelligentCache;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAeY;IAAAA,cAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,cAAA;AAfZ;AACA;AACA;AACA;AACA;;AAEA,MAAME,MAAM;AAAA;AAAA,CAAAF,cAAA,GAAAG,CAAA,OAAGC,OAAO,CAAC,QAAQ,CAAC;AAEhC,MAAMC,gBAAgB,CAAC;EACrBC,WAAWA,CAACC,OAAO;EAAA;EAAA,CAAAP,cAAA,GAAAQ,CAAA,UAAG,CAAC,CAAC,GAAE;IAAA;IAAAR,cAAA,GAAAS,CAAA;IAAAT,cAAA,GAAAG,CAAA;IACxB,IAAI,CAACO,KAAK,GAAG,IAAIC,GAAG,CAAC,CAAC;IAAC;IAAAX,cAAA,GAAAG,CAAA;IACvB,IAAI,CAACS,QAAQ,GAAG,IAAID,GAAG,CAAC,CAAC;;IAEzB;IAAA;IAAAX,cAAA,GAAAG,CAAA;IACA,IAAI,CAACU,SAAS;IAAG;IAAA,CAAAb,cAAA,GAAAQ,CAAA,UAAAD,OAAO,CAACM,SAAS;IAAA;IAAA,CAAAb,cAAA,GAAAQ,CAAA,UAAI,GAAG,EAAC,CAAC;IAAA;IAAAR,cAAA,GAAAG,CAAA;IAC3C,IAAI,CAACW,aAAa,GAAG,CAAC;;IAEtB;IAAA;IAAAd,cAAA,GAAAG,CAAA;IACA,IAAI,CAACY,SAAS,GAAG;MACf,qBAAqB,EAAE,KAAK;MAAE;MAC9B,mBAAmB,EAAE,KAAK;MAAE;MAC5B,cAAc,EAAE,IAAI;MAAE;MACtB,gBAAgB,EAAE,GAAG;MAAE;MACvB,eAAe,EAAE,OAAO,CAAE;IAC5B,CAAC;;IAED;IAAA;IAAAf,cAAA,GAAAG,CAAA;IACA,IAAI,CAACa,KAAK,GAAG;MACXC,IAAI,EAAE,CAAC;MACPC,MAAM,EAAE,CAAC;MACTC,SAAS,EAAE,CAAC;MACZC,aAAa,EAAE,CAAC;MAChBC,aAAa,EAAE;IACjB,CAAC;EACH;;EAEA;AACF;AACA;AACA;AACA;AACA;AACA;EACEC,WAAWA,CAACC,OAAO,EAAEC,MAAM,EAAEC,OAAO;EAAA;EAAA,CAAAzB,cAAA,GAAAQ,CAAA,UAAG,CAAC,CAAC,GAAE;IAAA;IAAAR,cAAA,GAAAS,CAAA;IACzC,MAAMiB,IAAI;IAAA;IAAA,CAAA1B,cAAA,GAAAG,CAAA,OAAGD,MAAM,CAChByB,UAAU,CAAC,QAAQ,CAAC,CACpBC,MAAM,CACLC,IAAI,CAACC,SAAS,CAAC;MACbP,OAAO;MACPC,MAAM,EAAEA,MAAM,CAACO,WAAW,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC;MACnCC,WAAW,EAAE,IAAI,CAACC,YAAY,CAACT,OAAO;IACxC,CAAC,CACH,CAAC,CACAU,MAAM,CAAC,KAAK,CAAC;IAAC;IAAAnC,cAAA,GAAAG,CAAA;IAEjB,OAAO,GAAGoB,OAAO,IAAIG,IAAI,EAAE;EAC7B;;EAEA;AACF;AACA;AACA;AACA;AACA;EACEU,GAAGA,CAACC,GAAG,EAAEC,mBAAmB;EAAA;EAAA,CAAAtC,cAAA,GAAAQ,CAAA,UAAG,IAAI,GAAE;IAAA;IAAAR,cAAA,GAAAS,CAAA;IAAAT,cAAA,GAAAG,CAAA;IACnC,IAAI,CAACa,KAAK,CAACK,aAAa,EAAE;;IAE1B;IAAA;IAAArB,cAAA,GAAAG,CAAA;IACA,IAAI,IAAI,CAACO,KAAK,CAAC6B,GAAG,CAACF,GAAG,CAAC,EAAE;MAAA;MAAArC,cAAA,GAAAQ,CAAA;MACvB,MAAMgC,KAAK;MAAA;MAAA,CAAAxC,cAAA,GAAAG,CAAA,QAAG,IAAI,CAACO,KAAK,CAAC0B,GAAG,CAACC,GAAG,CAAC;MAAC;MAAArC,cAAA,GAAAG,CAAA;MAElC,IAAI,IAAI,CAACsC,UAAU,CAACD,KAAK,CAAC,EAAE;QAAA;QAAAxC,cAAA,GAAAQ,CAAA;QAAAR,cAAA,GAAAG,CAAA;QAC1B,IAAI,CAACuC,MAAM,CAACL,GAAG,CAAC;QAAC;QAAArC,cAAA,GAAAG,CAAA;QACjB,IAAI,CAACa,KAAK,CAACE,MAAM,EAAE;QAAC;QAAAlB,cAAA,GAAAG,CAAA;QACpB,OAAO,IAAI;MACb,CAAC;MAAA;MAAA;QAAAH,cAAA,GAAAQ,CAAA;MAAA;;MAED;MAAAR,cAAA,GAAAG,CAAA;MACAqC,KAAK,CAACG,UAAU,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC;MAAC;MAAA7C,cAAA,GAAAG,CAAA;MAC9BqC,KAAK,CAACM,WAAW,EAAE;MAAC;MAAA9C,cAAA,GAAAG,CAAA;MACpB,IAAI,CAACa,KAAK,CAACC,IAAI,EAAE;MAAC;MAAAjB,cAAA,GAAAG,CAAA;MAClB,IAAI,CAACa,KAAK,CAACI,aAAa,EAAE;MAAC;MAAApB,cAAA,GAAAG,CAAA;MAE3B,OAAOqC,KAAK,CAACO,KAAK;IACpB,CAAC;IAAA;IAAA;MAAA/C,cAAA,GAAAQ,CAAA;IAAA;;IAED;IACA,MAAMwC,OAAO;IAAA;IAAA,CAAAhD,cAAA,GAAAG,CAAA,QAAG,IAAI,CAAC8C,YAAY,CAACZ,GAAG,EAAEC,mBAAmB,CAAC;IAAC;IAAAtC,cAAA,GAAAG,CAAA;IAC5D,IAAI6C,OAAO,EAAE;MAAA;MAAAhD,cAAA,GAAAQ,CAAA;MAAAR,cAAA,GAAAG,CAAA;MACX,IAAI,CAACa,KAAK,CAACC,IAAI,EAAE;MAAC;MAAAjB,cAAA,GAAAG,CAAA;MAClB,IAAI,CAACa,KAAK,CAACI,aAAa,EAAE;MAAC;MAAApB,cAAA,GAAAG,CAAA;MAC3B,OAAO6C,OAAO,CAACD,KAAK;IACtB,CAAC;IAAA;IAAA;MAAA/C,cAAA,GAAAQ,CAAA;IAAA;IAAAR,cAAA,GAAAG,CAAA;IAED,IAAI,CAACa,KAAK,CAACE,MAAM,EAAE;IAAC;IAAAlB,cAAA,GAAAG,CAAA;IACpB,OAAO,IAAI;EACb;;EAEA;AACF;AACA;AACA;AACA;AACA;EACE+C,GAAGA,CAACb,GAAG,EAAEU,KAAK,EAAEI,QAAQ;EAAA;EAAA,CAAAnD,cAAA,GAAAQ,CAAA,UAAG,mBAAmB,GAAE;IAAA;IAAAR,cAAA,GAAAS,CAAA;IAC9C,MAAM2C,IAAI;IAAA;IAAA,CAAApD,cAAA,GAAAG,CAAA,QAAG,IAAI,CAACkD,aAAa,CAACN,KAAK,CAAC;;IAEtC;IAAA;IAAA/C,cAAA,GAAAG,CAAA;IACA,IAAI,IAAI,CAACW,aAAa,GAAGsC,IAAI,GAAG,IAAI,CAACvC,SAAS,EAAE;MAAA;MAAAb,cAAA,GAAAQ,CAAA;MAAAR,cAAA,GAAAG,CAAA;MAC9C,IAAI,CAACmD,cAAc,CAAC,CAAC;IACvB,CAAC;IAAA;IAAA;MAAAtD,cAAA,GAAAQ,CAAA;IAAA;IAAAR,cAAA,GAAAG,CAAA;IAED,IAAI,CAACO,KAAK,CAACwC,GAAG,CAACb,GAAG,EAAE;MAClBU,KAAK;MACLQ,SAAS,EAAEX,IAAI,CAACC,GAAG,CAAC,CAAC;MACrBF,UAAU,EAAEC,IAAI,CAACC,GAAG,CAAC,CAAC;MACtBC,WAAW,EAAE,CAAC;MACdM,IAAI;MACJD,QAAQ;MACRK,GAAG;MAAE;MAAA,CAAAxD,cAAA,GAAAQ,CAAA,cAAI,CAACO,SAAS,CAACoC,QAAQ,CAAC;MAAA;MAAA,CAAAnD,cAAA,GAAAQ,CAAA,UAAI,IAAI;IACvC,CAAC,CAAC;IAAC;IAAAR,cAAA,GAAAG,CAAA;IAEH,IAAI,CAACW,aAAa,IAAIsC,IAAI;EAC5B;;EAEA;AACF;AACA;AACA;EACEE,cAAcA,CAAA,EAAG;IAAA;IAAAtD,cAAA,GAAAS,CAAA;IACf,MAAMgD,OAAO;IAAA;IAAA,CAAAzD,cAAA,GAAAG,CAAA,QAAGuD,KAAK,CAACC,IAAI,CAAC,IAAI,CAACjD,KAAK,CAAC+C,OAAO,CAAC,CAAC,CAAC,CAC7CG,GAAG,CAAC,CAAC,CAACvB,GAAG,EAAEG,KAAK,CAAC,KAAM;MAAA;MAAAxC,cAAA,GAAAS,CAAA;MAAAT,cAAA,GAAAG,CAAA;MAAA;QACtBkC,GAAG;QACH,GAAGG,KAAK;QACRqB,QAAQ,EAAE,IAAI,CAACC,0BAA0B,CAACtB,KAAK;MACjD,CAAC;IAAD,CAAE,CAAC,CACFuB,IAAI,CAAC,CAACC,CAAC,EAAExD,CAAC,KAAK;MAAA;MAAAR,cAAA,GAAAS,CAAA;MAAAT,cAAA,GAAAG,CAAA;MAAA,OAAA6D,CAAC,CAACH,QAAQ,GAAGrD,CAAC,CAACqD,QAAQ;IAAD,CAAC,CAAC;;IAE1C;IACA,MAAMI,QAAQ;IAAA;IAAA,CAAAjE,cAAA,GAAAG,CAAA,QAAG+D,IAAI,CAACC,IAAI,CAACV,OAAO,CAACW,MAAM,GAAG,GAAG,CAAC;IAAC;IAAApE,cAAA,GAAAG,CAAA;IACjD,KAAK,IAAIkE,CAAC;IAAA;IAAA,CAAArE,cAAA,GAAAG,CAAA,QAAG,CAAC,GAAEkE,CAAC,GAAGJ,QAAQ,EAAEI,CAAC,EAAE,EAAE;MAAA;MAAArE,cAAA,GAAAG,CAAA;MACjC,IAAI,CAACuC,MAAM,CAACe,OAAO,CAACY,CAAC,CAAC,CAAChC,GAAG,CAAC;IAC7B;IAAC;IAAArC,cAAA,GAAAG,CAAA;IAED,IAAI,CAACa,KAAK,CAACG,SAAS,IAAI8C,QAAQ;EAClC;;EAEA;AACF;AACA;AACA;EACEH,0BAA0BA,CAACtB,KAAK,EAAE;IAAA;IAAAxC,cAAA,GAAAS,CAAA;IAChC,MAAM6D,GAAG;IAAA;IAAA,CAAAtE,cAAA,GAAAG,CAAA,QAAGyC,IAAI,CAACC,GAAG,CAAC,CAAC,GAAGL,KAAK,CAACe,SAAS;IACxC,MAAMgB,OAAO;IAAA;IAAA,CAAAvE,cAAA,GAAAG,CAAA,QAAGyC,IAAI,CAACC,GAAG,CAAC,CAAC,GAAGL,KAAK,CAACG,UAAU;IAC7C,MAAM6B,SAAS;IAAA;IAAA,CAAAxE,cAAA,GAAAG,CAAA,QAAGqC,KAAK,CAACM,WAAW;;IAEnC;IAAA;IAAA9C,cAAA,GAAAG,CAAA;IACA,OAAOmE,GAAG,GAAG,IAAI,GAAGC,OAAO,GAAG,IAAI,GAAGC,SAAS,GAAG,EAAE;EACrD;;EAEA;AACF;AACA;EACE/B,UAAUA,CAACD,KAAK,EAAE;IAAA;IAAAxC,cAAA,GAAAS,CAAA;IAAAT,cAAA,GAAAG,CAAA;IAChB,OAAOyC,IAAI,CAACC,GAAG,CAAC,CAAC,GAAGL,KAAK,CAACe,SAAS,GAAGf,KAAK,CAACgB,GAAG,GAAG,IAAI;EACxD;;EAEA;AACF;AACA;EACEd,MAAMA,CAACL,GAAG,EAAE;IAAA;IAAArC,cAAA,GAAAS,CAAA;IACV,MAAM+B,KAAK;IAAA;IAAA,CAAAxC,cAAA,GAAAG,CAAA,QAAG,IAAI,CAACO,KAAK,CAAC0B,GAAG,CAACC,GAAG,CAAC;IAAC;IAAArC,cAAA,GAAAG,CAAA;IAClC,IAAIqC,KAAK,EAAE;MAAA;MAAAxC,cAAA,GAAAQ,CAAA;MAAAR,cAAA,GAAAG,CAAA;MACT,IAAI,CAACW,aAAa,IAAI0B,KAAK,CAACY,IAAI;MAAC;MAAApD,cAAA,GAAAG,CAAA;MACjC,IAAI,CAACO,KAAK,CAAC+D,MAAM,CAACpC,GAAG,CAAC;IACxB,CAAC;IAAA;IAAA;MAAArC,cAAA,GAAAQ,CAAA;IAAA;EACH;;EAEA;AACF;AACA;EACEyC,YAAYA,CAACZ,GAAG,EAAEqC,SAAS,EAAE;IAAA;IAAA1E,cAAA,GAAAS,CAAA;IAAAT,cAAA,GAAAG,CAAA;IAC3B,KAAK,MAAM,CAACwE,QAAQ,EAAEnC,KAAK,CAAC,IAAI,IAAI,CAAC9B,KAAK,EAAE;MAAA;MAAAV,cAAA,GAAAG,CAAA;MAC1C,IAAI,IAAI,CAACyE,oBAAoB,CAACvC,GAAG,EAAEsC,QAAQ,CAAC,GAAGD,SAAS,EAAE;QAAA;QAAA1E,cAAA,GAAAQ,CAAA;QAAAR,cAAA,GAAAG,CAAA;QACxD,IAAI,CAAC,IAAI,CAACsC,UAAU,CAACD,KAAK,CAAC,EAAE;UAAA;UAAAxC,cAAA,GAAAQ,CAAA;UAAAR,cAAA,GAAAG,CAAA;UAC3B,OAAOqC,KAAK;QACd,CAAC;QAAA;QAAA;UAAAxC,cAAA,GAAAQ,CAAA;QAAA;MACH,CAAC;MAAA;MAAA;QAAAR,cAAA,GAAAQ,CAAA;MAAA;IACH;IAAC;IAAAR,cAAA,GAAAG,CAAA;IACD,OAAO,IAAI;EACb;;EAEA;AACF;AACA;AACA;EACEyE,oBAAoBA,CAACC,IAAI,EAAEC,IAAI,EAAE;IAAA;IAAA9E,cAAA,GAAAS,CAAA;IAC/B,MAAMsE,QAAQ;IAAA;IAAA,CAAA/E,cAAA,GAAAG,CAAA,QAAG,IAAI,CAAC6E,oBAAoB,CAACH,IAAI,EAAEC,IAAI,CAAC;IACtD,MAAMG,SAAS;IAAA;IAAA,CAAAjF,cAAA,GAAAG,CAAA,QAAG+D,IAAI,CAACgB,GAAG,CAACL,IAAI,CAACT,MAAM,EAAEU,IAAI,CAACV,MAAM,CAAC;IAAC;IAAApE,cAAA,GAAAG,CAAA;IACrD,OAAO,CAAC,GAAG4E,QAAQ,GAAGE,SAAS;EACjC;;EAEA;AACF;AACA;EACED,oBAAoBA,CAACG,EAAE,EAAEC,EAAE,EAAE;IAAA;IAAApF,cAAA,GAAAS,CAAA;IAC3B,MAAM4E,IAAI;IAAA;IAAA,CAAArF,cAAA,GAAAG,CAAA,QAAGgF,EAAE,CAACf,MAAM;IACtB,MAAMkB,IAAI;IAAA;IAAA,CAAAtF,cAAA,GAAAG,CAAA,QAAGiF,EAAE,CAAChB,MAAM;IACtB,MAAMmB,MAAM;IAAA;IAAA,CAAAvF,cAAA,GAAAG,CAAA,QAAGuD,KAAK,CAAC4B,IAAI,GAAG,CAAC,CAAC,CAC3BE,IAAI,CAAC,IAAI,CAAC,CACV5B,GAAG,CAAC,MAAM;MAAA;MAAA5D,cAAA,GAAAS,CAAA;MAAAT,cAAA,GAAAG,CAAA;MAAA,OAAAuD,KAAK,CAAC2B,IAAI,GAAG,CAAC,CAAC,CAACG,IAAI,CAAC,CAAC,CAAC;IAAD,CAAC,CAAC;IAAC;IAAAxF,cAAA,GAAAG,CAAA;IAEtC,KAAK,IAAIkE,CAAC;IAAA;IAAA,CAAArE,cAAA,GAAAG,CAAA,QAAG,CAAC,GAAEkE,CAAC,IAAIgB,IAAI,EAAEhB,CAAC,EAAE,EAAE;MAAA;MAAArE,cAAA,GAAAG,CAAA;MAAAoF,MAAM,CAAC,CAAC,CAAC,CAAClB,CAAC,CAAC,GAAGA,CAAC;IAAA;IAAC;IAAArE,cAAA,GAAAG,CAAA;IACjD,KAAK,IAAIsF,CAAC;IAAA;IAAA,CAAAzF,cAAA,GAAAG,CAAA,QAAG,CAAC,GAAEsF,CAAC,IAAIH,IAAI,EAAEG,CAAC,EAAE,EAAE;MAAA;MAAAzF,cAAA,GAAAG,CAAA;MAAAoF,MAAM,CAACE,CAAC,CAAC,CAAC,CAAC,CAAC,GAAGA,CAAC;IAAA;IAAC;IAAAzF,cAAA,GAAAG,CAAA;IAEjD,KAAK,IAAIsF,CAAC;IAAA;IAAA,CAAAzF,cAAA,GAAAG,CAAA,QAAG,CAAC,GAAEsF,CAAC,IAAIH,IAAI,EAAEG,CAAC,EAAE,EAAE;MAAA;MAAAzF,cAAA,GAAAG,CAAA;MAC9B,KAAK,IAAIkE,CAAC;MAAA;MAAA,CAAArE,cAAA,GAAAG,CAAA,QAAG,CAAC,GAAEkE,CAAC,IAAIgB,IAAI,EAAEhB,CAAC,EAAE,EAAE;QAC9B,MAAMqB,SAAS;QAAA;QAAA,CAAA1F,cAAA,GAAAG,CAAA,QAAGgF,EAAE,CAACd,CAAC,GAAG,CAAC,CAAC,KAAKe,EAAE,CAACK,CAAC,GAAG,CAAC,CAAC;QAAA;QAAA,CAAAzF,cAAA,GAAAQ,CAAA,WAAG,CAAC;QAAA;QAAA,CAAAR,cAAA,GAAAQ,CAAA,WAAG,CAAC;QAAC;QAAAR,cAAA,GAAAG,CAAA;QAClDoF,MAAM,CAACE,CAAC,CAAC,CAACpB,CAAC,CAAC,GAAGH,IAAI,CAACyB,GAAG,CACrBJ,MAAM,CAACE,CAAC,CAAC,CAACpB,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,EACpBkB,MAAM,CAACE,CAAC,GAAG,CAAC,CAAC,CAACpB,CAAC,CAAC,GAAG,CAAC,EACpBkB,MAAM,CAACE,CAAC,GAAG,CAAC,CAAC,CAACpB,CAAC,GAAG,CAAC,CAAC,GAAGqB,SACzB,CAAC;MACH;IACF;IAAC;IAAA1F,cAAA,GAAAG,CAAA;IAED,OAAOoF,MAAM,CAACD,IAAI,CAAC,CAACD,IAAI,CAAC;EAC3B;;EAEA;AACF;AACA;EACEhC,aAAaA,CAACN,KAAK,EAAE;IAAA;IAAA/C,cAAA,GAAAS,CAAA;IAAAT,cAAA,GAAAG,CAAA;IACnB,OAAO0B,IAAI,CAACC,SAAS,CAACiB,KAAK,CAAC,CAACqB,MAAM,GAAG,IAAI,GAAG,IAAI;EACnD;;EAEA;AACF;AACA;EACElC,YAAYA,CAACT,OAAO,EAAE;IAAA;IAAAzB,cAAA,GAAAS,CAAA;IAAAT,cAAA,GAAAG,CAAA;IACpB,OAAOD,MAAM,CAACyB,UAAU,CAAC,QAAQ,CAAC,CAACC,MAAM,CAACC,IAAI,CAACC,SAAS,CAACL,OAAO,CAAC,CAAC,CAACU,MAAM,CAAC,KAAK,CAAC;EAClF;;EAEA;AACF;AACA;EACEyD,QAAQA,CAAA,EAAG;IAAA;IAAA5F,cAAA,GAAAS,CAAA;IACT,MAAMoF,OAAO;IAAA;IAAA,CAAA7F,cAAA,GAAAG,CAAA,QACX,IAAI,CAACa,KAAK,CAACK,aAAa,GAAG,CAAC;IAAA;IAAA,CAAArB,cAAA,GAAAQ,CAAA,WAAI,IAAI,CAACQ,KAAK,CAACC,IAAI,GAAG,IAAI,CAACD,KAAK,CAACK,aAAa,GAAI,GAAG;IAAA;IAAA,CAAArB,cAAA,GAAAQ,CAAA,WAAG,CAAC;IAEvF,MAAMsF,WAAW;IAAA;IAAA,CAAA9F,cAAA,GAAAG,CAAA,QAAI,IAAI,CAACW,aAAa,GAAG,IAAI,CAACD,SAAS,GAAI,GAAG;;IAE/D;IACA,MAAMkF,gBAAgB;IAAA;IAAA,CAAA/F,cAAA,GAAAG,CAAA,QAAG,IAAI,CAACa,KAAK,CAACI,aAAa,GAAG,IAAI;IAAC;IAAApB,cAAA,GAAAG,CAAA;IAEzD,OAAO;MACLc,IAAI,EAAE,IAAI,CAACD,KAAK,CAACC,IAAI;MACrBC,MAAM,EAAE,IAAI,CAACF,KAAK,CAACE,MAAM;MACzBG,aAAa,EAAE,IAAI,CAACL,KAAK,CAACK,aAAa;MACvCwE,OAAO,EAAEA,OAAO,CAACG,OAAO,CAAC,CAAC,CAAC,GAAG,GAAG;MACjC7E,SAAS,EAAE,IAAI,CAACH,KAAK,CAACG,SAAS;MAC/B2E,WAAW,EAAEA,WAAW,CAACE,OAAO,CAAC,CAAC,CAAC,GAAG,GAAG;MACzCC,SAAS,EAAE,IAAI,CAACvF,KAAK,CAAC0C,IAAI;MAC1B2C,gBAAgB,EAAE,GAAG,GAAGA,gBAAgB,CAACC,OAAO,CAAC,CAAC,CAAC;MACnD5E,aAAa,EAAE,IAAI,CAACJ,KAAK,CAACI;IAC5B,CAAC;EACH;;EAEA;AACF;AACA;EACE8E,KAAKA,CAAA,EAAG;IAAA;IAAAlG,cAAA,GAAAS,CAAA;IAAAT,cAAA,GAAAG,CAAA;IACN,IAAI,CAACO,KAAK,CAACwF,KAAK,CAAC,CAAC;IAAC;IAAAlG,cAAA,GAAAG,CAAA;IACnB,IAAI,CAACW,aAAa,GAAG,CAAC;IAAC;IAAAd,cAAA,GAAAG,CAAA;IACvB,IAAI,CAACa,KAAK,GAAG;MACXC,IAAI,EAAE,CAAC;MACPC,MAAM,EAAE,CAAC;MACTC,SAAS,EAAE,CAAC;MACZC,aAAa,EAAE,CAAC;MAChBC,aAAa,EAAE;IACjB,CAAC;EACH;;EAEA;AACF;AACA;EACE8E,cAAcA,CAAA,EAAG;IAAA;IAAAnG,cAAA,GAAAS,CAAA;IACf,MAAMO,KAAK;IAAA;IAAA,CAAAhB,cAAA,GAAAG,CAAA,QAAG,IAAI,CAACyF,QAAQ,CAAC,CAAC;IAAC;IAAA5F,cAAA,GAAAG,CAAA;IAC9B,OAAO;AACX;AACA;AACA;AACA;AACA,YAAYa,KAAK,CAAC6E,OAAO;AACzB,QAAQ7E,KAAK,CAACC,IAAI,cAAcD,KAAK,CAACE,MAAM;AAC5C,kBAAkBF,KAAK,CAACK,aAAa;AACrC,cAAcL,KAAK,CAACiF,SAAS;AAC7B,gBAAgBjF,KAAK,CAAC8E,WAAW;AACjC,aAAa9E,KAAK,CAACG,SAAS;AAC5B;AACA,mBAAmBH,KAAK,CAACI,aAAa;AACtC,qBAAqBJ,KAAK,CAAC+E,gBAAgB;AAC3C;AACA,aAAa,IAAInD,IAAI,CAAC,CAAC,CAACwD,WAAW,CAAC,CAAC;AACrC,CAAC;EACC;AACF;AAAC;AAAApG,cAAA,GAAAG,CAAA;AAEDkG,MAAM,CAACC,OAAO,GAAGjG,gBAAgB","ignoreList":[]}