b46b948cf4b0668a6bd9fd879cb90a85
"use strict";

var _MultimodalProcessor = _interopRequireDefault(require("../MultimodalProcessor.js"));
function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }
/**
 * MULTIMODAL PROCESSOR TESTS
 * Testes unitários para processamento multimodal
 */

describe("MultimodalProcessor", () => {
  let processor;
  beforeEach(() => {
    processor = new _MultimodalProcessor.default();
  });
  describe("Audio Processing", () => {
    describe("validateAudioFile", () => {
      test("deve aceitar formato MP3", () => {
        const validation = processor.validateAudioFile("audio.mp3", 1000000);
        expect(validation.valid).toBe(true);
      });
      test("deve aceitar formato WAV", () => {
        const validation = processor.validateAudioFile("audio.wav", 1000000);
        expect(validation.valid).toBe(true);
      });
      test("deve rejeitar formato inválido", () => {
        const validation = processor.validateAudioFile("audio.exe", 1000000);
        expect(validation.valid).toBe(false);
        expect(validation.error).toContain("não suportado");
      });
      test("deve rejeitar arquivo muito grande", () => {
        const validation = processor.validateAudioFile("audio.mp3", 30 * 1024 * 1024);
        expect(validation.valid).toBe(false);
        expect(validation.error).toContain("muito grande");
      });
    });
    describe("processAudio", () => {
      test("deve processar áudio válido", async () => {
        const audioBuffer = Buffer.from("fake audio data");

        // Mock da API de transcrição
        processor.transcribeAudio = async () => "cria um componente de login";
        const result = await processor.processAudio(audioBuffer, "mp3");
        expect(result.type).toBe("audio");
        expect(result.format).toBe("mp3");
        expect(result.transcript).toBeDefined();
        expect(result.confidence).toBeGreaterThan(0);
      });
      test("deve rejeitar formato não suportado", async () => {
        const audioBuffer = Buffer.from("fake audio data");
        await expect(processor.processAudio(audioBuffer, "exe")).rejects.toThrow();
      });
      test("deve rejeitar arquivo muito grande", async () => {
        const largeBuffer = Buffer.alloc(30 * 1024 * 1024);
        await expect(processor.processAudio(largeBuffer, "mp3")).rejects.toThrow();
      });
    });
    describe("estimateAudioDuration", () => {
      test("deve estimar duração do áudio", async () => {
        const audioBuffer = Buffer.alloc(128000); // ~1 segundo a 128kbps

        const duration = await processor.estimateAudioDuration(audioBuffer, "mp3");
        expect(duration).toBeGreaterThan(0);
      });
    });
  });
  describe("Image Processing", () => {
    describe("validateImageFile", () => {
      test("deve aceitar formato PNG", () => {
        const validation = processor.validateImageFile("image.png", 1000000);
        expect(validation.valid).toBe(true);
      });
      test("deve aceitar formato JPG", () => {
        const validation = processor.validateImageFile("image.jpg", 1000000);
        expect(validation.valid).toBe(true);
      });
      test("deve rejeitar formato inválido", () => {
        const validation = processor.validateImageFile("image.exe", 1000000);
        expect(validation.valid).toBe(false);
      });
      test("deve rejeitar arquivo muito grande", () => {
        const validation = processor.validateImageFile("image.png", 25 * 1024 * 1024);
        expect(validation.valid).toBe(false);
      });
    });
    describe("processImage", () => {
      test("deve processar imagem válida", async () => {
        const imageBuffer = Buffer.from("fake image data");

        // Mock da API de análise
        processor.analyzeImage = async () => ({
          description: "Uma imagem de código",
          labels: ["código", "terminal"],
          confidence: 0.95
        });
        const result = await processor.processImage(imageBuffer, "png");
        expect(result.type).toBe("image");
        expect(result.format).toBe("png");
        expect(result.analysis).toBeDefined();
      });
      test("deve rejeitar formato não suportado", async () => {
        const imageBuffer = Buffer.from("fake image data");
        await expect(processor.processImage(imageBuffer, "exe")).rejects.toThrow();
      });
    });
    describe("extractTextFromImage", () => {
      test("deve extrair texto da imagem", async () => {
        const imageBuffer = Buffer.from("fake image data");

        // Mock da análise
        processor.analyzeImage = async () => ({
          textDetection: [{
            text: "function test()",
            confidence: 0.95
          }, {
            text: "return true;",
            confidence: 0.93
          }],
          description: "Código JavaScript"
        });
        const result = await processor.extractTextFromImage(imageBuffer, "png");
        expect(result.success).toBe(true);
        expect(result.text).toContain("function test()");
        expect(result.confidence).toBeGreaterThan(0);
      });
      test("deve retornar sucesso false quando nenhum texto é encontrado", async () => {
        const imageBuffer = Buffer.from("fake image data");
        processor.analyzeImage = async () => ({
          textDetection: [],
          description: "Imagem sem texto"
        });
        const result = await processor.extractTextFromImage(imageBuffer, "png");
        expect(result.success).toBe(false);
        expect(result.text).toBe("");
      });
    });
    describe("describeImage", () => {
      test("deve descrever imagem", async () => {
        const imageBuffer = Buffer.from("fake image data");
        processor.analyzeImage = async () => ({
          description: "Uma imagem de código JavaScript",
          labels: ["código", "javascript", "terminal"],
          objects: ["monitor", "teclado"],
          confidence: 0.92
        });
        const result = await processor.describeImage(imageBuffer, "png");
        expect(result.description).toBeDefined();
        expect(result.labels.length).toBeGreaterThan(0);
        expect(result.confidence).toBeGreaterThan(0);
      });
    });
    describe("detectCodeInImage", () => {
      test("deve detectar código em imagem", async () => {
        const imageBuffer = Buffer.from("fake image data");
        processor.extractTextFromImage = async () => ({
          success: true,
          text: "function login() { return true; }",
          confidence: 0.95
        });
        const result = await processor.detectCodeInImage(imageBuffer, "png");
        expect(result.success).toBe(true);
        expect(result.code).toContain("function");
        expect(result.language).toBeDefined();
      });
      test("deve identificar linguagem JavaScript", async () => {
        const imageBuffer = Buffer.from("fake image data");
        processor.extractTextFromImage = async () => ({
          success: true,
          text: "const x = 10; function test() {}",
          confidence: 0.95
        });
        const result = await processor.detectCodeInImage(imageBuffer, "png");
        expect(result.language).toBe("javascript");
      });
      test("deve identificar linguagem Python", async () => {
        const imageBuffer = Buffer.from("fake image data");
        processor.extractTextFromImage = async () => ({
          success: true,
          text: 'def test(): print("hello")',
          confidence: 0.95
        });
        const result = await processor.detectCodeInImage(imageBuffer, "png");
        expect(result.language).toBe("python");
      });
      test("deve identificar linguagem SQL", async () => {
        const imageBuffer = Buffer.from("fake image data");
        processor.extractTextFromImage = async () => ({
          success: true,
          text: "SELECT * FROM users WHERE id = 1",
          confidence: 0.95
        });
        const result = await processor.detectCodeInImage(imageBuffer, "png");
        expect(result.language).toBe("sql");
      });
    });
    describe("detectProgrammingLanguage", () => {
      test("deve detectar JavaScript", () => {
        const code = "const x = 10; function test() {}";
        const language = processor.detectProgrammingLanguage(code);
        expect(language).toBe("javascript");
      });
      test("deve detectar Python", () => {
        const code = "def test(): return True";
        const language = processor.detectProgrammingLanguage(code);
        expect(language).toBe("python");
      });
      test("deve detectar Java", () => {
        const code = "public class Test { public static void main() {} }";
        const language = processor.detectProgrammingLanguage(code);
        expect(language).toBe("java");
      });
      test("deve detectar SQL", () => {
        const code = "SELECT * FROM users WHERE id = 1";
        const language = processor.detectProgrammingLanguage(code);
        expect(language).toBe("sql");
      });
      test("deve retornar null para linguagem desconhecida", () => {
        const code = "some random text without code";
        const language = processor.detectProgrammingLanguage(code);
        expect(language).toBeNull();
      });
    });
  });
  describe("Multimodal Processing", () => {
    test("deve processar áudio e imagem simultaneamente", async () => {
      const inputs = {
        audio: {
          buffer: Buffer.from("fake audio"),
          format: "mp3"
        },
        image: {
          buffer: Buffer.from("fake image"),
          format: "png"
        }
      };
      processor.processAudio = async () => ({
        transcript: "cria um componente",
        confidence: 0.95
      });
      processor.processImage = async () => ({
        analysis: {
          description: "Imagem de código"
        }
      });
      const result = await processor.processMultimodal(inputs);
      expect(result.audio).toBeDefined();
      expect(result.image).toBeDefined();
      expect(result.combined).toBeDefined();
    });
    test("deve combinar resultados corretamente", async () => {
      const inputs = {
        audio: {
          buffer: Buffer.from("fake audio"),
          format: "mp3"
        },
        image: {
          buffer: Buffer.from("fake image"),
          format: "png"
        }
      };
      processor.processAudio = async () => ({
        transcript: "cria um componente",
        confidence: 0.95
      });
      processor.processImage = async () => ({
        analysis: {
          description: "Imagem de código"
        }
      });
      const result = await processor.processMultimodal(inputs);
      expect(result.combined.transcript).toBe("cria um componente");
      expect(result.combined.imageAnalysis.description).toBe("Imagem de código");
      expect(result.combined.confidence).toBeDefined();
    });
  });
  describe("Support Information", () => {
    test("deve retornar informações de suporte", () => {
      const info = processor.getSupportInfo();
      expect(info.audio).toBeDefined();
      expect(info.image).toBeDefined();
      expect(info.audio.formats).toContain("mp3");
      expect(info.audio.formats).toContain("wav");
      expect(info.image.formats).toContain("png");
      expect(info.image.formats).toContain("jpg");
    });
    test("deve incluir tamanho máximo de arquivo", () => {
      const info = processor.getSupportInfo();
      expect(info.audio.maxSize).toBe(25 * 1024 * 1024);
      expect(info.image.maxSize).toBe(20 * 1024 * 1024);
    });
    test("deve listar features disponíveis", () => {
      const info = processor.getSupportInfo();
      expect(info.audio.features).toContain("Speech-to-Text");
      expect(info.image.features).toContain("OCR");
      expect(info.image.features).toContain("Code Detection");
    });
  });
  describe("Error Handling", () => {
    test("deve lançar erro para áudio inválido", async () => {
      const audioBuffer = Buffer.from("fake audio");
      processor.transcribeAudio = async () => {
        throw new Error("Erro na transcrição");
      };
      await expect(processor.processAudio(audioBuffer, "mp3")).rejects.toThrow();
    });
    test("deve lançar erro para imagem inválida", async () => {
      const imageBuffer = Buffer.from("fake image");
      processor.analyzeImage = async () => {
        throw new Error("Erro na análise");
      };
      await expect(processor.processImage(imageBuffer, "png")).rejects.toThrow();
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfTXVsdGltb2RhbFByb2Nlc3NvciIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiZGVzY3JpYmUiLCJwcm9jZXNzb3IiLCJiZWZvcmVFYWNoIiwiTXVsdGltb2RhbFByb2Nlc3NvciIsInRlc3QiLCJ2YWxpZGF0aW9uIiwidmFsaWRhdGVBdWRpb0ZpbGUiLCJleHBlY3QiLCJ2YWxpZCIsInRvQmUiLCJlcnJvciIsInRvQ29udGFpbiIsImF1ZGlvQnVmZmVyIiwiQnVmZmVyIiwiZnJvbSIsInRyYW5zY3JpYmVBdWRpbyIsInJlc3VsdCIsInByb2Nlc3NBdWRpbyIsInR5cGUiLCJmb3JtYXQiLCJ0cmFuc2NyaXB0IiwidG9CZURlZmluZWQiLCJjb25maWRlbmNlIiwidG9CZUdyZWF0ZXJUaGFuIiwicmVqZWN0cyIsInRvVGhyb3ciLCJsYXJnZUJ1ZmZlciIsImFsbG9jIiwiZHVyYXRpb24iLCJlc3RpbWF0ZUF1ZGlvRHVyYXRpb24iLCJ2YWxpZGF0ZUltYWdlRmlsZSIsImltYWdlQnVmZmVyIiwiYW5hbHl6ZUltYWdlIiwiZGVzY3JpcHRpb24iLCJsYWJlbHMiLCJwcm9jZXNzSW1hZ2UiLCJhbmFseXNpcyIsInRleHREZXRlY3Rpb24iLCJ0ZXh0IiwiZXh0cmFjdFRleHRGcm9tSW1hZ2UiLCJzdWNjZXNzIiwib2JqZWN0cyIsImRlc2NyaWJlSW1hZ2UiLCJsZW5ndGgiLCJkZXRlY3RDb2RlSW5JbWFnZSIsImNvZGUiLCJsYW5ndWFnZSIsImRldGVjdFByb2dyYW1taW5nTGFuZ3VhZ2UiLCJ0b0JlTnVsbCIsImlucHV0cyIsImF1ZGlvIiwiYnVmZmVyIiwiaW1hZ2UiLCJwcm9jZXNzTXVsdGltb2RhbCIsImNvbWJpbmVkIiwiaW1hZ2VBbmFseXNpcyIsImluZm8iLCJnZXRTdXBwb3J0SW5mbyIsImZvcm1hdHMiLCJtYXhTaXplIiwiZmVhdHVyZXMiLCJFcnJvciJdLCJzb3VyY2VzIjpbIk11bHRpbW9kYWxQcm9jZXNzb3IudGVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIE1VTFRJTU9EQUwgUFJPQ0VTU09SIFRFU1RTXG4gKiBUZXN0ZXMgdW5pdMOhcmlvcyBwYXJhIHByb2Nlc3NhbWVudG8gbXVsdGltb2RhbFxuICovXG5cbmltcG9ydCBNdWx0aW1vZGFsUHJvY2Vzc29yIGZyb20gXCIuLi9NdWx0aW1vZGFsUHJvY2Vzc29yLmpzXCI7XG5cbmRlc2NyaWJlKFwiTXVsdGltb2RhbFByb2Nlc3NvclwiLCAoKSA9PiB7XG4gIGxldCBwcm9jZXNzb3I7XG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgcHJvY2Vzc29yID0gbmV3IE11bHRpbW9kYWxQcm9jZXNzb3IoKTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoXCJBdWRpbyBQcm9jZXNzaW5nXCIsICgpID0+IHtcbiAgICBkZXNjcmliZShcInZhbGlkYXRlQXVkaW9GaWxlXCIsICgpID0+IHtcbiAgICAgIHRlc3QoXCJkZXZlIGFjZWl0YXIgZm9ybWF0byBNUDNcIiwgKCkgPT4ge1xuICAgICAgICBjb25zdCB2YWxpZGF0aW9uID0gcHJvY2Vzc29yLnZhbGlkYXRlQXVkaW9GaWxlKFwiYXVkaW8ubXAzXCIsIDEwMDAwMDApO1xuXG4gICAgICAgIGV4cGVjdCh2YWxpZGF0aW9uLnZhbGlkKS50b0JlKHRydWUpO1xuICAgICAgfSk7XG5cbiAgICAgIHRlc3QoXCJkZXZlIGFjZWl0YXIgZm9ybWF0byBXQVZcIiwgKCkgPT4ge1xuICAgICAgICBjb25zdCB2YWxpZGF0aW9uID0gcHJvY2Vzc29yLnZhbGlkYXRlQXVkaW9GaWxlKFwiYXVkaW8ud2F2XCIsIDEwMDAwMDApO1xuXG4gICAgICAgIGV4cGVjdCh2YWxpZGF0aW9uLnZhbGlkKS50b0JlKHRydWUpO1xuICAgICAgfSk7XG5cbiAgICAgIHRlc3QoXCJkZXZlIHJlamVpdGFyIGZvcm1hdG8gaW52w6FsaWRvXCIsICgpID0+IHtcbiAgICAgICAgY29uc3QgdmFsaWRhdGlvbiA9IHByb2Nlc3Nvci52YWxpZGF0ZUF1ZGlvRmlsZShcImF1ZGlvLmV4ZVwiLCAxMDAwMDAwKTtcblxuICAgICAgICBleHBlY3QodmFsaWRhdGlvbi52YWxpZCkudG9CZShmYWxzZSk7XG4gICAgICAgIGV4cGVjdCh2YWxpZGF0aW9uLmVycm9yKS50b0NvbnRhaW4oXCJuw6NvIHN1cG9ydGFkb1wiKTtcbiAgICAgIH0pO1xuXG4gICAgICB0ZXN0KFwiZGV2ZSByZWplaXRhciBhcnF1aXZvIG11aXRvIGdyYW5kZVwiLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHZhbGlkYXRpb24gPSBwcm9jZXNzb3IudmFsaWRhdGVBdWRpb0ZpbGUoXCJhdWRpby5tcDNcIiwgMzAgKiAxMDI0ICogMTAyNCk7XG5cbiAgICAgICAgZXhwZWN0KHZhbGlkYXRpb24udmFsaWQpLnRvQmUoZmFsc2UpO1xuICAgICAgICBleHBlY3QodmFsaWRhdGlvbi5lcnJvcikudG9Db250YWluKFwibXVpdG8gZ3JhbmRlXCIpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZShcInByb2Nlc3NBdWRpb1wiLCAoKSA9PiB7XG4gICAgICB0ZXN0KFwiZGV2ZSBwcm9jZXNzYXIgw6F1ZGlvIHbDoWxpZG9cIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBhdWRpb0J1ZmZlciA9IEJ1ZmZlci5mcm9tKFwiZmFrZSBhdWRpbyBkYXRhXCIpO1xuXG4gICAgICAgIC8vIE1vY2sgZGEgQVBJIGRlIHRyYW5zY3Jpw6fDo29cbiAgICAgICAgcHJvY2Vzc29yLnRyYW5zY3JpYmVBdWRpbyA9IGFzeW5jICgpID0+IFwiY3JpYSB1bSBjb21wb25lbnRlIGRlIGxvZ2luXCI7XG5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcHJvY2Vzc29yLnByb2Nlc3NBdWRpbyhhdWRpb0J1ZmZlciwgXCJtcDNcIik7XG5cbiAgICAgICAgZXhwZWN0KHJlc3VsdC50eXBlKS50b0JlKFwiYXVkaW9cIik7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZm9ybWF0KS50b0JlKFwibXAzXCIpO1xuICAgICAgICBleHBlY3QocmVzdWx0LnRyYW5zY3JpcHQpLnRvQmVEZWZpbmVkKCk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuY29uZmlkZW5jZSkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgICAgfSk7XG5cbiAgICAgIHRlc3QoXCJkZXZlIHJlamVpdGFyIGZvcm1hdG8gbsOjbyBzdXBvcnRhZG9cIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBhdWRpb0J1ZmZlciA9IEJ1ZmZlci5mcm9tKFwiZmFrZSBhdWRpbyBkYXRhXCIpO1xuXG4gICAgICAgIGF3YWl0IGV4cGVjdChwcm9jZXNzb3IucHJvY2Vzc0F1ZGlvKGF1ZGlvQnVmZmVyLCBcImV4ZVwiKSkucmVqZWN0cy50b1Rocm93KCk7XG4gICAgICB9KTtcblxuICAgICAgdGVzdChcImRldmUgcmVqZWl0YXIgYXJxdWl2byBtdWl0byBncmFuZGVcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBsYXJnZUJ1ZmZlciA9IEJ1ZmZlci5hbGxvYygzMCAqIDEwMjQgKiAxMDI0KTtcblxuICAgICAgICBhd2FpdCBleHBlY3QocHJvY2Vzc29yLnByb2Nlc3NBdWRpbyhsYXJnZUJ1ZmZlciwgXCJtcDNcIikpLnJlamVjdHMudG9UaHJvdygpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZShcImVzdGltYXRlQXVkaW9EdXJhdGlvblwiLCAoKSA9PiB7XG4gICAgICB0ZXN0KFwiZGV2ZSBlc3RpbWFyIGR1cmHDp8OjbyBkbyDDoXVkaW9cIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBhdWRpb0J1ZmZlciA9IEJ1ZmZlci5hbGxvYygxMjgwMDApOyAvLyB+MSBzZWd1bmRvIGEgMTI4a2Jwc1xuXG4gICAgICAgIGNvbnN0IGR1cmF0aW9uID0gYXdhaXQgcHJvY2Vzc29yLmVzdGltYXRlQXVkaW9EdXJhdGlvbihhdWRpb0J1ZmZlciwgXCJtcDNcIik7XG5cbiAgICAgICAgZXhwZWN0KGR1cmF0aW9uKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoXCJJbWFnZSBQcm9jZXNzaW5nXCIsICgpID0+IHtcbiAgICBkZXNjcmliZShcInZhbGlkYXRlSW1hZ2VGaWxlXCIsICgpID0+IHtcbiAgICAgIHRlc3QoXCJkZXZlIGFjZWl0YXIgZm9ybWF0byBQTkdcIiwgKCkgPT4ge1xuICAgICAgICBjb25zdCB2YWxpZGF0aW9uID0gcHJvY2Vzc29yLnZhbGlkYXRlSW1hZ2VGaWxlKFwiaW1hZ2UucG5nXCIsIDEwMDAwMDApO1xuXG4gICAgICAgIGV4cGVjdCh2YWxpZGF0aW9uLnZhbGlkKS50b0JlKHRydWUpO1xuICAgICAgfSk7XG5cbiAgICAgIHRlc3QoXCJkZXZlIGFjZWl0YXIgZm9ybWF0byBKUEdcIiwgKCkgPT4ge1xuICAgICAgICBjb25zdCB2YWxpZGF0aW9uID0gcHJvY2Vzc29yLnZhbGlkYXRlSW1hZ2VGaWxlKFwiaW1hZ2UuanBnXCIsIDEwMDAwMDApO1xuXG4gICAgICAgIGV4cGVjdCh2YWxpZGF0aW9uLnZhbGlkKS50b0JlKHRydWUpO1xuICAgICAgfSk7XG5cbiAgICAgIHRlc3QoXCJkZXZlIHJlamVpdGFyIGZvcm1hdG8gaW52w6FsaWRvXCIsICgpID0+IHtcbiAgICAgICAgY29uc3QgdmFsaWRhdGlvbiA9IHByb2Nlc3Nvci52YWxpZGF0ZUltYWdlRmlsZShcImltYWdlLmV4ZVwiLCAxMDAwMDAwKTtcblxuICAgICAgICBleHBlY3QodmFsaWRhdGlvbi52YWxpZCkudG9CZShmYWxzZSk7XG4gICAgICB9KTtcblxuICAgICAgdGVzdChcImRldmUgcmVqZWl0YXIgYXJxdWl2byBtdWl0byBncmFuZGVcIiwgKCkgPT4ge1xuICAgICAgICBjb25zdCB2YWxpZGF0aW9uID0gcHJvY2Vzc29yLnZhbGlkYXRlSW1hZ2VGaWxlKFwiaW1hZ2UucG5nXCIsIDI1ICogMTAyNCAqIDEwMjQpO1xuXG4gICAgICAgIGV4cGVjdCh2YWxpZGF0aW9uLnZhbGlkKS50b0JlKGZhbHNlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoXCJwcm9jZXNzSW1hZ2VcIiwgKCkgPT4ge1xuICAgICAgdGVzdChcImRldmUgcHJvY2Vzc2FyIGltYWdlbSB2w6FsaWRhXCIsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgaW1hZ2VCdWZmZXIgPSBCdWZmZXIuZnJvbShcImZha2UgaW1hZ2UgZGF0YVwiKTtcblxuICAgICAgICAvLyBNb2NrIGRhIEFQSSBkZSBhbsOhbGlzZVxuICAgICAgICBwcm9jZXNzb3IuYW5hbHl6ZUltYWdlID0gYXN5bmMgKCkgPT4gKHtcbiAgICAgICAgICBkZXNjcmlwdGlvbjogXCJVbWEgaW1hZ2VtIGRlIGPDs2RpZ29cIixcbiAgICAgICAgICBsYWJlbHM6IFtcImPDs2RpZ29cIiwgXCJ0ZXJtaW5hbFwiXSxcbiAgICAgICAgICBjb25maWRlbmNlOiAwLjk1LFxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwcm9jZXNzb3IucHJvY2Vzc0ltYWdlKGltYWdlQnVmZmVyLCBcInBuZ1wiKTtcblxuICAgICAgICBleHBlY3QocmVzdWx0LnR5cGUpLnRvQmUoXCJpbWFnZVwiKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5mb3JtYXQpLnRvQmUoXCJwbmdcIik7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuYW5hbHlzaXMpLnRvQmVEZWZpbmVkKCk7XG4gICAgICB9KTtcblxuICAgICAgdGVzdChcImRldmUgcmVqZWl0YXIgZm9ybWF0byBuw6NvIHN1cG9ydGFkb1wiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGltYWdlQnVmZmVyID0gQnVmZmVyLmZyb20oXCJmYWtlIGltYWdlIGRhdGFcIik7XG5cbiAgICAgICAgYXdhaXQgZXhwZWN0KHByb2Nlc3Nvci5wcm9jZXNzSW1hZ2UoaW1hZ2VCdWZmZXIsIFwiZXhlXCIpKS5yZWplY3RzLnRvVGhyb3coKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoXCJleHRyYWN0VGV4dEZyb21JbWFnZVwiLCAoKSA9PiB7XG4gICAgICB0ZXN0KFwiZGV2ZSBleHRyYWlyIHRleHRvIGRhIGltYWdlbVwiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGltYWdlQnVmZmVyID0gQnVmZmVyLmZyb20oXCJmYWtlIGltYWdlIGRhdGFcIik7XG5cbiAgICAgICAgLy8gTW9jayBkYSBhbsOhbGlzZVxuICAgICAgICBwcm9jZXNzb3IuYW5hbHl6ZUltYWdlID0gYXN5bmMgKCkgPT4gKHtcbiAgICAgICAgICB0ZXh0RGV0ZWN0aW9uOiBbXG4gICAgICAgICAgICB7IHRleHQ6IFwiZnVuY3Rpb24gdGVzdCgpXCIsIGNvbmZpZGVuY2U6IDAuOTUgfSxcbiAgICAgICAgICAgIHsgdGV4dDogXCJyZXR1cm4gdHJ1ZTtcIiwgY29uZmlkZW5jZTogMC45MyB9LFxuICAgICAgICAgIF0sXG4gICAgICAgICAgZGVzY3JpcHRpb246IFwiQ8OzZGlnbyBKYXZhU2NyaXB0XCIsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHByb2Nlc3Nvci5leHRyYWN0VGV4dEZyb21JbWFnZShpbWFnZUJ1ZmZlciwgXCJwbmdcIik7XG5cbiAgICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgICBleHBlY3QocmVzdWx0LnRleHQpLnRvQ29udGFpbihcImZ1bmN0aW9uIHRlc3QoKVwiKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5jb25maWRlbmNlKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICB9KTtcblxuICAgICAgdGVzdChcImRldmUgcmV0b3JuYXIgc3VjZXNzbyBmYWxzZSBxdWFuZG8gbmVuaHVtIHRleHRvIMOpIGVuY29udHJhZG9cIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBpbWFnZUJ1ZmZlciA9IEJ1ZmZlci5mcm9tKFwiZmFrZSBpbWFnZSBkYXRhXCIpO1xuXG4gICAgICAgIHByb2Nlc3Nvci5hbmFseXplSW1hZ2UgPSBhc3luYyAoKSA9PiAoe1xuICAgICAgICAgIHRleHREZXRlY3Rpb246IFtdLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIkltYWdlbSBzZW0gdGV4dG9cIixcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcHJvY2Vzc29yLmV4dHJhY3RUZXh0RnJvbUltYWdlKGltYWdlQnVmZmVyLCBcInBuZ1wiKTtcblxuICAgICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgICAgICBleHBlY3QocmVzdWx0LnRleHQpLnRvQmUoXCJcIik7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKFwiZGVzY3JpYmVJbWFnZVwiLCAoKSA9PiB7XG4gICAgICB0ZXN0KFwiZGV2ZSBkZXNjcmV2ZXIgaW1hZ2VtXCIsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgaW1hZ2VCdWZmZXIgPSBCdWZmZXIuZnJvbShcImZha2UgaW1hZ2UgZGF0YVwiKTtcblxuICAgICAgICBwcm9jZXNzb3IuYW5hbHl6ZUltYWdlID0gYXN5bmMgKCkgPT4gKHtcbiAgICAgICAgICBkZXNjcmlwdGlvbjogXCJVbWEgaW1hZ2VtIGRlIGPDs2RpZ28gSmF2YVNjcmlwdFwiLFxuICAgICAgICAgIGxhYmVsczogW1wiY8OzZGlnb1wiLCBcImphdmFzY3JpcHRcIiwgXCJ0ZXJtaW5hbFwiXSxcbiAgICAgICAgICBvYmplY3RzOiBbXCJtb25pdG9yXCIsIFwidGVjbGFkb1wiXSxcbiAgICAgICAgICBjb25maWRlbmNlOiAwLjkyLFxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwcm9jZXNzb3IuZGVzY3JpYmVJbWFnZShpbWFnZUJ1ZmZlciwgXCJwbmdcIik7XG5cbiAgICAgICAgZXhwZWN0KHJlc3VsdC5kZXNjcmlwdGlvbikudG9CZURlZmluZWQoKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5sYWJlbHMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuY29uZmlkZW5jZSkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZShcImRldGVjdENvZGVJbkltYWdlXCIsICgpID0+IHtcbiAgICAgIHRlc3QoXCJkZXZlIGRldGVjdGFyIGPDs2RpZ28gZW0gaW1hZ2VtXCIsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgaW1hZ2VCdWZmZXIgPSBCdWZmZXIuZnJvbShcImZha2UgaW1hZ2UgZGF0YVwiKTtcblxuICAgICAgICBwcm9jZXNzb3IuZXh0cmFjdFRleHRGcm9tSW1hZ2UgPSBhc3luYyAoKSA9PiAoe1xuICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgdGV4dDogXCJmdW5jdGlvbiBsb2dpbigpIHsgcmV0dXJuIHRydWU7IH1cIixcbiAgICAgICAgICBjb25maWRlbmNlOiAwLjk1LFxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwcm9jZXNzb3IuZGV0ZWN0Q29kZUluSW1hZ2UoaW1hZ2VCdWZmZXIsIFwicG5nXCIpO1xuXG4gICAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5jb2RlKS50b0NvbnRhaW4oXCJmdW5jdGlvblwiKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5sYW5ndWFnZSkudG9CZURlZmluZWQoKTtcbiAgICAgIH0pO1xuXG4gICAgICB0ZXN0KFwiZGV2ZSBpZGVudGlmaWNhciBsaW5ndWFnZW0gSmF2YVNjcmlwdFwiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGltYWdlQnVmZmVyID0gQnVmZmVyLmZyb20oXCJmYWtlIGltYWdlIGRhdGFcIik7XG5cbiAgICAgICAgcHJvY2Vzc29yLmV4dHJhY3RUZXh0RnJvbUltYWdlID0gYXN5bmMgKCkgPT4gKHtcbiAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgIHRleHQ6IFwiY29uc3QgeCA9IDEwOyBmdW5jdGlvbiB0ZXN0KCkge31cIixcbiAgICAgICAgICBjb25maWRlbmNlOiAwLjk1LFxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwcm9jZXNzb3IuZGV0ZWN0Q29kZUluSW1hZ2UoaW1hZ2VCdWZmZXIsIFwicG5nXCIpO1xuXG4gICAgICAgIGV4cGVjdChyZXN1bHQubGFuZ3VhZ2UpLnRvQmUoXCJqYXZhc2NyaXB0XCIpO1xuICAgICAgfSk7XG5cbiAgICAgIHRlc3QoXCJkZXZlIGlkZW50aWZpY2FyIGxpbmd1YWdlbSBQeXRob25cIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBpbWFnZUJ1ZmZlciA9IEJ1ZmZlci5mcm9tKFwiZmFrZSBpbWFnZSBkYXRhXCIpO1xuXG4gICAgICAgIHByb2Nlc3Nvci5leHRyYWN0VGV4dEZyb21JbWFnZSA9IGFzeW5jICgpID0+ICh7XG4gICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICB0ZXh0OiAnZGVmIHRlc3QoKTogcHJpbnQoXCJoZWxsb1wiKScsXG4gICAgICAgICAgY29uZmlkZW5jZTogMC45NSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcHJvY2Vzc29yLmRldGVjdENvZGVJbkltYWdlKGltYWdlQnVmZmVyLCBcInBuZ1wiKTtcblxuICAgICAgICBleHBlY3QocmVzdWx0Lmxhbmd1YWdlKS50b0JlKFwicHl0aG9uXCIpO1xuICAgICAgfSk7XG5cbiAgICAgIHRlc3QoXCJkZXZlIGlkZW50aWZpY2FyIGxpbmd1YWdlbSBTUUxcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBpbWFnZUJ1ZmZlciA9IEJ1ZmZlci5mcm9tKFwiZmFrZSBpbWFnZSBkYXRhXCIpO1xuXG4gICAgICAgIHByb2Nlc3Nvci5leHRyYWN0VGV4dEZyb21JbWFnZSA9IGFzeW5jICgpID0+ICh7XG4gICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICB0ZXh0OiBcIlNFTEVDVCAqIEZST00gdXNlcnMgV0hFUkUgaWQgPSAxXCIsXG4gICAgICAgICAgY29uZmlkZW5jZTogMC45NSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcHJvY2Vzc29yLmRldGVjdENvZGVJbkltYWdlKGltYWdlQnVmZmVyLCBcInBuZ1wiKTtcblxuICAgICAgICBleHBlY3QocmVzdWx0Lmxhbmd1YWdlKS50b0JlKFwic3FsXCIpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZShcImRldGVjdFByb2dyYW1taW5nTGFuZ3VhZ2VcIiwgKCkgPT4ge1xuICAgICAgdGVzdChcImRldmUgZGV0ZWN0YXIgSmF2YVNjcmlwdFwiLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGNvZGUgPSBcImNvbnN0IHggPSAxMDsgZnVuY3Rpb24gdGVzdCgpIHt9XCI7XG4gICAgICAgIGNvbnN0IGxhbmd1YWdlID0gcHJvY2Vzc29yLmRldGVjdFByb2dyYW1taW5nTGFuZ3VhZ2UoY29kZSk7XG5cbiAgICAgICAgZXhwZWN0KGxhbmd1YWdlKS50b0JlKFwiamF2YXNjcmlwdFwiKTtcbiAgICAgIH0pO1xuXG4gICAgICB0ZXN0KFwiZGV2ZSBkZXRlY3RhciBQeXRob25cIiwgKCkgPT4ge1xuICAgICAgICBjb25zdCBjb2RlID0gXCJkZWYgdGVzdCgpOiByZXR1cm4gVHJ1ZVwiO1xuICAgICAgICBjb25zdCBsYW5ndWFnZSA9IHByb2Nlc3Nvci5kZXRlY3RQcm9ncmFtbWluZ0xhbmd1YWdlKGNvZGUpO1xuXG4gICAgICAgIGV4cGVjdChsYW5ndWFnZSkudG9CZShcInB5dGhvblwiKTtcbiAgICAgIH0pO1xuXG4gICAgICB0ZXN0KFwiZGV2ZSBkZXRlY3RhciBKYXZhXCIsICgpID0+IHtcbiAgICAgICAgY29uc3QgY29kZSA9IFwicHVibGljIGNsYXNzIFRlc3QgeyBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbigpIHt9IH1cIjtcbiAgICAgICAgY29uc3QgbGFuZ3VhZ2UgPSBwcm9jZXNzb3IuZGV0ZWN0UHJvZ3JhbW1pbmdMYW5ndWFnZShjb2RlKTtcblxuICAgICAgICBleHBlY3QobGFuZ3VhZ2UpLnRvQmUoXCJqYXZhXCIpO1xuICAgICAgfSk7XG5cbiAgICAgIHRlc3QoXCJkZXZlIGRldGVjdGFyIFNRTFwiLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGNvZGUgPSBcIlNFTEVDVCAqIEZST00gdXNlcnMgV0hFUkUgaWQgPSAxXCI7XG4gICAgICAgIGNvbnN0IGxhbmd1YWdlID0gcHJvY2Vzc29yLmRldGVjdFByb2dyYW1taW5nTGFuZ3VhZ2UoY29kZSk7XG5cbiAgICAgICAgZXhwZWN0KGxhbmd1YWdlKS50b0JlKFwic3FsXCIpO1xuICAgICAgfSk7XG5cbiAgICAgIHRlc3QoXCJkZXZlIHJldG9ybmFyIG51bGwgcGFyYSBsaW5ndWFnZW0gZGVzY29uaGVjaWRhXCIsICgpID0+IHtcbiAgICAgICAgY29uc3QgY29kZSA9IFwic29tZSByYW5kb20gdGV4dCB3aXRob3V0IGNvZGVcIjtcbiAgICAgICAgY29uc3QgbGFuZ3VhZ2UgPSBwcm9jZXNzb3IuZGV0ZWN0UHJvZ3JhbW1pbmdMYW5ndWFnZShjb2RlKTtcblxuICAgICAgICBleHBlY3QobGFuZ3VhZ2UpLnRvQmVOdWxsKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoXCJNdWx0aW1vZGFsIFByb2Nlc3NpbmdcIiwgKCkgPT4ge1xuICAgIHRlc3QoXCJkZXZlIHByb2Nlc3NhciDDoXVkaW8gZSBpbWFnZW0gc2ltdWx0YW5lYW1lbnRlXCIsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGlucHV0cyA9IHtcbiAgICAgICAgYXVkaW86IHtcbiAgICAgICAgICBidWZmZXI6IEJ1ZmZlci5mcm9tKFwiZmFrZSBhdWRpb1wiKSxcbiAgICAgICAgICBmb3JtYXQ6IFwibXAzXCIsXG4gICAgICAgIH0sXG4gICAgICAgIGltYWdlOiB7XG4gICAgICAgICAgYnVmZmVyOiBCdWZmZXIuZnJvbShcImZha2UgaW1hZ2VcIiksXG4gICAgICAgICAgZm9ybWF0OiBcInBuZ1wiLFxuICAgICAgICB9LFxuICAgICAgfTtcblxuICAgICAgcHJvY2Vzc29yLnByb2Nlc3NBdWRpbyA9IGFzeW5jICgpID0+ICh7XG4gICAgICAgIHRyYW5zY3JpcHQ6IFwiY3JpYSB1bSBjb21wb25lbnRlXCIsXG4gICAgICAgIGNvbmZpZGVuY2U6IDAuOTUsXG4gICAgICB9KTtcblxuICAgICAgcHJvY2Vzc29yLnByb2Nlc3NJbWFnZSA9IGFzeW5jICgpID0+ICh7XG4gICAgICAgIGFuYWx5c2lzOiB7IGRlc2NyaXB0aW9uOiBcIkltYWdlbSBkZSBjw7NkaWdvXCIgfSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwcm9jZXNzb3IucHJvY2Vzc011bHRpbW9kYWwoaW5wdXRzKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5hdWRpbykudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuaW1hZ2UpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QocmVzdWx0LmNvbWJpbmVkKS50b0JlRGVmaW5lZCgpO1xuICAgIH0pO1xuXG4gICAgdGVzdChcImRldmUgY29tYmluYXIgcmVzdWx0YWRvcyBjb3JyZXRhbWVudGVcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgaW5wdXRzID0ge1xuICAgICAgICBhdWRpbzoge1xuICAgICAgICAgIGJ1ZmZlcjogQnVmZmVyLmZyb20oXCJmYWtlIGF1ZGlvXCIpLFxuICAgICAgICAgIGZvcm1hdDogXCJtcDNcIixcbiAgICAgICAgfSxcbiAgICAgICAgaW1hZ2U6IHtcbiAgICAgICAgICBidWZmZXI6IEJ1ZmZlci5mcm9tKFwiZmFrZSBpbWFnZVwiKSxcbiAgICAgICAgICBmb3JtYXQ6IFwicG5nXCIsXG4gICAgICAgIH0sXG4gICAgICB9O1xuXG4gICAgICBwcm9jZXNzb3IucHJvY2Vzc0F1ZGlvID0gYXN5bmMgKCkgPT4gKHtcbiAgICAgICAgdHJhbnNjcmlwdDogXCJjcmlhIHVtIGNvbXBvbmVudGVcIixcbiAgICAgICAgY29uZmlkZW5jZTogMC45NSxcbiAgICAgIH0pO1xuXG4gICAgICBwcm9jZXNzb3IucHJvY2Vzc0ltYWdlID0gYXN5bmMgKCkgPT4gKHtcbiAgICAgICAgYW5hbHlzaXM6IHsgZGVzY3JpcHRpb246IFwiSW1hZ2VtIGRlIGPDs2RpZ29cIiB9LFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHByb2Nlc3Nvci5wcm9jZXNzTXVsdGltb2RhbChpbnB1dHMpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmNvbWJpbmVkLnRyYW5zY3JpcHQpLnRvQmUoXCJjcmlhIHVtIGNvbXBvbmVudGVcIik7XG4gICAgICBleHBlY3QocmVzdWx0LmNvbWJpbmVkLmltYWdlQW5hbHlzaXMuZGVzY3JpcHRpb24pLnRvQmUoXCJJbWFnZW0gZGUgY8OzZGlnb1wiKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuY29tYmluZWQuY29uZmlkZW5jZSkudG9CZURlZmluZWQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoXCJTdXBwb3J0IEluZm9ybWF0aW9uXCIsICgpID0+IHtcbiAgICB0ZXN0KFwiZGV2ZSByZXRvcm5hciBpbmZvcm1hw6fDtWVzIGRlIHN1cG9ydGVcIiwgKCkgPT4ge1xuICAgICAgY29uc3QgaW5mbyA9IHByb2Nlc3Nvci5nZXRTdXBwb3J0SW5mbygpO1xuXG4gICAgICBleHBlY3QoaW5mby5hdWRpbykudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChpbmZvLmltYWdlKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KGluZm8uYXVkaW8uZm9ybWF0cykudG9Db250YWluKFwibXAzXCIpO1xuICAgICAgZXhwZWN0KGluZm8uYXVkaW8uZm9ybWF0cykudG9Db250YWluKFwid2F2XCIpO1xuICAgICAgZXhwZWN0KGluZm8uaW1hZ2UuZm9ybWF0cykudG9Db250YWluKFwicG5nXCIpO1xuICAgICAgZXhwZWN0KGluZm8uaW1hZ2UuZm9ybWF0cykudG9Db250YWluKFwianBnXCIpO1xuICAgIH0pO1xuXG4gICAgdGVzdChcImRldmUgaW5jbHVpciB0YW1hbmhvIG3DoXhpbW8gZGUgYXJxdWl2b1wiLCAoKSA9PiB7XG4gICAgICBjb25zdCBpbmZvID0gcHJvY2Vzc29yLmdldFN1cHBvcnRJbmZvKCk7XG5cbiAgICAgIGV4cGVjdChpbmZvLmF1ZGlvLm1heFNpemUpLnRvQmUoMjUgKiAxMDI0ICogMTAyNCk7XG4gICAgICBleHBlY3QoaW5mby5pbWFnZS5tYXhTaXplKS50b0JlKDIwICogMTAyNCAqIDEwMjQpO1xuICAgIH0pO1xuXG4gICAgdGVzdChcImRldmUgbGlzdGFyIGZlYXR1cmVzIGRpc3BvbsOtdmVpc1wiLCAoKSA9PiB7XG4gICAgICBjb25zdCBpbmZvID0gcHJvY2Vzc29yLmdldFN1cHBvcnRJbmZvKCk7XG5cbiAgICAgIGV4cGVjdChpbmZvLmF1ZGlvLmZlYXR1cmVzKS50b0NvbnRhaW4oXCJTcGVlY2gtdG8tVGV4dFwiKTtcbiAgICAgIGV4cGVjdChpbmZvLmltYWdlLmZlYXR1cmVzKS50b0NvbnRhaW4oXCJPQ1JcIik7XG4gICAgICBleHBlY3QoaW5mby5pbWFnZS5mZWF0dXJlcykudG9Db250YWluKFwiQ29kZSBEZXRlY3Rpb25cIik7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKFwiRXJyb3IgSGFuZGxpbmdcIiwgKCkgPT4ge1xuICAgIHRlc3QoXCJkZXZlIGxhbsOnYXIgZXJybyBwYXJhIMOhdWRpbyBpbnbDoWxpZG9cIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgYXVkaW9CdWZmZXIgPSBCdWZmZXIuZnJvbShcImZha2UgYXVkaW9cIik7XG5cbiAgICAgIHByb2Nlc3Nvci50cmFuc2NyaWJlQXVkaW8gPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkVycm8gbmEgdHJhbnNjcmnDp8Ojb1wiKTtcbiAgICAgIH07XG5cbiAgICAgIGF3YWl0IGV4cGVjdChwcm9jZXNzb3IucHJvY2Vzc0F1ZGlvKGF1ZGlvQnVmZmVyLCBcIm1wM1wiKSkucmVqZWN0cy50b1Rocm93KCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KFwiZGV2ZSBsYW7Dp2FyIGVycm8gcGFyYSBpbWFnZW0gaW52w6FsaWRhXCIsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGltYWdlQnVmZmVyID0gQnVmZmVyLmZyb20oXCJmYWtlIGltYWdlXCIpO1xuXG4gICAgICBwcm9jZXNzb3IuYW5hbHl6ZUltYWdlID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFcnJvIG5hIGFuw6FsaXNlXCIpO1xuICAgICAgfTtcblxuICAgICAgYXdhaXQgZXhwZWN0KHByb2Nlc3Nvci5wcm9jZXNzSW1hZ2UoaW1hZ2VCdWZmZXIsIFwicG5nXCIpKS5yZWplY3RzLnRvVGhyb3coKTtcbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdLCJtYXBwaW5ncyI6Ijs7QUFLQSxJQUFBQSxvQkFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQTRELFNBQUFELHVCQUFBRSxDQUFBLFdBQUFBLENBQUEsSUFBQUEsQ0FBQSxDQUFBQyxVQUFBLEdBQUFELENBQUEsS0FBQUUsT0FBQSxFQUFBRixDQUFBO0FBTDVEO0FBQ0E7QUFDQTtBQUNBOztBQUlBRyxRQUFRLENBQUMscUJBQXFCLEVBQUUsTUFBTTtFQUNwQyxJQUFJQyxTQUFTO0VBRWJDLFVBQVUsQ0FBQyxNQUFNO0lBQ2ZELFNBQVMsR0FBRyxJQUFJRSw0QkFBbUIsQ0FBQyxDQUFDO0VBQ3ZDLENBQUMsQ0FBQztFQUVGSCxRQUFRLENBQUMsa0JBQWtCLEVBQUUsTUFBTTtJQUNqQ0EsUUFBUSxDQUFDLG1CQUFtQixFQUFFLE1BQU07TUFDbENJLElBQUksQ0FBQyww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