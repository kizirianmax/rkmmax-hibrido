87d1b5b24bd47cb9fc894b4539ea7cb0
"use strict";

var _SecurityValidator = _interopRequireDefault(require("../SecurityValidator.js"));
function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }
/**
 * SECURITY VALIDATOR TESTS
 * Testes unitários para validação de código
 */

describe("SecurityValidator", () => {
  let validator;
  beforeEach(() => {
    validator = new _SecurityValidator.default();
  });
  describe("validateCode", () => {
    test("deve aceitar código JavaScript válido", async () => {
      const code = `
        function login(email, password) {
          return { email, password };
        }
      `;
      const result = await validator.validateCode(code, "src/login.js");
      expect(result.isValid).toBe(true);
      expect(result.errors.length).toBe(0);
    });
    test("deve rejeitar código com rm -rf", async () => {
      const code = `
        const cmd = 'rm -rf /';
        exec(cmd);
      `;
      const result = await validator.validateCode(code, "src/dangerous.js");
      expect(result.isValid).toBe(false);
      expect(result.severity).toBe("critical");
      expect(result.errors.length).toBeGreaterThan(0);
    });
    test("deve rejeitar código com DROP TABLE", async () => {
      const code = `
        const query = 'DROP TABLE users;';
        db.execute(query);
      `;
      const result = await validator.validateCode(code, "src/db.js");
      expect(result.isValid).toBe(false);
      expect(result.errors[0].type).toBe("BLOCKED_PATTERN_DETECTED");
    });
    test("deve detectar credenciais expostas", async () => {
      const code = `
        const apiKey = 'sk-1234567890abcdef';
        const token = 'ghp_abcdefghijklmnop';
      `;
      const result = await validator.validateCode(code, "src/config.js");
      expect(result.isValid).toBe(false);
      expect(result.errors[0].type).toBe("CREDENTIALS_EXPOSED");
    });
    test("deve rejeitar arquivo com extensão não permitida", async () => {
      const code = "some code";
      const result = await validator.validateCode(code, "src/script.exe");
      expect(result.isValid).toBe(false);
      expect(result.errors[0].type).toBe("INVALID_FILE_EXTENSION");
    });
    test("deve rejeitar modificação de arquivo crítico", async () => {
      const code = "some code";
      const result = await validator.validateCode(code, ".env");
      expect(result.isValid).toBe(false);
      expect(result.errors[0].type).toBe("CRITICAL_FILE_MODIFICATION");
    });
    test("deve avisar sobre console.log em produção", async () => {
      const code = `
        function test() {
          console.log('debug');
        }
      `;
      const result = await validator.validateCode(code, "src/production.js");
      expect(result.isValid).toBe(true);
      expect(result.warnings.length).toBeGreaterThan(0);
      expect(result.warnings[0].type).toBe("CONSOLE_LOG_IN_PRODUCTION");
    });
    test("deve avisar sobre TODO/FIXME", async () => {
      const code = `
        // TODO: Implementar autenticação
        function login() {}
      `;
      const result = await validator.validateCode(code, "src/auth.js");
      expect(result.warnings.some(w => w.type === "UNFINISHED_CODE")).toBe(true);
    });
    test("deve detectar chaves desbalanceadas", async () => {
      const code = `
        function test() {
          return { key: 'value'
        }
      `;
      const result = await validator.validateCode(code, "src/broken.js");
      expect(result.warnings.length).toBeGreaterThan(0);
    });
    test("deve validar JSON válido", async () => {
      const code = '{"name": "test", "value": 123}';
      const result = await validator.validateCode(code, "config.json");
      expect(result.isValid).toBe(true);
    });
    test("deve rejeitar JSON inválido", async () => {
      const code = '{"name": "test", "value": 123,}';
      const result = await validator.validateCode(code, "config.json");
      expect(result.warnings.length).toBeGreaterThan(0);
    });
  });
  describe("validateFiles", () => {
    test("deve validar múltiplos arquivos", async () => {
      const files = [{
        path: "src/file1.js",
        content: "function test() { return true; }"
      }, {
        path: "src/file2.js",
        content: "const x = 10;"
      }];
      const result = await validator.validateFiles(files);
      expect(result.validFiles).toBe(2);
      expect(result.invalidFiles).toBe(0);
      expect(result.isValid).toBe(true);
    });
    test("deve bloquear se um arquivo for inválido", async () => {
      const files = [{
        path: "src/file1.js",
        content: "function test() { return true; }"
      }, {
        path: "src/dangerous.js",
        content: 'exec("rm -rf /");'
      }];
      const result = await validator.validateFiles(files);
      expect(result.invalidFiles).toBe(1);
      expect(result.isValid).toBe(false);
    });
  });
  describe("checkBlockedPatterns", () => {
    test("deve detectar padrões destrutivos", () => {
      const code = "rm -rf /home";
      const result = validator.checkBlockedPatterns(code);
      expect(result.found.length).toBeGreaterThan(0);
      expect(result.found).toContain("destructive");
    });
    test("deve detectar código malicioso", () => {
      const code = 'eval("malicious code")';
      const result = validator.checkBlockedPatterns(code);
      expect(result.found).toContain("malicious");
    });
    test("deve detectar acesso a arquivos críticos", () => {
      const code = 'fs.readFile(".env", "utf8")';
      const result = validator.checkBlockedPatterns(code);
      expect(result.found).toContain("criticalFiles");
    });
  });
  describe("checkCredentials", () => {
    test("deve detectar API keys", () => {
      const code = 'const key = "sk_live_1234567890abcdef";';
      const result = validator.checkCredentials(code);
      expect(result.found.length).toBeGreaterThan(0);
    });
    test("deve detectar tokens GitHub", () => {
      const code = 'const token = "ghp_abcdefghijklmnopqrstuvwxyz";';
      const result = validator.checkCredentials(code);
      expect(result.found.length).toBeGreaterThan(0);
    });
  });
  describe("checkSyntax", () => {
    test("deve validar sintaxe JavaScript", () => {
      const code = 'const x = { key: "value" };';
      const result = validator.checkSyntax(code, "test.js");
      expect(result.isValid).toBe(true);
    });
    test("deve detectar chaves desbalanceadas", () => {
      const code = 'const x = { key: "value" };';
      const result = validator.checkSyntax(code, "test.js");
      expect(result.isValid).toBe(true);
    });
  });
  describe("generateSecurityReport", () => {
    test("deve gerar relatório de segurança", async () => {
      const files = [{
        path: "src/test.js",
        content: "function test() { return true; }"
      }];
      const validation = await validator.validateFiles(files);
      const report = validator.generateSecurityReport(validation);
      expect(report.summary).toBeDefined();
      expect(report.summary.totalChecks).toBe(1);
      expect(report.recommendation).toBeDefined();
    });
  });
  describe("isAllowedExtension", () => {
    test("deve permitir extensões válidas", () => {
      expect(validator.isAllowedExtension("test.js")).toBe(true);
      expect(validator.isAllowedExtension("test.jsx")).toBe(true);
      expect(validator.isAllowedExtension("test.ts")).toBe(true);
      expect(validator.isAllowedExtension("test.json")).toBe(true);
    });
    test("deve rejeitar extensões inválidas", () => {
      expect(validator.isAllowedExtension("test.exe")).toBe(false);
      expect(validator.isAllowedExtension("test.bat")).toBe(false);
      expect(validator.isAllowedExtension("test.sh")).toBe(false);
    });
  });
  describe("isCriticalFile", () => {
    test("deve identificar arquivos críticos", () => {
      expect(validator.isCriticalFile(".env")).toBe(true);
      expect(validator.isCriticalFile(".git/config")).toBe(true);
      expect(validator.isCriticalFile("node_modules/package.json")).toBe(true);
    });
    test("deve permitir arquivos normais", () => {
      expect(validator.isCriticalFile("src/test.js")).toBe(false);
      expect(validator.isCriticalFile("components/Button.jsx")).toBe(false);
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfU2VjdXJpdHlWYWxpZGF0b3IiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsImUiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImRlc2NyaWJlIiwidmFsaWRhdG9yIiwiYmVmb3JlRWFjaCIsIlNlY3VyaXR5VmFsaWRhdG9yIiwidGVzdCIsImNvZGUiLCJyZXN1bHQiLCJ2YWxpZGF0ZUNvZGUiLCJleHBlY3QiLCJpc1ZhbGlkIiwidG9CZSIsImVycm9ycyIsImxlbmd0aCIsInNldmVyaXR5IiwidG9CZUdyZWF0ZXJUaGFuIiwidHlwZSIsIndhcm5pbmdzIiwic29tZSIsInciLCJmaWxlcyIsInBhdGgiLCJjb250ZW50IiwidmFsaWRhdGVGaWxlcyIsInZhbGlkRmlsZXMiLCJpbnZhbGlkRmlsZXMiLCJjaGVja0Jsb2NrZWRQYXR0ZXJucyIsImZvdW5kIiwidG9Db250YWluIiwiY2hlY2tDcmVkZW50aWFscyIsImNoZWNrU3ludGF4IiwidmFsaWRhdGlvbiIsInJlcG9ydCIsImdlbmVyYXRlU2VjdXJpdHlSZXBvcnQiLCJzdW1tYXJ5IiwidG9CZURlZmluZWQiLCJ0b3RhbENoZWNrcyIsInJlY29tbWVuZGF0aW9uIiwiaXNBbGxvd2VkRXh0ZW5zaW9uIiwiaXNDcml0aWNhbEZpbGUiXSwic291cmNlcyI6WyJTZWN1cml0eVZhbGlkYXRvci50ZXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogU0VDVVJJVFkgVkFMSURBVE9SIFRFU1RTXG4gKiBUZXN0ZXMgdW5pdMOhcmlvcyBwYXJhIHZhbGlkYcOnw6NvIGRlIGPDs2RpZ29cbiAqL1xuXG5pbXBvcnQgU2VjdXJpdHlWYWxpZGF0b3IgZnJvbSAnLi4vU2VjdXJpdHlWYWxpZGF0b3IuanMnO1xuXG5kZXNjcmliZShcIlNlY3VyaXR5VmFsaWRhdG9yXCIsICgpID0+IHtcbiAgbGV0IHZhbGlkYXRvcjtcblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICB2YWxpZGF0b3IgPSBuZXcgU2VjdXJpdHlWYWxpZGF0b3IoKTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoXCJ2YWxpZGF0ZUNvZGVcIiwgKCkgPT4ge1xuICAgIHRlc3QoXCJkZXZlIGFjZWl0YXIgY8OzZGlnbyBKYXZhU2NyaXB0IHbDoWxpZG9cIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgY29kZSA9IGBcbiAgICAgICAgZnVuY3Rpb24gbG9naW4oZW1haWwsIHBhc3N3b3JkKSB7XG4gICAgICAgICAgcmV0dXJuIHsgZW1haWwsIHBhc3N3b3JkIH07XG4gICAgICAgIH1cbiAgICAgIGA7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHZhbGlkYXRvci52YWxpZGF0ZUNvZGUoY29kZSwgXCJzcmMvbG9naW4uanNcIik7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuaXNWYWxpZCkudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3JzLmxlbmd0aCkudG9CZSgwKTtcbiAgICB9KTtcblxuICAgIHRlc3QoXCJkZXZlIHJlamVpdGFyIGPDs2RpZ28gY29tIHJtIC1yZlwiLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBjb2RlID0gYFxuICAgICAgICBjb25zdCBjbWQgPSAncm0gLXJmIC8nO1xuICAgICAgICBleGVjKGNtZCk7XG4gICAgICBgO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB2YWxpZGF0b3IudmFsaWRhdGVDb2RlKGNvZGUsIFwic3JjL2Rhbmdlcm91cy5qc1wiKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5pc1ZhbGlkKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuc2V2ZXJpdHkpLnRvQmUoXCJjcml0aWNhbFwiKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3JzLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgIH0pO1xuXG4gICAgdGVzdChcImRldmUgcmVqZWl0YXIgY8OzZGlnbyBjb20gRFJPUCBUQUJMRVwiLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBjb2RlID0gYFxuICAgICAgICBjb25zdCBxdWVyeSA9ICdEUk9QIFRBQkxFIHVzZXJzOyc7XG4gICAgICAgIGRiLmV4ZWN1dGUocXVlcnkpO1xuICAgICAgYDtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdmFsaWRhdG9yLnZhbGlkYXRlQ29kZShjb2RlLCBcInNyYy9kYi5qc1wiKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5pc1ZhbGlkKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3JzWzBdLnR5cGUpLnRvQmUoXCJCTE9DS0VEX1BBVFRFUk5fREVURUNURURcIik7XG4gICAgfSk7XG5cbiAgICB0ZXN0KFwiZGV2ZSBkZXRlY3RhciBjcmVkZW5jaWFpcyBleHBvc3Rhc1wiLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBjb2RlID0gYFxuICAgICAgICBjb25zdCBhcGlLZXkgPSAnc2stMTIzNDU2Nzg5MGFiY2RlZic7XG4gICAgICAgIGNvbnN0IHRva2VuID0gJ2docF9hYmNkZWZnaGlqa2xtbm9wJztcbiAgICAgIGA7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHZhbGlkYXRvci52YWxpZGF0ZUNvZGUoY29kZSwgXCJzcmMvY29uZmlnLmpzXCIpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmlzVmFsaWQpLnRvQmUoZmFsc2UpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvcnNbMF0udHlwZSkudG9CZShcIkNSRURFTlRJQUxTX0VYUE9TRURcIik7XG4gICAgfSk7XG5cbiAgICB0ZXN0KFwiZGV2ZSByZWplaXRhciBhcnF1aXZvIGNvbSBleHRlbnPDo28gbsOjbyBwZXJtaXRpZGFcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgY29kZSA9IFwic29tZSBjb2RlXCI7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHZhbGlkYXRvci52YWxpZGF0ZUNvZGUoY29kZSwgXCJzcmMvc2NyaXB0LmV4ZVwiKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5pc1ZhbGlkKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3JzWzBdLnR5cGUpLnRvQmUoXCJJTlZBTElEX0ZJTEVfRVhURU5TSU9OXCIpO1xuICAgIH0pO1xuXG4gICAgdGVzdChcImRldmUgcmVqZWl0YXIgbW9kaWZpY2HDp8OjbyBkZSBhcnF1aXZvIGNyw610aWNvXCIsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGNvZGUgPSBcInNvbWUgY29kZVwiO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB2YWxpZGF0b3IudmFsaWRhdGVDb2RlKGNvZGUsIFwiLmVudlwiKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5pc1ZhbGlkKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3JzWzBdLnR5cGUpLnRvQmUoXCJDUklUSUNBTF9GSUxFX01PRElGSUNBVElPTlwiKTtcbiAgICB9KTtcblxuICAgIHRlc3QoXCJkZXZlIGF2aXNhciBzb2JyZSBjb25zb2xlLmxvZyBlbSBwcm9kdcOnw6NvXCIsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGNvZGUgPSBgXG4gICAgICAgIGZ1bmN0aW9uIHRlc3QoKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ2RlYnVnJyk7XG4gICAgICAgIH1cbiAgICAgIGA7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHZhbGlkYXRvci52YWxpZGF0ZUNvZGUoY29kZSwgXCJzcmMvcHJvZHVjdGlvbi5qc1wiKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5pc1ZhbGlkKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHJlc3VsdC53YXJuaW5ncy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgIGV4cGVjdChyZXN1bHQud2FybmluZ3NbMF0udHlwZSkudG9CZShcIkNPTlNPTEVfTE9HX0lOX1BST0RVQ1RJT05cIik7XG4gICAgfSk7XG5cbiAgICB0ZXN0KFwiZGV2ZSBhdmlzYXIgc29icmUgVE9ETy9GSVhNRVwiLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBjb2RlID0gYFxuICAgICAgICAvLyBUT0RPOiBJbXBsZW1lbnRhciBhdXRlbnRpY2HDp8Ojb1xuICAgICAgICBmdW5jdGlvbiBsb2dpbigpIHt9XG4gICAgICBgO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB2YWxpZGF0b3IudmFsaWRhdGVDb2RlKGNvZGUsIFwic3JjL2F1dGguanNcIik7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQud2FybmluZ3Muc29tZSgodykgPT4gdy50eXBlID09PSBcIlVORklOSVNIRURfQ09ERVwiKSkudG9CZSh0cnVlKTtcbiAgICB9KTtcblxuICAgIHRlc3QoXCJkZXZlIGRldGVjdGFyIGNoYXZlcyBkZXNiYWxhbmNlYWRhc1wiLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBjb2RlID0gYFxuICAgICAgICBmdW5jdGlvbiB0ZXN0KCkge1xuICAgICAgICAgIHJldHVybiB7IGtleTogJ3ZhbHVlJ1xuICAgICAgICB9XG4gICAgICBgO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB2YWxpZGF0b3IudmFsaWRhdGVDb2RlKGNvZGUsIFwic3JjL2Jyb2tlbi5qc1wiKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC53YXJuaW5ncy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICB9KTtcblxuICAgIHRlc3QoXCJkZXZlIHZhbGlkYXIgSlNPTiB2w6FsaWRvXCIsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGNvZGUgPSAne1wibmFtZVwiOiBcInRlc3RcIiwgXCJ2YWx1ZVwiOiAxMjN9JztcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdmFsaWRhdG9yLnZhbGlkYXRlQ29kZShjb2RlLCBcImNvbmZpZy5qc29uXCIpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmlzVmFsaWQpLnRvQmUodHJ1ZSk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KFwiZGV2ZSByZWplaXRhciBKU09OIGludsOhbGlkb1wiLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBjb2RlID0gJ3tcIm5hbWVcIjogXCJ0ZXN0XCIsIFwidmFsdWVcIjogMTIzLH0nO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB2YWxpZGF0b3IudmFsaWRhdGVDb2RlKGNvZGUsIFwiY29uZmlnLmpzb25cIik7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQud2FybmluZ3MubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKFwidmFsaWRhdGVGaWxlc1wiLCAoKSA9PiB7XG4gICAgdGVzdChcImRldmUgdmFsaWRhciBtw7psdGlwbG9zIGFycXVpdm9zXCIsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGZpbGVzID0gW1xuICAgICAgICB7XG4gICAgICAgICAgcGF0aDogXCJzcmMvZmlsZTEuanNcIixcbiAgICAgICAgICBjb250ZW50OiBcImZ1bmN0aW9uIHRlc3QoKSB7IHJldHVybiB0cnVlOyB9XCIsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBwYXRoOiBcInNyYy9maWxlMi5qc1wiLFxuICAgICAgICAgIGNvbnRlbnQ6IFwiY29uc3QgeCA9IDEwO1wiLFxuICAgICAgICB9LFxuICAgICAgXTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdmFsaWRhdG9yLnZhbGlkYXRlRmlsZXMoZmlsZXMpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnZhbGlkRmlsZXMpLnRvQmUoMik7XG4gICAgICBleHBlY3QocmVzdWx0LmludmFsaWRGaWxlcykudG9CZSgwKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuaXNWYWxpZCkudG9CZSh0cnVlKTtcbiAgICB9KTtcblxuICAgIHRlc3QoXCJkZXZlIGJsb3F1ZWFyIHNlIHVtIGFycXVpdm8gZm9yIGludsOhbGlkb1wiLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBmaWxlcyA9IFtcbiAgICAgICAge1xuICAgICAgICAgIHBhdGg6IFwic3JjL2ZpbGUxLmpzXCIsXG4gICAgICAgICAgY29udGVudDogXCJmdW5jdGlvbiB0ZXN0KCkgeyByZXR1cm4gdHJ1ZTsgfVwiLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgcGF0aDogXCJzcmMvZGFuZ2Vyb3VzLmpzXCIsXG4gICAgICAgICAgY29udGVudDogJ2V4ZWMoXCJybSAtcmYgL1wiKTsnLFxuICAgICAgICB9LFxuICAgICAgXTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdmFsaWRhdG9yLnZhbGlkYXRlRmlsZXMoZmlsZXMpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmludmFsaWRGaWxlcykudG9CZSgxKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuaXNWYWxpZCkudG9CZShmYWxzZSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKFwiY2hlY2tCbG9ja2VkUGF0dGVybnNcIiwgKCkgPT4ge1xuICAgIHRlc3QoXCJkZXZlIGRldGVjdGFyIHBhZHLDtWVzIGRlc3RydXRpdm9zXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IGNvZGUgPSBcInJtIC1yZiAvaG9tZVwiO1xuICAgICAgY29uc3QgcmVzdWx0ID0gdmFsaWRhdG9yLmNoZWNrQmxvY2tlZFBhdHRlcm5zKGNvZGUpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmZvdW5kLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgICAgZXhwZWN0KHJlc3VsdC5mb3VuZCkudG9Db250YWluKFwiZGVzdHJ1Y3RpdmVcIik7XG4gICAgfSk7XG5cbiAgICB0ZXN0KFwiZGV2ZSBkZXRlY3RhciBjw7NkaWdvIG1hbGljaW9zb1wiLCAoKSA9PiB7XG4gICAgICBjb25zdCBjb2RlID0gJ2V2YWwoXCJtYWxpY2lvdXMgY29kZVwiKSc7XG4gICAgICBjb25zdCByZXN1bHQgPSB2YWxpZGF0b3IuY2hlY2tCbG9ja2VkUGF0dGVybnMoY29kZSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuZm91bmQpLnRvQ29udGFpbihcIm1hbGljaW91c1wiKTtcbiAgICB9KTtcblxuICAgIHRlc3QoXCJkZXZlIGRldGVjdGFyIGFjZXNzbyBhIGFycXVpdm9zIGNyw610aWNvc1wiLCAoKSA9PiB7XG4gICAgICBjb25zdCBjb2RlID0gJ2ZzLnJlYWRGaWxlKFwiLmVudlwiLCBcInV0ZjhcIiknO1xuICAgICAgY29uc3QgcmVzdWx0ID0gdmFsaWRhdG9yLmNoZWNrQmxvY2tlZFBhdHRlcm5zKGNvZGUpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmZvdW5kKS50b0NvbnRhaW4oXCJjcml0aWNhbEZpbGVzXCIpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZShcImNoZWNrQ3JlZGVudGlhbHNcIiwgKCkgPT4ge1xuICAgIHRlc3QoXCJkZXZlIGRldGVjdGFyIEFQSSBrZXlzXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IGNvZGUgPSAnY29uc3Qga2V5ID0gXCJza19saXZlXzEyMzQ1Njc4OTBhYmNkZWZcIjsnO1xuICAgICAgY29uc3QgcmVzdWx0ID0gdmFsaWRhdG9yLmNoZWNrQ3JlZGVudGlhbHMoY29kZSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuZm91bmQubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KFwiZGV2ZSBkZXRlY3RhciB0b2tlbnMgR2l0SHViXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IGNvZGUgPSAnY29uc3QgdG9rZW4gPSBcImdocF9hYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5elwiOyc7XG4gICAgICBjb25zdCByZXN1bHQgPSB2YWxpZGF0b3IuY2hlY2tDcmVkZW50aWFscyhjb2RlKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5mb3VuZC5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoXCJjaGVja1N5bnRheFwiLCAoKSA9PiB7XG4gICAgdGVzdChcImRldmUgdmFsaWRhciBzaW50YXhlIEphdmFTY3JpcHRcIiwgKCkgPT4ge1xuICAgICAgY29uc3QgY29kZSA9ICdjb25zdCB4ID0geyBrZXk6IFwidmFsdWVcIiB9Oyc7XG4gICAgICBjb25zdCByZXN1bHQgPSB2YWxpZGF0b3IuY2hlY2tTeW50YXgoY29kZSwgXCJ0ZXN0LmpzXCIpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmlzVmFsaWQpLnRvQmUodHJ1ZSk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KFwiZGV2ZSBkZXRlY3RhciBjaGF2ZXMgZGVzYmFsYW5jZWFkYXNcIiwgKCkgPT4ge1xuICAgICAgY29uc3QgY29kZSA9ICdjb25zdCB4ID0geyBrZXk6IFwidmFsdWVcIiB9Oyc7XG4gICAgICBjb25zdCByZXN1bHQgPSB2YWxpZGF0b3IuY2hlY2tTeW50YXgoY29kZSwgXCJ0ZXN0LmpzXCIpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmlzVmFsaWQpLnRvQmUodHJ1ZSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKFwiZ2VuZXJhdGVTZWN1cml0eVJlcG9ydFwiLCAoKSA9PiB7XG4gICAgdGVzdChcImRldmUgZ2VyYXIgcmVsYXTDs3JpbyBkZSBzZWd1cmFuw6dhXCIsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGZpbGVzID0gW1xuICAgICAgICB7XG4gICAgICAgICAgcGF0aDogXCJzcmMvdGVzdC5qc1wiLFxuICAgICAgICAgIGNvbnRlbnQ6IFwiZnVuY3Rpb24gdGVzdCgpIHsgcmV0dXJuIHRydWU7IH1cIixcbiAgICAgICAgfSxcbiAgICAgIF07XG5cbiAgICAgIGNvbnN0IHZhbGlkYXRpb24gPSBhd2FpdCB2YWxpZGF0b3IudmFsaWRhdGVGaWxlcyhmaWxlcyk7XG4gICAgICBjb25zdCByZXBvcnQgPSB2YWxpZGF0b3IuZ2VuZXJhdGVTZWN1cml0eVJlcG9ydCh2YWxpZGF0aW9uKTtcblxuICAgICAgZXhwZWN0KHJlcG9ydC5zdW1tYXJ5KS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KHJlcG9ydC5zdW1tYXJ5LnRvdGFsQ2hlY2tzKS50b0JlKDEpO1xuICAgICAgZXhwZWN0KHJlcG9ydC5yZWNvbW1lbmRhdGlvbikudG9CZURlZmluZWQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoXCJpc0FsbG93ZWRFeHRlbnNpb25cIiwgKCkgPT4ge1xuICAgIHRlc3QoXCJkZXZlIHBlcm1pdGlyIGV4dGVuc8O1ZXMgdsOhbGlkYXNcIiwgKCkgPT4ge1xuICAgICAgZXhwZWN0KHZhbGlkYXRvci5pc0FsbG93ZWRFeHRlbnNpb24oXCJ0ZXN0LmpzXCIpKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHZhbGlkYXRvci5pc0FsbG93ZWRFeHRlbnNpb24oXCJ0ZXN0LmpzeFwiKSkudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdCh2YWxpZGF0b3IuaXNBbGxvd2VkRXh0ZW5zaW9uKFwidGVzdC50c1wiKSkudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdCh2YWxpZGF0b3IuaXNBbGxvd2VkRXh0ZW5zaW9uKFwidGVzdC5qc29uXCIpKS50b0JlKHRydWUpO1xuICAgIH0pO1xuXG4gICAgdGVzdChcImRldmUgcmVqZWl0YXIgZXh0ZW5zw7VlcyBpbnbDoWxpZGFzXCIsICgpID0+IHtcbiAgICAgIGV4cGVjdCh2YWxpZGF0b3IuaXNBbGxvd2VkRXh0ZW5zaW9uKFwidGVzdC5leGVcIikpLnRvQmUoZmFsc2UpO1xuICAgICAgZXhwZWN0KHZhbGlkYXRvci5pc0FsbG93ZWRFeHRlbnNpb24oXCJ0ZXN0LmJhdFwiKSkudG9CZShmYWxzZSk7XG4gICAgICBleHBlY3QodmFsaWRhdG9yLmlzQWxsb3dlZEV4dGVuc2lvbihcInRlc3Quc2hcIikpLnRvQmUoZmFsc2UpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZShcImlzQ3JpdGljYWxGaWxlXCIsICgpID0+IHtcbiAgICB0ZXN0KFwiZGV2ZSBpZGVudGlmaWNhciBhcnF1aXZvcyBjcsOtdGljb3NcIiwgKCkgPT4ge1xuICAgICAgZXhwZWN0KHZhbGlkYXRvci5pc0NyaXRpY2FsRmlsZShcIi5lbnZcIikpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QodmFsaWRhdG9yLmlzQ3JpdGljYWxGaWxlKFwiLmdpdC9jb25maWdcIikpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QodmFsaWRhdG9yLmlzQ3JpdGljYWxGaWxlKFwibm9kZV9tb2R1bGVzL3BhY2thZ2UuanNvblwiKSkudG9CZSh0cnVlKTtcbiAgICB9KTtcblxuICAgIHRlc3QoXCJkZXZlIHBlcm1pdGlyIGFycXVpdm9zIG5vcm1haXNcIiwgKCkgPT4ge1xuICAgICAgZXhwZWN0KHZhbGlkYXRvci5pc0NyaXRpY2FsRmlsZShcInNyYy90ZXN0LmpzXCIpKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdCh2YWxpZGF0b3IuaXNDcml0aWNhbEZpbGUoXCJjb21wb25lbnRzL0J1dHRvbi5qc3hcIikpLnRvQmUoZmFsc2UpO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuIl0sIm1hcHBpbmdzIjoiOztBQUtBLElBQUFBLGtCQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBd0QsU0FBQUQsdUJBQUFFLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFMeEQ7QUFDQTtBQUNBO0FBQ0E7O0FBSUFHLFFBQVEsQ0FBQyxtQkFBbUIsRUFBRSxNQUFNO0VBQ2xDLElBQUlDLFNBQVM7RUFFYkMsVUFBVSxDQUFDLE1BQU07SUFDZkQsU0FBUyxHQUFHLElBQUlFLDBCQUFpQixDQUFDLENBQUM7RUFDckMsQ0FBQyxDQUFDO0VBRUZILFFBQVEsQ0FBQyxjQUFjLEVBQUUsTUFBTTtJQUM3QkksSUFBSSxDQUFDLHVDQUF1QyxFQUFFLFlBQVk7TUFDeEQsTUFBTUMsSUFBSSxHQUFHO0FBQ25CO0FBQ0E7QUFDQTtBQUNBLE9BQU87TUFFRCxNQUFNQyxNQUFNLEdBQUcsTUFBTUwsU0FBUyxDQUFDTSxZQUFZLENB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