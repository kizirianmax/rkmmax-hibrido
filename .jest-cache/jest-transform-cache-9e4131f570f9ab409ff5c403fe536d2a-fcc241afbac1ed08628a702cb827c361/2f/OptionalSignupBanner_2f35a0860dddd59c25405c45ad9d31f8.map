{"version":3,"names":["cov_1l320nywv2","actualCoverage","React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","OptionalSignupBanner","f","email","setEmail","s","isVisible","setIsVisible","isSubmitting","setIsSubmitting","message","setMessage","hasEmail","localStorage","getItem","dismissed","b","timer","setTimeout","clearTimeout","handleSubmit","e","preventDefault","includes","setItem","fetch","method","headers","body","JSON","stringify","error","console","handleDismiss","className","children","onClick","onSubmit","type","value","onChange","target","placeholder","disabled"],"sources":["OptionalSignupBanner.jsx"],"sourcesContent":["// src/components/OptionalSignupBanner.jsx\nimport React, { useState, useEffect } from \"react\";\nimport \"./OptionalSignupBanner.css\";\n\nexport default function OptionalSignupBanner() {\n  const [email, setEmail] = useState(\"\");\n  const [isVisible, setIsVisible] = useState(false);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [message, setMessage] = useState(\"\");\n\n  useEffect(() => {\n    // Verificar se jÃ¡ cadastrou ou dispensou\n    const hasEmail = localStorage.getItem(\"user_email\");\n    const dismissed = localStorage.getItem(\"signup_banner_dismissed\");\n\n    if (!hasEmail && !dismissed) {\n      // Mostrar banner apÃ³s 10 segundos de uso\n      const timer = setTimeout(() => {\n        setIsVisible(true);\n      }, 10000); // 10 segundos\n\n      return () => clearTimeout(timer);\n    }\n  }, []);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    if (!email || !email.includes(\"@\")) {\n      setMessage(\"Por favor, insira um e-mail vÃ¡lido\");\n      return;\n    }\n\n    setIsSubmitting(true);\n\n    try {\n      // Salvar e-mail no localStorage\n      localStorage.setItem(\"user_email\", email);\n\n      // Enviar para o backend\n      await fetch(\"/api/save-email\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ email }),\n      });\n\n      setMessage(\"âœ… E-mail salvo! VocÃª receberÃ¡ atualizaÃ§Ãµes.\");\n\n      // Fechar banner apÃ³s 2 segundos\n      setTimeout(() => {\n        setIsVisible(false);\n      }, 2000);\n    } catch (error) {\n      console.error(\"Erro ao salvar e-mail:\", error);\n      setMessage(\"Erro ao salvar. Tente novamente.\");\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const handleDismiss = () => {\n    localStorage.setItem(\"signup_banner_dismissed\", \"true\");\n    setIsVisible(false);\n  };\n\n  if (!isVisible) return null;\n\n  return (\n    <div className=\"signup-banner\">\n      <div className=\"signup-banner-content\">\n        <button className=\"signup-banner-close\" onClick={handleDismiss} aria-label=\"Fechar\">\n          âœ•\n        </button>\n\n        <div className=\"signup-banner-icon\">ðŸ“§</div>\n\n        <h3 className=\"signup-banner-title\">Quer receber atualizaÃ§Ãµes?</h3>\n\n        <p className=\"signup-banner-text\">\n          Deixe seu e-mail para saber quando lanÃ§armos novos recursos e melhorias!\n        </p>\n\n        <form onSubmit={handleSubmit} className=\"signup-banner-form\">\n          <input\n            type=\"email\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n            placeholder=\"seu@email.com\"\n            className=\"signup-banner-input\"\n            disabled={isSubmitting}\n          />\n          <button type=\"submit\" className=\"signup-banner-button\" disabled={isSubmitting}>\n            {isSubmitting ? \"Salvando...\" : \"Cadastrar\"}\n          </button>\n        </form>\n\n        {message && (\n          <p className={`signup-banner-message ${message.includes(\"âœ…\") ? \"success\" : \"error\"}`}>\n            {message}\n          </p>\n        )}\n\n        <button className=\"signup-banner-skip\" onClick={handleDismiss}>\n          Agora nÃ£o\n        </button>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]}