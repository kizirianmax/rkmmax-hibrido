745910af15cb8256667e6eec2133c9fd
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.cacheResponse = cacheResponse;
exports.compressPrompt = compressPrompt;
exports.deduplicateMessages = deduplicateMessages;
exports.default = void 0;
exports.estimateTokens = estimateTokens;
exports.getCostStats = getCostStats;
exports.limitContext = limitContext;
exports.optimizeRequest = optimizeRequest;
exports.responseCache = exports.requestBatcher = void 0;
var _crypto = _interopRequireDefault(require("crypto"));
function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }
/**
 * COST OPTIMIZATION SYSTEM
 * Sistema de otimiza√ß√£o de custo para RKMMAX
 *
 * T√©cnicas:
 * 1. Cache inteligente (Redis-like in-memory)
 * 2. Compress√£o de prompts
 * 3. Deduplica√ß√£o de mensagens
 * 4. Batching de requisi√ß√µes
 * 5. Token counting e limites
 *
 * Economia esperada: 40-60% em custos de API
 */

/**
 * CACHE IN-MEMORY
 * Cache simples mas efetivo para respostas similares
 */
class ResponseCache {
  constructor(maxSize = 1000, ttl = 3600000) {
    // 1 hora TTL
    this.cache = new Map();
    this.maxSize = maxSize;
    this.ttl = ttl;
  }

  /**
   * Gerar hash da mensagem para cache
   */
  generateHash(messages) {
    const content = JSON.stringify(messages);
    return _crypto.default.createHash("md5").update(content).digest("hex");
  }

  /**
   * Buscar no cache
   */
  get(messages) {
    const hash = this.generateHash(messages);
    const cached = this.cache.get(hash);
    if (!cached) return null;

    // Verificar se expirou
    if (Date.now() - cached.timestamp > this.ttl) {
      this.cache.delete(hash);
      return null;
    }
    console.log("üí∞ CACHE HIT! Economia de custo!");
    return cached.response;
  }

  /**
   * Salvar no cache
   */
  set(messages, response) {
    const hash = this.generateHash(messages);

    // Limpar cache se muito grande
    if (this.cache.size >= this.maxSize) {
      const firstKey = this.cache.keys().next().value;
      this.cache.delete(firstKey);
    }
    this.cache.set(hash, {
      response,
      timestamp: Date.now()
    });
  }

  /**
   * Limpar cache
   */
  clear() {
    this.cache.clear();
  }

  /**
   * Estat√≠sticas
   */
  stats() {
    return {
      size: this.cache.size,
      maxSize: this.maxSize,
      ttl: this.ttl
    };
  }
}

// Inst√¢ncia global do cache
const responseCache = exports.responseCache = new ResponseCache();

/**
 * COMPRESS√ÉO DE PROMPTS
 * Reduz tamanho de prompts sem perder qualidade
 */
function compressPrompt(prompt) {
  return prompt
  // Remover m√∫ltiplos espa√ßos
  .replace(/\s+/g, " ")
  // Remover quebras de linha desnecess√°rias
  .replace(/\n\s*\n\s*\n/g, "\n\n")
  // Trim
  .trim();
}

/**
 * DEDUPLICA√á√ÉO DE MENSAGENS
 * Remove mensagens duplicadas consecutivas
 */
function deduplicateMessages(messages) {
  const deduplicated = [];
  let lastContent = null;
  for (const msg of messages) {
    if (msg.content !== lastContent) {
      deduplicated.push(msg);
      lastContent = msg.content;
    }
  }
  return deduplicated;
}

/**
 * TOKEN COUNTING
 * Estima tokens para controlar custos
 */
function estimateTokens(text) {
  // Estimativa simples: ~4 caracteres = 1 token
  // Mais preciso seria usar tiktoken, mas adiciona depend√™ncia
  return Math.ceil(text.length / 4);
}

/**
 * LIMITAR CONTEXTO
 * Mant√©m apenas mensagens recentes para economizar
 */
function limitContext(messages, maxTokens = 4000) {
  let totalTokens = 0;
  const limited = [];

  // Iterar de tr√°s para frente (mais recentes primeiro)
  for (let i = messages.length - 1; i >= 0; i--) {
    const msg = messages[i];
    const tokens = estimateTokens(msg.content);
    if (totalTokens + tokens > maxTokens) {
      break;
    }
    limited.unshift(msg);
    totalTokens += tokens;
  }
  return limited;
}

/**
 * BATCHING DE REQUISI√á√ïES
 * Agrupa m√∫ltiplas requisi√ß√µes em uma
 */
class RequestBatcher {
  constructor(batchSize = 5, batchDelay = 100) {
    this.batchSize = batchSize;
    this.batchDelay = batchDelay;
    this.queue = [];
    this.timer = null;
  }

  /**
   * Adicionar requisi√ß√£o ao batch
   */
  add(request) {
    return new Promise((resolve, reject) => {
      this.queue.push({
        request,
        resolve,
        reject
      });

      // Se atingiu tamanho do batch, processar imediatamente
      if (this.queue.length >= this.batchSize) {
        this.flush();
      } else {
        // Sen√£o, agendar processamento
        if (this.timer) clearTimeout(this.timer);
        this.timer = setTimeout(() => this.flush(), this.batchDelay);
      }
    });
  }

  /**
   * Processar batch
   */
  async flush() {
    if (this.queue.length === 0) return;
    const batch = this.queue.splice(0, this.batchSize);
    console.log(`üîÑ Processando batch de ${batch.length} requisi√ß√µes`);

    // Processar em paralelo
    const results = await Promise.allSettled(batch.map(({
      request
    }) => request()));

    // Resolver promessas
    results.forEach((result, index) => {
      if (result.status === "fulfilled") {
        batch[index].resolve(result.value);
      } else {
        batch[index].reject(result.reason);
      }
    });
  }
}
const requestBatcher = exports.requestBatcher = new RequestBatcher();

/**
 * OTIMIZA√á√ÉO COMPLETA
 * Aplica todas as otimiza√ß√µes
 */
function optimizeRequest(messages, systemPrompt) {
  // 1. Verificar cache
  const cached = responseCache.get(messages);
  if (cached) {
    return {
      cached: true,
      response: cached
    };
  }

  // 2. Deduplicar mensagens
  const deduplicated = deduplicateMessages(messages);

  // 3. Limitar contexto
  const limited = limitContext(deduplicated);

  // 4. Comprimir prompt
  const compressedPrompt = compressPrompt(systemPrompt);

  // 5. Estimar custo
  const promptTokens = estimateTokens(compressedPrompt);
  const messagesTokens = limited.reduce((sum, msg) => sum + estimateTokens(msg.content), 0);
  const totalTokens = promptTokens + messagesTokens;
  const estimatedCost = totalTokens / 1000 * 0.00075; // Gemini Pro price

  console.log(`üí∞ Custo estimado: $${estimatedCost.toFixed(6)} (${totalTokens} tokens)`);
  return {
    cached: false,
    messages: limited,
    systemPrompt: compressedPrompt,
    stats: {
      originalMessages: messages.length,
      optimizedMessages: limited.length,
      totalTokens,
      estimatedCost
    }
  };
}

/**
 * SALVAR RESPOSTA NO CACHE
 */
function cacheResponse(messages, response) {
  responseCache.set(messages, response);
}

/**
 * ESTAT√çSTICAS DE ECONOMIA
 */
function getCostStats() {
  return {
    cache: responseCache.stats()
    // Adicionar mais estat√≠sticas conforme necess√°rio
  };
}

/**
 * Exportar tudo
 */
var _default = exports.default = {
  responseCache,
  compressPrompt,
  deduplicateMessages,
  estimateTokens,
  limitContext,
  requestBatcher,
  optimizeRequest,
  cacheResponse,
  getCostStats
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY3J5cHRvIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJSZXNwb25zZUNhY2hlIiwiY29uc3RydWN0b3IiLCJtYXhTaXplIiwidHRsIiwiY2FjaGUiLCJNYXAiLCJnZW5lcmF0ZUhhc2giLCJtZXNzYWdlcyIsImNvbnRlbnQiLCJKU09OIiwic3RyaW5naWZ5IiwiY3J5cHRvIiwiY3JlYXRlSGFzaCIsInVwZGF0ZSIsImRpZ2VzdCIsImdldCIsImhhc2giLCJjYWNoZWQiLCJEYXRlIiwibm93IiwidGltZXN0YW1wIiwiZGVsZXRlIiwiY29uc29sZSIsImxvZyIsInJlc3BvbnNlIiwic2V0Iiwic2l6ZSIsImZpcnN0S2V5Iiwia2V5cyIsIm5leHQiLCJ2YWx1ZSIsImNsZWFyIiwic3RhdHMiLCJyZXNwb25zZUNhY2hlIiwiZXhwb3J0cyIsImNvbXByZXNzUHJvbXB0IiwicHJvbXB0IiwicmVwbGFjZSIsInRyaW0iLCJkZWR1cGxpY2F0ZU1lc3NhZ2VzIiwiZGVkdXBsaWNhdGVkIiwibGFzdENvbnRlbnQiLCJtc2ciLCJwdXNoIiwiZXN0aW1hdGVUb2tlbnMiLCJ0ZXh0IiwiTWF0aCIsImNlaWwiLCJsZW5ndGgiLCJsaW1pdENvbnRleHQiLCJtYXhUb2tlbnMiLCJ0b3RhbFRva2VucyIsImxpbWl0ZWQiLCJpIiwidG9rZW5zIiwidW5zaGlmdCIsIlJlcXVlc3RCYXRjaGVyIiwiYmF0Y2hTaXplIiwiYmF0Y2hEZWxheSIsInF1ZXVlIiwidGltZXIiLCJhZGQiLCJyZXF1ZXN0IiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJmbHVzaCIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJiYXRjaCIsInNwbGljZSIsInJlc3VsdHMiLCJhbGxTZXR0bGVkIiwibWFwIiwiZm9yRWFjaCIsInJlc3VsdCIsImluZGV4Iiwic3RhdHVzIiwicmVhc29uIiwicmVxdWVzdEJhdGNoZXIiLCJvcHRpbWl6ZVJlcXVlc3QiLCJzeXN0ZW1Qcm9tcHQiLCJjb21wcmVzc2VkUHJvbXB0IiwicHJvbXB0VG9rZW5zIiwibWVzc2FnZXNUb2tlbnMiLCJyZWR1Y2UiLCJzdW0iLCJlc3RpbWF0ZWRDb3N0IiwidG9GaXhlZCIsIm9yaWdpbmFsTWVzc2FnZXMiLCJvcHRpbWl6ZWRNZXNzYWdlcyIsImNhY2hlUmVzcG9uc2UiLCJnZXRDb3N0U3RhdHMiLCJfZGVmYXVsdCJdLCJzb3VyY2VzIjpbImNvc3RPcHRpbWl6YXRpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDT1NUIE9QVElNSVpBVElPTiBTWVNURU1cbiAqIFNpc3RlbWEgZGUgb3RpbWl6YcOnw6NvIGRlIGN1c3RvIHBhcmEgUktNTUFYXG4gKlxuICogVMOpY25pY2FzOlxuICogMS4gQ2FjaGUgaW50ZWxpZ2VudGUgKFJlZGlzLWxpa2UgaW4tbWVtb3J5KVxuICogMi4gQ29tcHJlc3PDo28gZGUgcHJvbXB0c1xuICogMy4gRGVkdXBsaWNhw6fDo28gZGUgbWVuc2FnZW5zXG4gKiA0LiBCYXRjaGluZyBkZSByZXF1aXNpw6fDtWVzXG4gKiA1LiBUb2tlbiBjb3VudGluZyBlIGxpbWl0ZXNcbiAqXG4gKiBFY29ub21pYSBlc3BlcmFkYTogNDAtNjAlIGVtIGN1c3RvcyBkZSBBUElcbiAqL1xuXG5pbXBvcnQgY3J5cHRvIGZyb20gXCJjcnlwdG9cIjtcblxuLyoqXG4gKiBDQUNIRSBJTi1NRU1PUllcbiAqIENhY2hlIHNpbXBsZXMgbWFzIGVmZXRpdm8gcGFyYSByZXNwb3N0YXMgc2ltaWxhcmVzXG4gKi9cbmNsYXNzIFJlc3BvbnNlQ2FjaGUge1xuICBjb25zdHJ1Y3RvcihtYXhTaXplID0gMTAwMCwgdHRsID0gMzYwMDAwMCkge1xuICAgIC8vIDEgaG9yYSBUVExcbiAgICB0aGlzLmNhY2hlID0gbmV3IE1hcCgpO1xuICAgIHRoaXMubWF4U2l6ZSA9IG1heFNpemU7XG4gICAgdGhpcy50dGwgPSB0dGw7XG4gIH1cblxuICAvKipcbiAgICogR2VyYXIgaGFzaCBkYSBtZW5zYWdlbSBwYXJhIGNhY2hlXG4gICAqL1xuICBnZW5lcmF0ZUhhc2gobWVzc2FnZXMpIHtcbiAgICBjb25zdCBjb250ZW50ID0gSlNPTi5zdHJpbmdpZnkobWVzc2FnZXMpO1xuICAgIHJldHVybiBjcnlwdG8uY3JlYXRlSGFzaChcIm1kNVwiKS51cGRhdGUoY29udGVudCkuZGlnZXN0KFwiaGV4XCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEJ1c2NhciBubyBjYWNoZVxuICAgKi9cbiAgZ2V0KG1lc3NhZ2VzKSB7XG4gICAgY29uc3QgaGFzaCA9IHRoaXMuZ2VuZXJhdGVIYXNoKG1lc3NhZ2VzKTtcbiAgICBjb25zdCBjYWNoZWQgPSB0aGlzLmNhY2hlLmdldChoYXNoKTtcblxuICAgIGlmICghY2FjaGVkKSByZXR1cm4gbnVsbDtcblxuICAgIC8vIFZlcmlmaWNhciBzZSBleHBpcm91XG4gICAgaWYgKERhdGUubm93KCkgLSBjYWNoZWQudGltZXN0YW1wID4gdGhpcy50dGwpIHtcbiAgICAgIHRoaXMuY2FjaGUuZGVsZXRlKGhhc2gpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coXCLwn5KwIENBQ0hFIEhJVCEgRWNvbm9taWEgZGUgY3VzdG8hXCIpO1xuICAgIHJldHVybiBjYWNoZWQucmVzcG9uc2U7XG4gIH1cblxuICAvKipcbiAgICogU2FsdmFyIG5vIGNhY2hlXG4gICAqL1xuICBzZXQobWVzc2FnZXMsIHJlc3BvbnNlKSB7XG4gICAgY29uc3QgaGFzaCA9IHRoaXMuZ2VuZXJhdGVIYXNoKG1lc3NhZ2VzKTtcblxuICAgIC8vIExpbXBhciBjYWNoZSBzZSBtdWl0byBncmFuZGVcbiAgICBpZiAodGhpcy5jYWNoZS5zaXplID49IHRoaXMubWF4U2l6ZSkge1xuICAgICAgY29uc3QgZmlyc3RLZXkgPSB0aGlzLmNhY2hlLmtleXMoKS5uZXh0KCkudmFsdWU7XG4gICAgICB0aGlzLmNhY2hlLmRlbGV0ZShmaXJzdEtleSk7XG4gICAgfVxuXG4gICAgdGhpcy5jYWNoZS5zZXQoaGFzaCwge1xuICAgICAgcmVzcG9uc2UsXG4gICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogTGltcGFyIGNhY2hlXG4gICAqL1xuICBjbGVhcigpIHtcbiAgICB0aGlzLmNhY2hlLmNsZWFyKCk7XG4gIH1cblxuICAvKipcbiAgICogRXN0YXTDrXN0aWNhc1xuICAgKi9cbiAgc3RhdHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNpemU6IHRoaXMuY2FjaGUuc2l6ZSxcbiAgICAgIG1heFNpemU6IHRoaXMubWF4U2l6ZSxcbiAgICAgIHR0bDogdGhpcy50dGwsXG4gICAgfTtcbiAgfVxufVxuXG4vLyBJbnN0w6JuY2lhIGdsb2JhbCBkbyBjYWNoZVxuZXhwb3J0IGNvbnN0IHJlc3BvbnNlQ2FjaGUgPSBuZXcgUmVzcG9uc2VDYWNoZSgpO1xuXG4vKipcbiAqIENPTVBSRVNTw4NPIERFIFBST01QVFNcbiAqIFJlZHV6IHRhbWFuaG8gZGUgcHJvbXB0cyBzZW0gcGVyZGVyIHF1YWxpZGFkZVxuICovXG5leHBvcnQgZnVuY3Rpb24gY29tcHJlc3NQcm9tcHQocHJvbXB0KSB7XG4gIHJldHVybiAoXG4gICAgcHJvbXB0XG4gICAgICAvLyBSZW1vdmVyIG3Dumx0aXBsb3MgZXNwYcOnb3NcbiAgICAgIC5yZXBsYWNlKC9cXHMrL2csIFwiIFwiKVxuICAgICAgLy8gUmVtb3ZlciBxdWVicmFzIGRlIGxpbmhhIGRlc25lY2Vzc8Ohcmlhc1xuICAgICAgLnJlcGxhY2UoL1xcblxccypcXG5cXHMqXFxuL2csIFwiXFxuXFxuXCIpXG4gICAgICAvLyBUcmltXG4gICAgICAudHJpbSgpXG4gICk7XG59XG5cbi8qKlxuICogREVEVVBMSUNBw4fDg08gREUgTUVOU0FHRU5TXG4gKiBSZW1vdmUgbWVuc2FnZW5zIGR1cGxpY2FkYXMgY29uc2VjdXRpdmFzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWR1cGxpY2F0ZU1lc3NhZ2VzKG1lc3NhZ2VzKSB7XG4gIGNvbnN0IGRlZHVwbGljYXRlZCA9IFtdO1xuICBsZXQgbGFzdENvbnRlbnQgPSBudWxsO1xuXG4gIGZvciAoY29uc3QgbXNnIG9mIG1lc3NhZ2VzKSB7XG4gICAgaWYgKG1zZy5jb250ZW50ICE9PSBsYXN0Q29udGVudCkge1xuICAgICAgZGVkdXBsaWNhdGVkLnB1c2gobXNnKTtcbiAgICAgIGxhc3RDb250ZW50ID0gbXNnLmNvbnRlbnQ7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGRlZHVwbGljYXRlZDtcbn1cblxuLyoqXG4gKiBUT0tFTiBDT1VOVElOR1xuICogRXN0aW1hIHRva2VucyBwYXJhIGNvbnRyb2xhciBjdXN0b3NcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVzdGltYXRlVG9rZW5zKHRleHQpIHtcbiAgLy8gRXN0aW1hdGl2YSBzaW1wbGVzOiB+NCBjYXJhY3RlcmVzID0gMSB0b2tlblxuICAvLyBNYWlzIHByZWNpc28gc2VyaWEgdXNhciB0aWt0b2tlbiwgbWFzIGFkaWNpb25hIGRlcGVuZMOqbmNpYVxuICByZXR1cm4gTWF0aC5jZWlsKHRleHQubGVuZ3RoIC8gNCk7XG59XG5cbi8qKlxuICogTElNSVRBUiBDT05URVhUT1xuICogTWFudMOpbSBhcGVuYXMgbWVuc2FnZW5zIHJlY2VudGVzIHBhcmEgZWNvbm9taXphclxuICovXG5leHBvcnQgZnVuY3Rpb24gbGltaXRDb250ZXh0KG1lc3NhZ2VzLCBtYXhUb2tlbnMgPSA0MDAwKSB7XG4gIGxldCB0b3RhbFRva2VucyA9IDA7XG4gIGNvbnN0IGxpbWl0ZWQgPSBbXTtcblxuICAvLyBJdGVyYXIgZGUgdHLDoXMgcGFyYSBmcmVudGUgKG1haXMgcmVjZW50ZXMgcHJpbWVpcm8pXG4gIGZvciAobGV0IGkgPSBtZXNzYWdlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIGNvbnN0IG1zZyA9IG1lc3NhZ2VzW2ldO1xuICAgIGNvbnN0IHRva2VucyA9IGVzdGltYXRlVG9rZW5zKG1zZy5jb250ZW50KTtcblxuICAgIGlmICh0b3RhbFRva2VucyArIHRva2VucyA+IG1heFRva2Vucykge1xuICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgbGltaXRlZC51bnNoaWZ0KG1zZyk7XG4gICAgdG90YWxUb2tlbnMgKz0gdG9rZW5zO1xuICB9XG5cbiAgcmV0dXJuIGxpbWl0ZWQ7XG59XG5cbi8qKlxuICogQkFUQ0hJTkcgREUgUkVRVUlTScOHw5VFU1xuICogQWdydXBhIG3Dumx0aXBsYXMgcmVxdWlzacOnw7VlcyBlbSB1bWFcbiAqL1xuY2xhc3MgUmVxdWVzdEJhdGNoZXIge1xuICBjb25zdHJ1Y3RvcihiYXRjaFNpemUgPSA1LCBiYXRjaERlbGF5ID0gMTAwKSB7XG4gICAgdGhpcy5iYXRjaFNpemUgPSBiYXRjaFNpemU7XG4gICAgdGhpcy5iYXRjaERlbGF5ID0gYmF0Y2hEZWxheTtcbiAgICB0aGlzLnF1ZXVlID0gW107XG4gICAgdGhpcy50aW1lciA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQWRpY2lvbmFyIHJlcXVpc2nDp8OjbyBhbyBiYXRjaFxuICAgKi9cbiAgYWRkKHJlcXVlc3QpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdGhpcy5xdWV1ZS5wdXNoKHsgcmVxdWVzdCwgcmVzb2x2ZSwgcmVqZWN0IH0pO1xuXG4gICAgICAvLyBTZSBhdGluZ2l1IHRhbWFuaG8gZG8gYmF0Y2gsIHByb2Nlc3NhciBpbWVkaWF0YW1lbnRlXG4gICAgICBpZiAodGhpcy5xdWV1ZS5sZW5ndGggPj0gdGhpcy5iYXRjaFNpemUpIHtcbiAgICAgICAgdGhpcy5mbHVzaCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gU2Vuw6NvLCBhZ2VuZGFyIHByb2Nlc3NhbWVudG9cbiAgICAgICAgaWYgKHRoaXMudGltZXIpIGNsZWFyVGltZW91dCh0aGlzLnRpbWVyKTtcbiAgICAgICAgdGhpcy50aW1lciA9IHNldFRpbWVvdXQoKCkgPT4gdGhpcy5mbHVzaCgpLCB0aGlzLmJhdGNoRGVsYXkpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFByb2Nlc3NhciBiYXRjaFxuICAgKi9cbiAgYXN5bmMgZmx1c2goKSB7XG4gICAgaWYgKHRoaXMucXVldWUubGVuZ3RoID09PSAwKSByZXR1cm47XG5cbiAgICBjb25zdCBiYXRjaCA9IHRoaXMucXVldWUuc3BsaWNlKDAsIHRoaXMuYmF0Y2hTaXplKTtcblxuICAgIGNvbnNvbGUubG9nKGDwn5SEIFByb2Nlc3NhbmRvIGJhdGNoIGRlICR7YmF0Y2gubGVuZ3RofSByZXF1aXNpw6fDtWVzYCk7XG5cbiAgICAvLyBQcm9jZXNzYXIgZW0gcGFyYWxlbG9cbiAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgUHJvbWlzZS5hbGxTZXR0bGVkKGJhdGNoLm1hcCgoeyByZXF1ZXN0IH0pID0+IHJlcXVlc3QoKSkpO1xuXG4gICAgLy8gUmVzb2x2ZXIgcHJvbWVzc2FzXG4gICAgcmVzdWx0cy5mb3JFYWNoKChyZXN1bHQsIGluZGV4KSA9PiB7XG4gICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gXCJmdWxmaWxsZWRcIikge1xuICAgICAgICBiYXRjaFtpbmRleF0ucmVzb2x2ZShyZXN1bHQudmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYmF0Y2hbaW5kZXhdLnJlamVjdChyZXN1bHQucmVhc29uKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgcmVxdWVzdEJhdGNoZXIgPSBuZXcgUmVxdWVzdEJhdGNoZXIoKTtcblxuLyoqXG4gKiBPVElNSVpBw4fDg08gQ09NUExFVEFcbiAqIEFwbGljYSB0b2RhcyBhcyBvdGltaXphw6fDtWVzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvcHRpbWl6ZVJlcXVlc3QobWVzc2FnZXMsIHN5c3RlbVByb21wdCkge1xuICAvLyAxLiBWZXJpZmljYXIgY2FjaGVcbiAgY29uc3QgY2FjaGVkID0gcmVzcG9uc2VDYWNoZS5nZXQobWVzc2FnZXMpO1xuICBpZiAoY2FjaGVkKSB7XG4gICAgcmV0dXJuIHsgY2FjaGVkOiB0cnVlLCByZXNwb25zZTogY2FjaGVkIH07XG4gIH1cblxuICAvLyAyLiBEZWR1cGxpY2FyIG1lbnNhZ2Vuc1xuICBjb25zdCBkZWR1cGxpY2F0ZWQgPSBkZWR1cGxpY2F0ZU1lc3NhZ2VzKG1lc3NhZ2VzKTtcblxuICAvLyAzLiBMaW1pdGFyIGNvbnRleHRvXG4gIGNvbnN0IGxpbWl0ZWQgPSBsaW1pdENvbnRleHQoZGVkdXBsaWNhdGVkKTtcblxuICAvLyA0LiBDb21wcmltaXIgcHJvbXB0XG4gIGNvbnN0IGNvbXByZXNzZWRQcm9tcHQgPSBjb21wcmVzc1Byb21wdChzeXN0ZW1Qcm9tcHQpO1xuXG4gIC8vIDUuIEVzdGltYXIgY3VzdG9cbiAgY29uc3QgcHJvbXB0VG9rZW5zID0gZXN0aW1hdGVUb2tlbnMoY29tcHJlc3NlZFByb21wdCk7XG4gIGNvbnN0IG1lc3NhZ2VzVG9rZW5zID0gbGltaXRlZC5yZWR1Y2UoKHN1bSwgbXNnKSA9PiBzdW0gKyBlc3RpbWF0ZVRva2Vucyhtc2cuY29udGVudCksIDApO1xuICBjb25zdCB0b3RhbFRva2VucyA9IHByb21wdFRva2VucyArIG1lc3NhZ2VzVG9rZW5zO1xuICBjb25zdCBlc3RpbWF0ZWRDb3N0ID0gKHRvdGFsVG9rZW5zIC8gMTAwMCkgKiAwLjAwMDc1OyAvLyBHZW1pbmkgUHJvIHByaWNlXG5cbiAgY29uc29sZS5sb2coYPCfkrAgQ3VzdG8gZXN0aW1hZG86ICQke2VzdGltYXRlZENvc3QudG9GaXhlZCg2KX0gKCR7dG90YWxUb2tlbnN9IHRva2VucylgKTtcblxuICByZXR1cm4ge1xuICAgIGNhY2hlZDogZmFsc2UsXG4gICAgbWVzc2FnZXM6IGxpbWl0ZWQsXG4gICAgc3lzdGVtUHJvbXB0OiBjb21wcmVzc2VkUHJvbXB0LFxuICAgIHN0YXRzOiB7XG4gICAgICBvcmlnaW5hbE1lc3NhZ2VzOiBtZXNzYWdlcy5sZW5ndGgsXG4gICAgICBvcHRpbWl6ZWRNZXNzYWdlczogbGltaXRlZC5sZW5ndGgsXG4gICAgICB0b3RhbFRva2VucyxcbiAgICAgIGVzdGltYXRlZENvc3QsXG4gICAgfSxcbiAgfTtcbn1cblxuLyoqXG4gKiBTQUxWQVIgUkVTUE9TVEEgTk8gQ0FDSEVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNhY2hlUmVzcG9uc2UobWVzc2FnZXMsIHJlc3BvbnNlKSB7XG4gIHJlc3BvbnNlQ2FjaGUuc2V0KG1lc3NhZ2VzLCByZXNwb25zZSk7XG59XG5cbi8qKlxuICogRVNUQVTDjVNUSUNBUyBERSBFQ09OT01JQVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29zdFN0YXRzKCkge1xuICByZXR1cm4ge1xuICAgIGNhY2hlOiByZXNwb25zZUNhY2hlLnN0YXRzKCksXG4gICAgLy8gQWRpY2lvbmFyIG1haXMgZXN0YXTDrXN0aWNhcyBjb25mb3JtZSBuZWNlc3PDoXJpb1xuICB9O1xufVxuXG4vKipcbiAqIEV4cG9ydGFyIHR1ZG9cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICByZXNwb25zZUNhY2hlLFxuICBjb21wcmVzc1Byb21wdCxcbiAgZGVkdXBsaWNhdGVNZXNzYWdlcyxcbiAgZXN0aW1hdGVUb2tlbnMsXG4gIGxpbWl0Q29udGV4dCxcbiAgcmVxdWVzdEJhdGNoZXIsXG4gIG9wdGltaXplUmVxdWVzdCxcbiAgY2FjaGVSZXNwb25zZSxcbiAgZ2V0Q29zdFN0YXRzLFxufTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFjQSxJQUFBQSxPQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBNEIsU0FBQUQsdUJBQUFFLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFkNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFN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QUFZLENBQUM7O0VBRTFDO0VBQ0EsTUFBTTBDLGdCQUFnQixHQUFHL0MsY0FBYyxDQUFDOEMsWUFBWSxDQUFDOztFQUVyRDtFQUNBLE1BQU1FLFlBQVksR0FBR3ZDLGNBQWMsQ0FBQ3NDLGdCQUFnQixDQUFDO0VBQ3JELE1BQU1FLGNBQWMsR0FBR2hDLE9BQU8sQ0FBQ2lDLE1BQU0sQ0FBQyxDQUFDQyxHQUFHLEVBQUU1QyxHQUFHLEtBQUs0QyxHQUFHLEdBQUcxQyxjQUFjLENBQUNGLEdBQUcsQ0FBQ2xDLE9BQU8sQ0FBQyxFQUFFLENBQUMsQ0FBQztFQUN6RixNQUFNMkMsV0FBVyxHQUFHZ0MsWUFBWSxHQUFHQyxjQUFjO0VBQ2pELE1BQU1HLGFBQWEsR0FBSXBDLFdBQVcsR0FBRyxJQUFJLEdBQUksT0FBTyxDQUFDLENBQUM7O0VBRXREN0IsT0FBTyxDQUFDQyxHQUFHLENBQUMsdUJBQXVCZ0UsYUFBYSxDQUFDQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEtBQUtyQyxXQUFXLFVBQVUsQ0FBQztFQUV0RixPQUFPO0lBQ0xsQyxNQUFNLEVBQUUsS0FBSztJQUNiVixRQUFRLEVBQUU2QyxPQUFPO0lBQ2pCNkIsWUFBWSxFQUFFQyxnQkFBZ0I7SUFDOUJsRCxLQUFLLEVBQUU7TUFDTHlELGdCQUFnQixFQUFFbEYsUUFBUSxDQUFDeUMsTUFBTTtNQUNqQzBDLGlCQUFpQixFQUFFdEMsT0FBTyxDQUFDSixNQUFNO01BQ2pDRyxXQUFXO01BQ1hvQztJQUNGO0VBQ0YsQ0FBQztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNPLFNBQVNJLGFBQWFBLENBQUNwRixRQUFRLEVBQUVpQixRQUFRLEVBQUU7RUFDaERTLGFBQWEsQ0FBQ1IsR0FBRyxDQUFDbEIsUUFBUSxFQUFFaUIsUUFBUSxDQUFDO0FBQ3ZDOztBQUVBO0FBQ0E7QUFDQTtBQUNPLFNBQVNvRSxZQUFZQSxDQUFBLEVBQUc7RUFDN0IsT0FBTztJQUNMeEYsS0FBSyxFQUFFNkIsYUFBYSxDQUFDRCxLQUFLLENBQUM7SUFDM0I7RUFDRixDQUFDO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBRkEsSUFBQTZELFFBQUEsR0FBQTNELE9BQUEsQ0FBQW5DLE9BQUEsR0FHZTtFQUNia0MsYUFBYTtFQUNiRSxjQUFjO0VBQ2RJLG1CQUFtQjtFQUNuQkssY0FBYztFQUNkSyxZQUFZO0VBQ1o4QixjQUFjO0VBQ2RDLGVBQWU7RUFDZlcsYUFBYTtFQUNiQztBQUNGLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=