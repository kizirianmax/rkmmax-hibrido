{"version":3,"names":["cov_2n1di3yg2f","actualCoverage","secretManager","OptimizedAPIManager","constructor","config","b","f","s","initialized","initialize","googleKey","getSecret","groqKey","providers","gemini","initGemini","groq","initGroq","cache","Map","rateLimits","calls","resetTime","Date","now","stats","totalCalls","totalCost","cacheHits","cacheMisses","fallbacks","apiKey","baseURL","isConfigured","models","maxTokens","costPer1kTokens","costOutputPer1kTokens","description","priority","tier","defaultModel","selectModel","complexity","options","console","warn","provider","model","forceProvider","specialist","callWithFallback","prompt","maxRetries","attempt","selection","log","result","call","success","timestamp","toISOString","error","message","fallback","fallbackError","errors","cacheKey","has","get","checkRateLimit","Error","callGemini","callGroq","set","size","firstKey","keys","next","value","delete","cost","response","fetch","method","headers","body","JSON","stringify","contents","parts","text","generationConfig","maxOutputTokens","temperature","topP","ok","json","statusText","data","candidates","content","inputTokens","usageMetadata","promptTokenCount","outputTokens","candidatesTokenCount","totalTokens","modelConfig","tokens","Authorization","messages","role","max_tokens","choices","usage","total_tokens","prompt_tokens","completion_tokens","limit","compareCosts","costs","Object","entries","inputCost","outputCost","getStatus","getAvailableModels","getStats","cacheHitRate","toFixed","cacheSize","clearCache","clear","resetStats","recommendModel"],"sources":["OptimizedAPIManager.js"],"sourcesContent":["/**\n * OPTIMIZED API MANAGER\n *\n * Arquitetura otimizada para 3 providers:\n * 1. Gemini 2.5 Pro (Principal - qualidade)\n * 2. Gemini 2.5 Flash Lite (Principal - custo)\n * 3. Groq (Fallback - velocidade extrema)\n *\n * Estrat√©gia:\n * - Gemini Pro para tarefas complexas/cr√≠ticas\n * - Gemini Flash Lite para tarefas simples/r√°pidas\n * - Groq como fallback em caso de falha\n *\n * ‚ö†Ô∏è SEGURAN√áA: Usa SecretManager para injetar credenciais\n */\n\nimport secretManager from \"./SecretManager\";\n\nclass OptimizedAPIManager {\n  constructor(config = {}) {\n    // üîê INICIALIZAR SECRET MANAGER\n    if (!secretManager.initialized) {\n      secretManager.initialize();\n    }\n\n    this.config = {\n      // üîê USAR SECRET MANAGER EM VEZ DE PROCESS.ENV DIRETO\n      googleKey: secretManager.getSecret(\"gemini\"),\n      groqKey: secretManager.getSecret(\"groq\"),\n      ...config,\n    };\n\n    this.providers = {\n      gemini: this.initGemini(),\n      groq: this.initGroq(),\n    };\n\n    this.cache = new Map();\n    this.rateLimits = {\n      gemini: { calls: 0, resetTime: Date.now() + 60000 },\n      groq: { calls: 0, resetTime: Date.now() + 60000 },\n    };\n\n    this.stats = {\n      totalCalls: 0,\n      totalCost: 0,\n      cacheHits: 0,\n      cacheMisses: 0,\n      fallbacks: 0,\n    };\n  }\n\n  /**\n   * INICIALIZAR GEMINI\n   * üîê SEGURO: Usa SecretManager para obter API key\n   */\n  initGemini() {\n    // üîê OBTER CHAVE DO SECRET MANAGER\n    const apiKey = this.config.googleKey || secretManager.getSecret(\"gemini\") || \"\";\n\n    return {\n      apiKey,\n      baseURL: \"https://generativelanguage.googleapis.com/v1beta/models\",\n      isConfigured: !!apiKey,\n      models: {\n        \"gemini-2.5-pro\": {\n          maxTokens: 1000000,\n          costPer1kTokens: 0.00075,\n          costOutputPer1kTokens: 0.003,\n          description: \"Modelo de qualidade m√°xima para tarefas complexas (ESPECIALISTA 54)\",\n          priority: 1,\n          tier: \"premium\",\n        },\n        \"gemini-2.5-flash-lite\": {\n          maxTokens: 1000000,\n          costPer1kTokens: 0.0000375,\n          costOutputPer1kTokens: 0.00015,\n          description: \"Modelo r√°pido e barato para tarefas simples\",\n          priority: 1,\n          tier: \"standard\",\n        },\n      },\n      defaultModel: \"gemini-2.5-flash-lite\",\n    };\n  }\n\n  /**\n   * INICIALIZAR GROQ\n   * üîê SEGURO: Usa SecretManager para obter API key\n   */\n  initGroq() {\n    // üîê OBTER CHAVE DO SECRET MANAGER\n    const apiKey = this.config.groqKey || secretManager.getSecret(\"groq\") || \"\";\n\n    return {\n      apiKey,\n      baseURL: \"https://api.groq.com/openai/v1\",\n      isConfigured: !!apiKey,\n      models: {\n        'openai/gpt-oss-120b': {\n          maxTokens: 8000,\n          costPer1kTokens: 0.00027,\n          description: \"Fallback r√°pido para tarefas simples\",\n          priority: 2,\n          tier: \"fallback\",\n        },\n        \"mixtral-8x7b-32768\": {\n          maxTokens: 32768,\n          costPer1kTokens: 0.00024,\n          description: \"Fallback para tarefas m√©dias\",\n          priority: 2,\n          tier: \"fallback\",\n        },\n      },\n      defaultModel: 'openai/gpt-oss-120b',\n    };\n  }\n\n  /**\n   * SELECIONAR MODELO IDEAL\n   * CORRIGIDO: Garantir que Especialista 54 (Gemini Pro) seja roteado corretamente\n   *\n   * Estrat√©gia:\n   * - Tarefas simples: Gemini Flash Lite (mais barato)\n   * - Tarefas complexas: Gemini Pro (melhor qualidade) ‚Üê ESPECIALISTA 54\n   * - Fallback: Groq (velocidade extrema)\n   */\n  selectModel(complexity = \"simple\", options = {}) {\n    // Verificar se providers est√£o inicializados\n    if (!this.providers.gemini || !this.providers.groq) {\n      console.warn(\"‚ö†Ô∏è Providers n√£o inicializados corretamente!\");\n      return {\n        provider: 'groq',\n        model: 'openai/gpt-oss-120b',\n      };\n    }\n\n    if (options.forceProvider === \"groq\") {\n      return {\n        provider: \"groq\",\n        model: options.model || this.providers.groq.defaultModel,\n        specialist: \"fallback\",\n      };\n    }\n\n    if (options.forceProvider === \"gemini\") {\n      return {\n        provider: \"gemini\",\n        model: options.model || this.providers.gemini.defaultModel,\n        specialist: options.model === \"gemini-2.5-pro\" ? \"specialist-54\" : \"standard\",\n      };\n    }\n\n    // Sele√ß√£o autom√°tica baseada em complexidade\n    switch (complexity) {\n      case \"simple\":\n        return {\n          provider: \"gemini\",\n          model: \"gemini-2.5-flash-lite\", // Mais barato\n          specialist: \"standard\",\n        };\n\n      case \"medium\":\n        return {\n          provider: \"gemini\",\n          model: \"gemini-2.5-flash-lite\",\n          specialist: \"standard\",\n        };\n\n      case \"complex\":\n        // ‚úÖ ESPECIALISTA 54: Gemini Pro para tarefas complexas\n        return {\n          provider: \"gemini\",\n          model: \"gemini-2.5-pro\", // Melhor qualidade\n          specialist: \"specialist-54\",\n          tier: \"premium\",\n        };\n\n      case \"critical\":\n        // ‚úÖ ESPECIALISTA 54: M√°xima qualidade para tarefas cr√≠ticas\n        return {\n          provider: \"gemini\",\n          model: \"gemini-2.5-pro\", // M√°xima qualidade\n          specialist: \"specialist-54\",\n          tier: \"premium\",\n        };\n\n      default:\n        return {\n          provider: \"gemini\",\n          model: this.providers.gemini.defaultModel,\n          specialist: \"standard\",\n        };\n    }\n  }\n\n  /**\n   * CHAMAR API COM FALLBACK AUTOM√ÅTICO\n   * CORRIGIDO: Melhor logging para debug de Especialista 54\n   */\n  async callWithFallback(prompt, options = {}) {\n    const complexity = options.complexity || \"simple\";\n    const maxRetries = options.maxRetries || 2;\n\n    // Tentar Gemini primeiro\n    for (let attempt = 0; attempt < maxRetries; attempt++) {\n      try {\n        const selection = this.selectModel(complexity, options);\n\n        // üîç LOG: Mostrar qual especialista est√° sendo usado\n        if (selection.specialist === \"specialist-54\") {\n          console.log(\"‚úÖ ESPECIALISTA 54 ATIVADO:\", {\n            model: selection.model,\n            complexity,\n            tier: selection.tier,\n          });\n        }\n\n        const result = await this.call(selection.provider, prompt, {\n          ...options,\n          model: selection.model,\n        });\n\n        return {\n          success: true,\n          provider: selection.provider,\n          model: selection.model,\n          specialist: selection.specialist,\n          result,\n          attempt: attempt + 1,\n          timestamp: new Date().toISOString(),\n        };\n      } catch (error) {\n        console.warn(`‚ùå Tentativa ${attempt + 1} falhou:`, error.message);\n\n        if (attempt === maxRetries - 1) {\n          // √öltima tentativa falhou, usar Groq como fallback\n          try {\n            this.stats.fallbacks++;\n            console.log(\"‚ö†Ô∏è FALLBACK para GROQ\");\n            const result = await this.call(\"groq\", prompt, options);\n\n            return {\n              success: true,\n              provider: \"groq\",\n              model: this.providers.groq.defaultModel,\n              result,\n              fallback: true,\n              timestamp: new Date().toISOString(),\n            };\n          } catch (fallbackError) {\n            console.error(\"üî¥ TODOS OS PROVIDERS FALHARAM\");\n            return {\n              success: false,\n              errors: [\n                { provider: \"gemini\", error: error.message },\n                { provider: \"groq\", error: fallbackError.message },\n              ],\n              timestamp: new Date().toISOString(),\n            };\n          }\n        }\n      }\n    }\n  }\n\n  /**\n   * CHAMAR API ESPEC√çFICA\n   */\n  async call(provider, prompt, options = {}) {\n    // Verificar cache\n    const cacheKey = `${provider}:${options.model || \"default\"}:${prompt}`;\n    if (this.cache.has(cacheKey)) {\n      this.stats.cacheHits++;\n      return this.cache.get(cacheKey);\n    }\n\n    this.stats.cacheMisses++;\n\n    // Verificar rate limit\n    if (!this.checkRateLimit(provider)) {\n      throw new Error(`Rate limit exceeded for ${provider}`);\n    }\n\n    let result;\n\n    switch (provider) {\n      case \"gemini\":\n        result = await this.callGemini(prompt, options);\n        break;\n      case \"groq\":\n        result = await this.callGroq(prompt, options);\n        break;\n      default:\n        throw new Error(`Unknown provider: ${provider}`);\n    }\n\n    // Cachear resultado\n    this.cache.set(cacheKey, result);\n    if (this.cache.size > 1000) {\n      const firstKey = this.cache.keys().next().value;\n      this.cache.delete(firstKey);\n    }\n\n    this.stats.totalCalls++;\n    this.stats.totalCost += result.cost;\n\n    return result;\n  }\n\n  /**\n   * CHAMAR GEMINI\n   * CORRIGIDO: Verificar se API key est√° configurada\n   */\n  async callGemini(prompt, options = {}) {\n    // ‚úÖ VERIFICA√á√ÉO CR√çTICA: Gemini Pro requer API key\n    if (!this.providers.gemini.isConfigured) {\n      throw new Error(\"‚ùå GEMINI_API_KEY n√£o configurada! Especialista 54 n√£o pode ser ativado.\");\n    }\n\n    const model = options.model || this.providers.gemini.defaultModel;\n    const maxTokens = options.maxTokens || 2000;\n\n    // Log para debug\n    if (model === \"gemini-2.5-pro\") {\n      console.log(\"üöÄ Chamando ESPECIALISTA 54 (Gemini Pro)...\");\n    }\n\n    const response = await fetch(\n      `${this.providers.gemini.baseURL}/${model}:generateContent?key=${this.providers.gemini.apiKey}`,\n      {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          contents: [{ parts: [{ text: prompt }] }],\n          generationConfig: {\n            maxOutputTokens: maxTokens,\n            temperature: options.temperature || 0.7,\n            topP: options.topP || 0.95,\n          },\n        }),\n      }\n    );\n\n    if (!response.ok) {\n      const error = await response.json();\n      throw new Error(`Gemini API error: ${error.error?.message || response.statusText}`);\n    }\n\n    const data = await response.json();\n\n    if (!data.candidates || !data.candidates[0]) {\n      throw new Error(\"Gemini API returned empty response\");\n    }\n\n    const text = data.candidates[0].content.parts[0].text;\n    const inputTokens = data.usageMetadata.promptTokenCount;\n    const outputTokens = data.usageMetadata.candidatesTokenCount;\n    const totalTokens = inputTokens + outputTokens;\n\n    const modelConfig = this.providers.gemini.models[model];\n    const cost =\n      (inputTokens / 1000) * modelConfig.costPer1kTokens +\n      (outputTokens / 1000) * modelConfig.costOutputPer1kTokens;\n\n    return {\n      text,\n      model,\n      provider: \"gemini\",\n      tokens: totalTokens,\n      inputTokens,\n      outputTokens,\n      cost,\n      timestamp: new Date().toISOString(),\n    };\n  }\n\n  /**\n   * CHAMAR GROQ\n   * CORRIGIDO: Verificar se API key est√° configurada\n   */\n  async callGroq(prompt, options = {}) {\n    // ‚úÖ VERIFICA√á√ÉO: Groq requer API key\n    if (!this.providers.groq.isConfigured) {\n      throw new Error(\"‚ùå GROQ_API_KEY n√£o configurada! Fallback n√£o pode ser ativado.\");\n    }\n\n    const model = options.model || this.providers.groq.defaultModel;\n    const maxTokens = options.maxTokens || 2000;\n\n    const response = await fetch(`${this.providers.groq.baseURL}/chat/completions`, {\n      method: \"POST\",\n      headers: {\n        Authorization: `Bearer ${this.providers.groq.apiKey}`,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        model,\n        messages: [{ role: \"user\", content: prompt }],\n        max_tokens: maxTokens,\n        temperature: options.temperature || 0.7,\n      }),\n    });\n\n    if (!response.ok) {\n      throw new Error(`Groq API error: ${response.statusText}`);\n    }\n\n    const data = await response.json();\n\n    const text = data.choices[0].message.content;\n    const totalTokens = data.usage.total_tokens;\n    const inputTokens = data.usage.prompt_tokens;\n    const outputTokens = data.usage.completion_tokens;\n\n    const modelConfig = this.providers.groq.models[model];\n    const cost = (totalTokens / 1000) * modelConfig.costPer1kTokens;\n\n    return {\n      text,\n      model,\n      provider: \"groq\",\n      tokens: totalTokens,\n      inputTokens,\n      outputTokens,\n      cost,\n      timestamp: new Date().toISOString(),\n    };\n  }\n\n  /**\n   * VERIFICAR RATE LIMIT\n   */\n  checkRateLimit(provider) {\n    const limit = this.rateLimits[provider];\n    const now = Date.now();\n\n    if (now >= limit.resetTime) {\n      limit.calls = 0;\n      limit.resetTime = now + 60000;\n    }\n\n    limit.calls++;\n    return limit.calls <= 100; // 100 chamadas por minuto\n  }\n\n  /**\n   * COMPARAR CUSTOS\n   */\n  compareCosts(tokens = 1000) {\n    const costs = {\n      gemini: {},\n      groq: {},\n    };\n\n    // Gemini\n    for (const [model, config] of Object.entries(this.providers.gemini.models)) {\n      const inputCost = (tokens / 1000) * config.costPer1kTokens;\n      const outputCost = (tokens / 1000) * config.costOutputPer1kTokens;\n      costs.gemini[model] = inputCost + outputCost;\n    }\n\n    // Groq\n    for (const [model, config] of Object.entries(this.providers.groq.models)) {\n      costs.groq[model] = (tokens / 1000) * config.costPer1kTokens;\n    }\n\n    return costs;\n  }\n\n  /**\n   * OBTER STATUS\n   */\n  getStatus() {\n    return {\n      gemini: this.providers.gemini ? \"available\" : \"not-configured\",\n      groq: this.providers.groq ? \"available\" : \"not-configured\",\n    };\n  }\n\n  /**\n   * OBTER MODELOS DISPON√çVEIS\n   */\n  getAvailableModels() {\n    return {\n      gemini: Object.keys(this.providers.gemini?.models || {}),\n      groq: Object.keys(this.providers.groq?.models || {}),\n    };\n  }\n\n  /**\n   * OBTER ESTAT√çSTICAS\n   */\n  getStats() {\n    const cacheHitRate =\n      this.stats.totalCalls > 0\n        ? (this.stats.cacheHits / (this.stats.cacheHits + this.stats.cacheMisses)) * 100\n        : 0;\n\n    return {\n      totalCalls: this.stats.totalCalls,\n      totalCost: this.stats.totalCost.toFixed(4),\n      cacheHits: this.stats.cacheHits,\n      cacheMisses: this.stats.cacheMisses,\n      cacheHitRate: cacheHitRate.toFixed(2) + \"%\",\n      fallbacks: this.stats.fallbacks,\n      cacheSize: this.cache.size,\n      rateLimits: this.rateLimits,\n    };\n  }\n\n  /**\n   * LIMPAR CACHE\n   */\n  clearCache() {\n    this.cache.clear();\n  }\n\n  /**\n   * RESETAR ESTAT√çSTICAS\n   */\n  resetStats() {\n    this.stats = {\n      totalCalls: 0,\n      totalCost: 0,\n      cacheHits: 0,\n      cacheMisses: 0,\n      fallbacks: 0,\n    };\n  }\n\n  /**\n   * RECOMENDA√á√ÉO DE MODELO\n   */\n  recommendModel(complexity = \"simple\") {\n    const selection = this.selectModel(complexity);\n    const model = this.providers[selection.provider].models[selection.model];\n\n    return {\n      provider: selection.provider,\n      model: selection.model,\n      description: model.description,\n      costPer1kTokens: model.costPer1kTokens,\n      maxTokens: model.maxTokens,\n    };\n  }\n}\n\n// EXPORTAR COMO ES6 DEFAULT\nexport default OptimizedAPIManager;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}