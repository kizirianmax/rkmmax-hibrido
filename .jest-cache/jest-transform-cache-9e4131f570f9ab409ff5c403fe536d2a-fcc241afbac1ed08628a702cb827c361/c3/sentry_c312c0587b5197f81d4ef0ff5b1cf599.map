{"version":3,"names":["cov_q58xcs0a4","actualCoverage","Sentry","initSentry","f","dsn","s","process","env","REACT_APP_SENTRY_DSN","b","console","warn","init","environment","NODE_ENV","integrations","browserTracingIntegration","replayIntegration","maskAllText","maskAllInputs","blockAllMedia","unmask","tracesSampleRate","replaysSessionSampleRate","replaysOnErrorSampleRate","release","REACT_APP_VERSION","ignoreErrors","beforeSend","event","_hint","userEmail","localStorage","getItem","user","email","contexts","app","url","window","location","href","userAgent","navigator","captureError","error","context","captureException","custom","captureMessage","message","level","setUserContext","userId","setUser","id","clearUserContext"],"sources":["sentry.js"],"sourcesContent":["// src/lib/sentry.js\nimport * as Sentry from \"@sentry/react\";\n\nexport function initSentry() {\n  const dsn = process.env.REACT_APP_SENTRY_DSN;\n\n  if (!dsn) {\n    console.warn(\"⚠️ Sentry DSN not configured. Error tracking disabled.\");\n    return;\n  }\n\n  Sentry.init({\n    dsn,\n    environment: process.env.NODE_ENV || \"development\",\n    integrations: [\n      Sentry.browserTracingIntegration(),\n      Sentry.replayIntegration({\n        // Mascarar PII para privacidade\n        maskAllText: true,\n        maskAllInputs: true,\n        blockAllMedia: true,\n        // Permitir apenas elementos específicos\n        unmask: [\".public-content\"],\n      }),\n    ],\n\n    // Performance Monitoring - Amostragem econômica: 5% em produção\n    tracesSampleRate: process.env.NODE_ENV === \"production\" ? 0.05 : 1.0,\n\n    // Session Replay - Amostragem econômica\n    replaysSessionSampleRate: 0.05, // 5% das sessões normais\n    replaysOnErrorSampleRate: 1.0, // 100% dos erros (crítico)\n\n    // Release tracking\n    release: process.env.REACT_APP_VERSION || \"1.0.0\",\n\n    // Ignore common errors\n    ignoreErrors: [\n      \"ResizeObserver loop limit exceeded\",\n      \"Non-Error promise rejection captured\",\n      \"Network request failed\",\n    ],\n\n    beforeSend(event, _hint) {\n      // Add user context if available\n      const userEmail = localStorage.getItem(\"user_email\");\n      if (userEmail) {\n        event.user = {\n          email: userEmail,\n        };\n      }\n\n      // Add custom context\n      event.contexts = {\n        ...event.contexts,\n        app: {\n          url: window.location.href,\n          userAgent: navigator.userAgent,\n        },\n      };\n\n      return event;\n    },\n  });\n}\n\nexport function captureError(error, context = {}) {\n  Sentry.captureException(error, {\n    contexts: {\n      custom: context,\n    },\n  });\n}\n\nexport function captureMessage(message, level = \"info\", context = {}) {\n  Sentry.captureMessage(message, {\n    level,\n    contexts: {\n      custom: context,\n    },\n  });\n}\n\nexport function setUserContext(email, userId = null) {\n  Sentry.setUser({\n    email,\n    id: userId,\n  });\n}\n\nexport function clearUserContext() {\n  Sentry.setUser(null);\n}\n"],"mappings":"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","ignoreList":[]}