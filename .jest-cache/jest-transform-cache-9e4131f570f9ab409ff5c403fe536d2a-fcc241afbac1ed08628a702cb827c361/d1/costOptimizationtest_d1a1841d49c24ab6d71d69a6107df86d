bf8f16f0f8a236e74c334eed216b8b08
"use strict";

var _costOptimization = require("../costOptimization.js");
/**
 * COST OPTIMIZATION TESTS
 * Testes unitários completos para o módulo de otimização de custos
 */

describe("Cost Optimization Utils", () => {
  beforeEach(() => {
    jest.useFakeTimers();
    _costOptimization.responseCache.clear();
  });
  afterEach(() => {
    jest.useRealTimers();
  });
  describe("ResponseCache", () => {
    test("should generate consistent MD5 hash for same messages", () => {
      const cache = new _costOptimization.ResponseCache();
      const messages = [{
        role: "user",
        content: "Hello"
      }];
      const hash1 = cache.generateHash(messages);
      const hash2 = cache.generateHash(messages);
      expect(hash1).toBe(hash2);
      expect(hash1).toHaveLength(32); // MD5 hash length
    });
    test("should cache and retrieve responses correctly", () => {
      const cache = new _costOptimization.ResponseCache();
      const messages = [{
        role: "user",
        content: "Test"
      }];
      const response = {
        text: "Response"
      };

      // Cache miss initially
      expect(cache.get(messages)).toBeNull();

      // Set cache
      cache.set(messages, response);

      // Cache hit
      expect(cache.get(messages)).toEqual(response);
    });
    test("should expire cached items after TTL", () => {
      const cache = new _costOptimization.ResponseCache(1000, 100); // 100ms TTL
      const messages = [{
        role: "user",
        content: "Test"
      }];
      const response = {
        text: "Response"
      };
      cache.set(messages, response);

      // Should exist initially
      expect(cache.get(messages)).toEqual(response);

      // Wait for TTL to expire
      jest.advanceTimersByTime(150);

      // Should be expired
      expect(cache.get(messages)).toBeNull();
    });
    test("should evict oldest item when maxSize is reached", () => {
      const cache = new _costOptimization.ResponseCache(2); // Max 2 items

      const msg1 = [{
        role: "user",
        content: "First"
      }];
      const msg2 = [{
        role: "user",
        content: "Second"
      }];
      const msg3 = [{
        role: "user",
        content: "Third"
      }];
      cache.set(msg1, {
        text: "Response 1"
      });
      cache.set(msg2, {
        text: "Response 2"
      });
      cache.set(msg3, {
        text: "Response 3"
      });

      // First should be evicted
      expect(cache.get(msg1)).toBeNull();
      expect(cache.get(msg2)).not.toBeNull();
      expect(cache.get(msg3)).not.toBeNull();
    });
    test("should return cache statistics", () => {
      const cache = new _costOptimization.ResponseCache(100, 5000);
      const messages = [{
        role: "user",
        content: "Test"
      }];
      const response = {
        text: "Response"
      };
      cache.set(messages, response);
      const stats = cache.stats();
      expect(stats.size).toBe(1);
      expect(stats.maxSize).toBe(100);
      expect(stats.ttl).toBe(5000);
    });
  });
  describe("Utility Functions", () => {
    test("should compress prompts by removing extra whitespace", () => {
      const prompt = "  Hello    world  \n\n\n  How are you?  ";
      const compressed = (0, _costOptimization.compressPrompt)(prompt);
      expect(compressed).toBe("Hello world How are you?");
      expect(compressed.length).toBeLessThan(prompt.length);
    });
    test("should remove consecutive duplicate messages", () => {
      const messages = [{
        role: "user",
        content: "Hello"
      }, {
        role: "assistant",
        content: "Hi"
      }, {
        role: "user",
        content: "Hello"
      }, {
        role: "user",
        content: "Hello"
      }, {
        role: "user",
        content: "How are you?"
      }];
      const deduplicated = (0, _costOptimization.deduplicateMessages)(messages);
      expect(deduplicated).toHaveLength(4);
      expect(deduplicated[2].content).toBe("Hello");
      expect(deduplicated[3].content).toBe("How are you?");
    });
    test("should estimate tokens correctly", () => {
      expect((0, _costOptimization.estimateTokens)("test")).toBe(1); // 4 chars = 1 token
      expect((0, _costOptimization.estimateTokens)("Hello world")).toBe(3); // 11 chars = 3 tokens
      expect((0, _costOptimization.estimateTokens)("a")).toBe(1); // Should round up
      expect((0, _costOptimization.estimateTokens)("")).toBe(0);
    });
    test("should limit context to max tokens", () => {
      const messages = [{
        role: "user",
        content: "a".repeat(100)
      },
      // 25 tokens
      {
        role: "assistant",
        content: "b".repeat(100)
      },
      // 25 tokens
      {
        role: "user",
        content: "c".repeat(100)
      },
      // 25 tokens
      {
        role: "assistant",
        content: "d".repeat(100)
      } // 25 tokens
      ];
      const limited = (0, _costOptimization.limitContext)(messages, 60);

      // Should keep only the most recent messages that fit within 60 tokens
      expect(limited.length).toBeLessThan(messages.length);
      // The last message should be from the original last messages
      expect(limited[limited.length - 1].content).toBe("d".repeat(100));
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY29zdE9wdGltaXphdGlvbiIsInJlcXVpcmUiLCJkZXNjcmliZSIsImJlZm9yZUVhY2giLCJqZXN0IiwidXNlRmFrZVRpbWVycyIsInJlc3BvbnNlQ2FjaGUiLCJjbGVhciIsImFmdGVyRWFjaCIsInVzZVJlYWxUaW1lcnMiLCJ0ZXN0IiwiY2FjaGUiLCJSZXNwb25zZUNhY2hlIiwibWVzc2FnZXMiLCJyb2xlIiwiY29udGVudCIsImhhc2gxIiwiZ2VuZXJhdGVIYXNoIiwiaGFzaDIiLCJleHBlY3QiLCJ0b0JlIiwidG9IYXZlTGVuZ3RoIiwicmVzcG9uc2UiLCJ0ZXh0IiwiZ2V0IiwidG9CZU51bGwiLCJzZXQiLCJ0b0VxdWFsIiwiYWR2YW5jZVRpbWVyc0J5VGltZSIsIm1zZzEiLCJtc2cyIiwibXNnMyIsIm5vdCIsInN0YXRzIiwic2l6ZSIsIm1heFNpemUiLCJ0dGwiLCJwcm9tcHQiLCJjb21wcmVzc2VkIiwiY29tcHJlc3NQcm9tcHQiLCJsZW5ndGgiLCJ0b0JlTGVzc1RoYW4iLCJkZWR1cGxpY2F0ZWQiLCJkZWR1cGxpY2F0ZU1lc3NhZ2VzIiwiZXN0aW1hdGVUb2tlbnMiLCJyZXBlYXQiLCJsaW1pdGVkIiwibGltaXRDb250ZXh0Il0sInNvdXJjZXMiOlsiY29zdE9wdGltaXphdGlvbi50ZXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ09TVCBPUFRJTUlaQVRJT04gVEVTVFNcbiAqIFRlc3RlcyB1bml0w6FyaW9zIGNvbXBsZXRvcyBwYXJhIG8gbcOzZHVsbyBkZSBvdGltaXphw6fDo28gZGUgY3VzdG9zXG4gKi9cblxuaW1wb3J0IHtcbiAgcmVzcG9uc2VDYWNoZSxcbiAgUmVzcG9uc2VDYWNoZSxcbiAgY29tcHJlc3NQcm9tcHQsXG4gIGRlZHVwbGljYXRlTWVzc2FnZXMsXG4gIGVzdGltYXRlVG9rZW5zLFxuICBsaW1pdENvbnRleHQsXG59IGZyb20gXCIuLi9jb3N0T3B0aW1pemF0aW9uLmpzXCI7XG5cbmRlc2NyaWJlKFwiQ29zdCBPcHRpbWl6YXRpb24gVXRpbHNcIiwgKCkgPT4ge1xuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBqZXN0LnVzZUZha2VUaW1lcnMoKTtcbiAgICByZXNwb25zZUNhY2hlLmNsZWFyKCk7XG4gIH0pO1xuXG4gIGFmdGVyRWFjaCgoKSA9PiB7XG4gICAgamVzdC51c2VSZWFsVGltZXJzKCk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKFwiUmVzcG9uc2VDYWNoZVwiLCAoKSA9PiB7XG4gICAgdGVzdChcInNob3VsZCBnZW5lcmF0ZSBjb25zaXN0ZW50IE1ENSBoYXNoIGZvciBzYW1lIG1lc3NhZ2VzXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IGNhY2hlID0gbmV3IFJlc3BvbnNlQ2FjaGUoKTtcbiAgICAgIGNvbnN0IG1lc3NhZ2VzID0gW3sgcm9sZTogXCJ1c2VyXCIsIGNvbnRlbnQ6IFwiSGVsbG9cIiB9XTtcblxuICAgICAgY29uc3QgaGFzaDEgPSBjYWNoZS5nZW5lcmF0ZUhhc2gobWVzc2FnZXMpO1xuICAgICAgY29uc3QgaGFzaDIgPSBjYWNoZS5nZW5lcmF0ZUhhc2gobWVzc2FnZXMpO1xuXG4gICAgICBleHBlY3QoaGFzaDEpLnRvQmUoaGFzaDIpO1xuICAgICAgZXhwZWN0KGhhc2gxKS50b0hhdmVMZW5ndGgoMzIpOyAvLyBNRDUgaGFzaCBsZW5ndGhcbiAgICB9KTtcblxuICAgIHRlc3QoXCJzaG91bGQgY2FjaGUgYW5kIHJldHJpZXZlIHJlc3BvbnNlcyBjb3JyZWN0bHlcIiwgKCkgPT4ge1xuICAgICAgY29uc3QgY2FjaGUgPSBuZXcgUmVzcG9uc2VDYWNoZSgpO1xuICAgICAgY29uc3QgbWVzc2FnZXMgPSBbeyByb2xlOiBcInVzZXJcIiwgY29udGVudDogXCJUZXN0XCIgfV07XG4gICAgICBjb25zdCByZXNwb25zZSA9IHsgdGV4dDogXCJSZXNwb25zZVwiIH07XG5cbiAgICAgIC8vIENhY2hlIG1pc3MgaW5pdGlhbGx5XG4gICAgICBleHBlY3QoY2FjaGUuZ2V0KG1lc3NhZ2VzKSkudG9CZU51bGwoKTtcblxuICAgICAgLy8gU2V0IGNhY2hlXG4gICAgICBjYWNoZS5zZXQobWVzc2FnZXMsIHJlc3BvbnNlKTtcblxuICAgICAgLy8gQ2FjaGUgaGl0XG4gICAgICBleHBlY3QoY2FjaGUuZ2V0KG1lc3NhZ2VzKSkudG9FcXVhbChyZXNwb25zZSk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KFwic2hvdWxkIGV4cGlyZSBjYWNoZWQgaXRlbXMgYWZ0ZXIgVFRMXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IGNhY2hlID0gbmV3IFJlc3BvbnNlQ2FjaGUoMTAwMCwgMTAwKTsgLy8gMTAwbXMgVFRMXG4gICAgICBjb25zdCBtZXNzYWdlcyA9IFt7IHJvbGU6IFwidXNlclwiLCBjb250ZW50OiBcIlRlc3RcIiB9XTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0geyB0ZXh0OiBcIlJlc3BvbnNlXCIgfTtcblxuICAgICAgY2FjaGUuc2V0KG1lc3NhZ2VzLCByZXNwb25zZSk7XG5cbiAgICAgIC8vIFNob3VsZCBleGlzdCBpbml0aWFsbHlcbiAgICAgIGV4cGVjdChjYWNoZS5nZXQobWVzc2FnZXMpKS50b0VxdWFsKHJlc3BvbnNlKTtcblxuICAgICAgLy8gV2FpdCBmb3IgVFRMIHRvIGV4cGlyZVxuICAgICAgamVzdC5hZHZhbmNlVGltZXJzQnlUaW1lKDE1MCk7XG5cbiAgICAgIC8vIFNob3VsZCBiZSBleHBpcmVkXG4gICAgICBleHBlY3QoY2FjaGUuZ2V0KG1lc3NhZ2VzKSkudG9CZU51bGwoKTtcbiAgICB9KTtcblxuICAgIHRlc3QoXCJzaG91bGQgZXZpY3Qgb2xkZXN0IGl0ZW0gd2hlbiBtYXhTaXplIGlzIHJlYWNoZWRcIiwgKCkgPT4ge1xuICAgICAgY29uc3QgY2FjaGUgPSBuZXcgUmVzcG9uc2VDYWNoZSgyKTsgLy8gTWF4IDIgaXRlbXNcblxuICAgICAgY29uc3QgbXNnMSA9IFt7IHJvbGU6IFwidXNlclwiLCBjb250ZW50OiBcIkZpcnN0XCIgfV07XG4gICAgICBjb25zdCBtc2cyID0gW3sgcm9sZTogXCJ1c2VyXCIsIGNvbnRlbnQ6IFwiU2Vjb25kXCIgfV07XG4gICAgICBjb25zdCBtc2czID0gW3sgcm9sZTogXCJ1c2VyXCIsIGNvbnRlbnQ6IFwiVGhpcmRcIiB9XTtcblxuICAgICAgY2FjaGUuc2V0KG1zZzEsIHsgdGV4dDogXCJSZXNwb25zZSAxXCIgfSk7XG4gICAgICBjYWNoZS5zZXQobXNnMiwgeyB0ZXh0OiBcIlJlc3BvbnNlIDJcIiB9KTtcbiAgICAgIGNhY2hlLnNldChtc2czLCB7IHRleHQ6IFwiUmVzcG9uc2UgM1wiIH0pO1xuXG4gICAgICAvLyBGaXJzdCBzaG91bGQgYmUgZXZpY3RlZFxuICAgICAgZXhwZWN0KGNhY2hlLmdldChtc2cxKSkudG9CZU51bGwoKTtcbiAgICAgIGV4cGVjdChjYWNoZS5nZXQobXNnMikpLm5vdC50b0JlTnVsbCgpO1xuICAgICAgZXhwZWN0KGNhY2hlLmdldChtc2czKSkubm90LnRvQmVOdWxsKCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KFwic2hvdWxkIHJldHVybiBjYWNoZSBzdGF0aXN0aWNzXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IGNhY2hlID0gbmV3IFJlc3BvbnNlQ2FjaGUoMTAwLCA1MDAwKTtcbiAgICAgIGNvbnN0IG1lc3NhZ2VzID0gW3sgcm9sZTogXCJ1c2VyXCIsIGNvbnRlbnQ6IFwiVGVzdFwiIH1dO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSB7IHRleHQ6IFwiUmVzcG9uc2VcIiB9O1xuXG4gICAgICBjYWNoZS5zZXQobWVzc2FnZXMsIHJlc3BvbnNlKTtcblxuICAgICAgY29uc3Qgc3RhdHMgPSBjYWNoZS5zdGF0cygpO1xuXG4gICAgICBleHBlY3Qoc3RhdHMuc2l6ZSkudG9CZSgxKTtcbiAgICAgIGV4cGVjdChzdGF0cy5tYXhTaXplKS50b0JlKDEwMCk7XG4gICAgICBleHBlY3Qoc3RhdHMudHRsKS50b0JlKDUwMDApO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZShcIlV0aWxpdHkgRnVuY3Rpb25zXCIsICgpID0+IHtcbiAgICB0ZXN0KFwic2hvdWxkIGNvbXByZXNzIHByb21wdHMgYnkgcmVtb3ZpbmcgZXh0cmEgd2hpdGVzcGFjZVwiLCAoKSA9PiB7XG4gICAgICBjb25zdCBwcm9tcHQgPSBcIiAgSGVsbG8gICAgd29ybGQgIFxcblxcblxcbiAgSG93IGFyZSB5b3U/ICBcIjtcbiAgICAgIGNvbnN0IGNvbXByZXNzZWQgPSBjb21wcmVzc1Byb21wdChwcm9tcHQpO1xuXG4gICAgICBleHBlY3QoY29tcHJlc3NlZCkudG9CZShcIkhlbGxvIHdvcmxkIEhvdyBhcmUgeW91P1wiKTtcbiAgICAgIGV4cGVjdChjb21wcmVzc2VkLmxlbmd0aCkudG9CZUxlc3NUaGFuKHByb21wdC5sZW5ndGgpO1xuICAgIH0pO1xuXG4gICAgdGVzdChcInNob3VsZCByZW1vdmUgY29uc2VjdXRpdmUgZHVwbGljYXRlIG1lc3NhZ2VzXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IG1lc3NhZ2VzID0gW1xuICAgICAgICB7IHJvbGU6IFwidXNlclwiLCBjb250ZW50OiBcIkhlbGxvXCIgfSxcbiAgICAgICAgeyByb2xlOiBcImFzc2lzdGFudFwiLCBjb250ZW50OiBcIkhpXCIgfSxcbiAgICAgICAgeyByb2xlOiBcInVzZXJcIiwgY29udGVudDogXCJIZWxsb1wiIH0sXG4gICAgICAgIHsgcm9sZTogXCJ1c2VyXCIsIGNvbnRlbnQ6IFwiSGVsbG9cIiB9LFxuICAgICAgICB7IHJvbGU6IFwidXNlclwiLCBjb250ZW50OiBcIkhvdyBhcmUgeW91P1wiIH0sXG4gICAgICBdO1xuXG4gICAgICBjb25zdCBkZWR1cGxpY2F0ZWQgPSBkZWR1cGxpY2F0ZU1lc3NhZ2VzKG1lc3NhZ2VzKTtcblxuICAgICAgZXhwZWN0KGRlZHVwbGljYXRlZCkudG9IYXZlTGVuZ3RoKDQpO1xuICAgICAgZXhwZWN0KGRlZHVwbGljYXRlZFsyXS5jb250ZW50KS50b0JlKFwiSGVsbG9cIik7XG4gICAgICBleHBlY3QoZGVkdXBsaWNhdGVkWzNdLmNvbnRlbnQpLnRvQmUoXCJIb3cgYXJlIHlvdT9cIik7XG4gICAgfSk7XG5cbiAgICB0ZXN0KFwic2hvdWxkIGVzdGltYXRlIHRva2VucyBjb3JyZWN0bHlcIiwgKCkgPT4ge1xuICAgICAgZXhwZWN0KGVzdGltYXRlVG9rZW5zKFwidGVzdFwiKSkudG9CZSgxKTsgLy8gNCBjaGFycyA9IDEgdG9rZW5cbiAgICAgIGV4cGVjdChlc3RpbWF0ZVRva2VucyhcIkhlbGxvIHdvcmxkXCIpKS50b0JlKDMpOyAvLyAxMSBjaGFycyA9IDMgdG9rZW5zXG4gICAgICBleHBlY3QoZXN0aW1hdGVUb2tlbnMoXCJhXCIpKS50b0JlKDEpOyAvLyBTaG91bGQgcm91bmQgdXBcbiAgICAgIGV4cGVjdChlc3RpbWF0ZVRva2VucyhcIlwiKSkudG9CZSgwKTtcbiAgICB9KTtcblxuICAgIHRlc3QoXCJzaG91bGQgbGltaXQgY29udGV4dCB0byBtYXggdG9rZW5zXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IG1lc3NhZ2VzID0gW1xuICAgICAgICB7IHJvbGU6IFwidXNlclwiLCBjb250ZW50OiBcImFcIi5yZXBlYXQoMTAwKSB9LCAvLyAyNSB0b2tlbnNcbiAgICAgICAgeyByb2xlOiBcImFzc2lzdGFudFwiLCBjb250ZW50OiBcImJcIi5yZXBlYXQoMTAwKSB9LCAvLyAyNSB0b2tlbnNcbiAgICAgICAgeyByb2xlOiBcInVzZXJcIiwgY29udGVudDogXCJjXCIucmVwZWF0KDEwMCkgfSwgLy8gMjUgdG9rZW5zXG4gICAgICAgIHsgcm9sZTogXCJhc3Npc3RhbnRcIiwgY29udGVudDogXCJkXCIucmVwZWF0KDEwMCkgfSwgLy8gMjUgdG9rZW5zXG4gICAgICBdO1xuXG4gICAgICBjb25zdCBsaW1pdGVkID0gbGltaXRDb250ZXh0KG1lc3NhZ2VzLCA2MCk7XG5cbiAgICAgIC8vIFNob3VsZCBrZWVwIG9ubHkgdGhlIG1vc3QgcmVjZW50IG1lc3NhZ2VzIHRoYXQgZml0IHdpdGhpbiA2MCB0b2tlbnNcbiAgICAgIGV4cGVjdChsaW1pdGVkLmxlbmd0aCkudG9CZUxlc3NUaGFuKG1lc3NhZ2VzLmxlbmd0aCk7XG4gICAgICAvLyBUaGUgbGFzdCBtZXNzYWdlIHNob3VsZCBiZSBmcm9tIHRoZSBvcmlnaW5hbCBsYXN0IG1lc3NhZ2VzXG4gICAgICBleHBlY3QobGltaXRlZFtsaW1pdGVkLmxlbmd0aCAtIDFdLmNvbnRlbnQpLnRvQmUoXCJkXCIucmVwZWF0KDEwMCkpO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuIl0sIm1hcHBpbmdzIjoiOztBQUtBLElBQUFBLGlCQUFBLEdBQUFDLE9BQUE7QUFMQTtBQUNBO0FBQ0E7QUFDQTs7QUFXQUMsUUFBUSxDQUFDLHlCQUF5QixFQUFFLE1BQU07RUFDeENDLFVBQVUsQ0FBQyxNQUFNO0lBQ2ZDLElBQUksQ0FBQ0MsYUFBYSxDQUFDLENBQUM7SUFDcEJDLCtCQUFhLENBQUNDLEtBQUssQ0FBQyxDQUFDO0VBQ3ZCLENBQUMsQ0FBQztFQUVGQyxTQUFTLENBQUMsTUFBTTtJQUNkSixJQUFJLENBQUNLLGFBQWEsQ0FBQyxDQUFDO0VBQ3RCLENBQUMsQ0FBQztFQUVGUCxRQUFRLENBQUMsZUFBZSxFQUFFLE1BQU07SUFDOUJRLElBQUksQ0FBQyx1REFBdUQsRUFBRSxNQUFNO01BQ2xFLE1BQU1DLEtBQUssR0FBRyxJQUFJQywrQkFBYSxDQUFDLENBQUM7TUFDakMsTUFBTUMsUUFBUSxHQUFHLENBQUM7UUFBRUMsSUFBSSxFQUFFLE1BQU07UUFBRUMsT0FBTyxFQUFFO01BQVEsQ0FBQyxDQUFDO01BRXJELE1BQU1DLEtBQUssR0FBR0wsS0FBSyxDQUFDTSxZQUFZLENBQUNKLFFBQVEsQ0FBQztNQUMxQyxNQUFNSyxLQUFLLEdBQUdQLEtBQUssQ0FBQ00sWUFBWSxDQUFDSixRQUFRLENBQUM7TUFFMUNNLE1BQU0sQ0FBQ0gsS0FBSyxDQUFDLENBQUNJLElBQUksQ0FBQ0YsS0FBSyxDQUFDO01BQ3pCQyxNQUFNLENBQUNILEtBQUssQ0FBQyxDQUFDSyxZQUFZLENBQUMsRUFBRSxDQUFDLENBQUMs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