{"version":3,"names":["cov_2detrt20j3","actualCoverage","API_URL","s","sendMessageToGroq","messages","f","response","fetch","method","headers","body","JSON","stringify","ok","b","errorData","json","Error","error","data","console","sendMessageToGroqStream","onChunk","fullText","words","split","word","Promise","resolve","setTimeout","GROQ_MODELS","LLAMA_70B","LLAMA_8B","GPT_OSS_120B","GPT_OSS_20B","groqService"],"sources":["groqService.js"],"sourcesContent":["/**\n * Groq API Service\n * Serviço para integração com Groq AI (Llama 3.1 70B)\n * Gratuito com rate limits generosos\n */\n\n// Usar API serverless do Vercel ao invés de chamar Groq diretamente\nconst API_URL = \"/api/chat\";\n\n/**\n * Envia mensagem para o Groq AI\n * @param {Array} messages - Array de mensagens no formato OpenAI\n * @param {Object} options - Opções adicionais\n * @returns {Promise<string>} - Resposta do AI\n */\nexport async function sendMessageToGroq(messages) {\n  try {\n    // Chamar API serverless do Vercel\n    const response = await fetch(API_URL, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({ messages }),\n    });\n\n    // Verificar erros\n    if (!response.ok) {\n      const errorData = await response.json();\n      throw new Error(errorData.error || \"Erro ao comunicar com API\");\n    }\n\n    // Parsear resposta\n    const data = await response.json();\n\n    // Retornar conteúdo da mensagem\n    return data.response;\n  } catch (error) {\n    console.error(\"Erro no Groq Service:\", error);\n    throw error;\n  }\n}\n\n/**\n * Gera resposta com streaming (para mostrar texto aparecendo aos poucos)\n * @param {Array} messages - Array de mensagens\n * @param {Function} onChunk - Callback para cada chunk de texto\n * @returns {Promise<string>} - Texto completo\n */\nexport async function sendMessageToGroqStream(messages, onChunk) {\n  try {\n    // Streaming não suportado via API serverless por enquanto\n    // Usar método normal e simular streaming\n\n    const response = await fetch(API_URL, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({ messages }),\n    });\n\n    if (!response.ok) {\n      const errorData = await response.json();\n      throw new Error(errorData.error || \"Erro ao comunicar com API\");\n    }\n\n    const data = await response.json();\n    const fullText = data.response;\n\n    // Simular streaming dividindo o texto\n    const words = fullText.split(\" \");\n    for (const word of words) {\n      onChunk(word + \" \");\n      await new Promise((resolve) => setTimeout(resolve, 50)); // 50ms delay\n    }\n\n    return fullText;\n  } catch (error) {\n    console.error(\"Erro no Groq Stream:\", error);\n    throw error;\n  }\n}\n\n/**\n * Modelos disponíveis no Groq\n */\nexport const GROQ_MODELS = {\n  LLAMA_70B: \"llama-3.3-70b-versatile\", // Atualizado: 3.1 foi descontinuado\n  LLAMA_8B: \"llama-3.1-8b-instant\",\n  GPT_OSS_120B: \"openai/gpt-oss-120b\",\n  GPT_OSS_20B: \"openai/gpt-oss-20b\",\n};\n\nconst groqService = {\n  sendMessageToGroq,\n  sendMessageToGroqStream,\n  GROQ_MODELS,\n};\n\nexport default groqService;\n"],"mappings":"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","ignoreList":[]}