{"version":3,"names":["GitHubAutomation","constructor","token","process","env","GITHUB_TOKEN","baseUrl","headers","Accept","Authorization","Error","getRepositoryInfo","owner","repo","response","fetch","ok","status","data","json","name","login","url","html_url","defaultBranch","default_branch","isPrivate","private","description","error","message","getBranchRef","branch","sha","object","getCommitTree","author","tree","createBlob","content","encoding","method","body","JSON","stringify","createTree","files","baseTreeSha","file","blob","push","path","mode","type","delete","base_tree","createCommit","treeSha","parentSha","parents","email","date","Date","toISOString","updateRef","newSha","force","updated","commitAndPush","console","log","branchRef","substring","currentTree","newTree","newCommit","success","commit","filesChanged","length","createPullRequest","title","head","base","number","state","getCommitFiles","commitSha","map","f","filename","additions","deletions","changes","stats","total","getFileContent","Buffer","from","toString","size","createBranch","branchName","fromBranch","originBranch","ref","created","deleteBranch","deleted","getCommitHistory","limit","module","exports","_default","default"],"sources":["GitHubAutomation.js"],"sourcesContent":["/**\n * GITHUB AUTOMATION\n * Integra√ß√£o completa com GitHub para commits, pushes e PRs autom√°ticos\n * Suporta: Criar commits, fazer push, criar PRs, gerenciar branches\n */\n\nclass GitHubAutomation {\n  constructor(token) {\n    this.token = token || process.env.GITHUB_TOKEN;\n    this.baseUrl = \"https://api.github.com\";\n    this.headers = {\n      Accept: \"application/vnd.github.v3+json\",\n      Authorization: `token ${this.token}`,\n      \"User-Agent\": \"RKMMAX-Automation\",\n    };\n\n    if (!this.token) {\n      throw new Error(\"GITHUB_TOKEN n√£o configurado\");\n    }\n  }\n\n  /**\n   * Obter informa√ß√µes do reposit√≥rio\n   */\n  async getRepositoryInfo(owner, repo) {\n    try {\n      const response = await fetch(`${this.baseUrl}/repos/${owner}/${repo}`, {\n        headers: this.headers,\n      });\n\n      if (!response.ok) {\n        throw new Error(`GitHub API error: ${response.status}`);\n      }\n\n      const data = await response.json();\n\n      return {\n        name: data.name,\n        owner: data.owner.login,\n        url: data.html_url,\n        defaultBranch: data.default_branch,\n        isPrivate: data.private,\n        description: data.description,\n      };\n    } catch (error) {\n      throw new Error(`Erro ao obter info do repo: ${error.message}`);\n    }\n  }\n\n  /**\n   * Obter refer√™ncia de branch (SHA)\n   */\n  async getBranchRef(owner, repo, branch = \"main\") {\n    try {\n      const response = await fetch(\n        `${this.baseUrl}/repos/${owner}/${repo}/git/refs/heads/${branch}`,\n        { headers: this.headers }\n      );\n\n      if (!response.ok) {\n        throw new Error(`Branch n√£o encontrado: ${branch}`);\n      }\n\n      const data = await response.json();\n\n      return {\n        branch,\n        sha: data.object.sha,\n        url: data.url,\n      };\n    } catch (error) {\n      throw new Error(`Erro ao obter branch: ${error.message}`);\n    }\n  }\n\n  /**\n   * Obter √°rvore de commits\n   */\n  async getCommitTree(owner, repo, sha) {\n    try {\n      const response = await fetch(`${this.baseUrl}/repos/${owner}/${repo}/git/commits/${sha}`, {\n        headers: this.headers,\n      });\n\n      if (!response.ok) {\n        throw new Error(`Commit n√£o encontrado: ${sha}`);\n      }\n\n      const data = await response.json();\n\n      return {\n        sha: data.sha,\n        message: data.message,\n        author: data.author,\n        tree: data.tree,\n      };\n    } catch (error) {\n      throw new Error(`Erro ao obter √°rvore: ${error.message}`);\n    }\n  }\n\n  /**\n   * Criar blob (arquivo)\n   */\n  async createBlob(owner, repo, content, encoding = \"utf-8\") {\n    try {\n      const response = await fetch(`${this.baseUrl}/repos/${owner}/${repo}/git/blobs`, {\n        method: \"POST\",\n        headers: this.headers,\n        body: JSON.stringify({\n          content,\n          encoding,\n        }),\n      });\n\n      if (!response.ok) {\n        throw new Error(`Erro ao criar blob: ${response.status}`);\n      }\n\n      const data = await response.json();\n\n      return {\n        sha: data.sha,\n        url: data.url,\n      };\n    } catch (error) {\n      throw new Error(`Erro ao criar blob: ${error.message}`);\n    }\n  }\n\n  /**\n   * Criar √°rvore de arquivos\n   */\n  async createTree(owner, repo, files, baseTreeSha = null) {\n    try {\n      const tree = [];\n\n      for (const file of files) {\n        // Se for arquivo novo\n        if (file.content) {\n          const blob = await this.createBlob(owner, repo, file.content);\n          tree.push({\n            path: file.path,\n            mode: \"100644\", // arquivo regular\n            type: \"blob\",\n            sha: blob.sha,\n          });\n        }\n        // Se for deletar arquivo\n        else if (file.delete) {\n          tree.push({\n            path: file.path,\n            mode: \"100644\",\n            type: \"blob\",\n            sha: null,\n          });\n        }\n      }\n\n      const response = await fetch(`${this.baseUrl}/repos/${owner}/${repo}/git/trees`, {\n        method: \"POST\",\n        headers: this.headers,\n        body: JSON.stringify({\n          tree,\n          base_tree: baseTreeSha,\n        }),\n      });\n\n      if (!response.ok) {\n        throw new Error(`Erro ao criar √°rvore: ${response.status}`);\n      }\n\n      const data = await response.json();\n\n      return {\n        sha: data.sha,\n        url: data.url,\n      };\n    } catch (error) {\n      throw new Error(`Erro ao criar √°rvore: ${error.message}`);\n    }\n  }\n\n  /**\n   * Criar commit\n   */\n  async createCommit(owner, repo, message, treeSha, parentSha, author) {\n    try {\n      const response = await fetch(`${this.baseUrl}/repos/${owner}/${repo}/git/commits`, {\n        method: \"POST\",\n        headers: this.headers,\n        body: JSON.stringify({\n          message,\n          tree: treeSha,\n          parents: [parentSha],\n          author: {\n            name: author?.name || \"RKMMAX Bot\",\n            email: author?.email || \"bot@rkmmax.com\",\n            date: new Date().toISOString(),\n          },\n        }),\n      });\n\n      if (!response.ok) {\n        throw new Error(`Erro ao criar commit: ${response.status}`);\n      }\n\n      const data = await response.json();\n\n      return {\n        sha: data.sha,\n        message: data.message,\n        author: data.author,\n        url: data.html_url,\n      };\n    } catch (error) {\n      throw new Error(`Erro ao criar commit: ${error.message}`);\n    }\n  }\n\n  /**\n   * Atualizar refer√™ncia (fazer push)\n   */\n  async updateRef(owner, repo, branch, newSha, force = false) {\n    try {\n      const response = await fetch(\n        `${this.baseUrl}/repos/${owner}/${repo}/git/refs/heads/${branch}`,\n        {\n          method: \"PATCH\",\n          headers: this.headers,\n          body: JSON.stringify({\n            sha: newSha,\n            force,\n          }),\n        }\n      );\n\n      if (!response.ok) {\n        throw new Error(`Erro ao atualizar refer√™ncia: ${response.status}`);\n      }\n\n      const data = await response.json();\n\n      return {\n        branch,\n        sha: data.object.sha,\n        updated: true,\n      };\n    } catch (error) {\n      throw new Error(`Erro ao fazer push: ${error.message}`);\n    }\n  }\n\n  /**\n   * Fluxo completo: Commit + Push\n   */\n  async commitAndPush(owner, repo, files, message, branch = \"main\", author = null) {\n    try {\n      console.log(`üìù Iniciando commit em ${owner}/${repo}/${branch}`);\n\n      // 1. Obter refer√™ncia atual do branch\n      const branchRef = await this.getBranchRef(owner, repo, branch);\n      console.log(`‚úÖ Branch encontrado: ${branchRef.sha.substring(0, 7)}`);\n\n      // 2. Obter √°rvore atual\n      const currentTree = await this.getCommitTree(owner, repo, branchRef.sha);\n      console.log(`‚úÖ √Årvore obtida: ${currentTree.tree.sha.substring(0, 7)}`);\n\n      // 3. Criar nova √°rvore com os arquivos\n      const newTree = await this.createTree(owner, repo, files, currentTree.tree.sha);\n      console.log(`‚úÖ Nova √°rvore criada: ${newTree.sha.substring(0, 7)}`);\n\n      // 4. Criar novo commit\n      const newCommit = await this.createCommit(\n        owner,\n        repo,\n        message,\n        newTree.sha,\n        branchRef.sha,\n        author\n      );\n      console.log(`‚úÖ Commit criado: ${newCommit.sha.substring(0, 7)}`);\n\n      // 5. Fazer push (atualizar refer√™ncia)\n      const push = await this.updateRef(owner, repo, branch, newCommit.sha);\n      console.log(`‚úÖ Push realizado com sucesso!`);\n\n      return {\n        success: true,\n        commit: newCommit,\n        branch: push.branch,\n        filesChanged: files.length,\n      };\n    } catch (error) {\n      console.error(`‚ùå Erro no commit/push: ${error.message}`);\n      throw error;\n    }\n  }\n\n  /**\n   * Criar Pull Request\n   */\n  async createPullRequest(owner, repo, title, body, head, base = \"main\") {\n    try {\n      const response = await fetch(`${this.baseUrl}/repos/${owner}/${repo}/pulls`, {\n        method: \"POST\",\n        headers: this.headers,\n        body: JSON.stringify({\n          title,\n          body,\n          head,\n          base,\n        }),\n      });\n\n      if (!response.ok) {\n        const error = await response.json();\n        throw new Error(`Erro ao criar PR: ${error.message}`);\n      }\n\n      const data = await response.json();\n\n      return {\n        number: data.number,\n        title: data.title,\n        url: data.html_url,\n        status: data.state,\n      };\n    } catch (error) {\n      throw new Error(`Erro ao criar PR: ${error.message}`);\n    }\n  }\n\n  /**\n   * Listar arquivos modificados em um commit\n   */\n  async getCommitFiles(owner, repo, commitSha) {\n    try {\n      const response = await fetch(`${this.baseUrl}/repos/${owner}/${repo}/commits/${commitSha}`, {\n        headers: this.headers,\n      });\n\n      if (!response.ok) {\n        throw new Error(`Commit n√£o encontrado: ${commitSha}`);\n      }\n\n      const data = await response.json();\n\n      return {\n        commit: commitSha,\n        author: data.commit.author,\n        message: data.commit.message,\n        files: data.files.map((f) => ({\n          path: f.filename,\n          status: f.status,\n          additions: f.additions,\n          deletions: f.deletions,\n          changes: f.changes,\n        })),\n        stats: {\n          total: data.files.length,\n          additions: data.stats.additions,\n          deletions: data.stats.deletions,\n        },\n      };\n    } catch (error) {\n      throw new Error(`Erro ao obter arquivos: ${error.message}`);\n    }\n  }\n\n  /**\n   * Obter conte√∫do de arquivo\n   */\n  async getFileContent(owner, repo, path, branch = \"main\") {\n    try {\n      const response = await fetch(\n        `${this.baseUrl}/repos/${owner}/${repo}/contents/${path}?ref=${branch}`,\n        { headers: this.headers }\n      );\n\n      if (!response.ok) {\n        throw new Error(`Arquivo n√£o encontrado: ${path}`);\n      }\n\n      const data = await response.json();\n\n      // Decodificar base64\n      const content = Buffer.from(data.content, \"base64\").toString(\"utf-8\");\n\n      return {\n        path: data.path,\n        content,\n        sha: data.sha,\n        size: data.size,\n      };\n    } catch (error) {\n      throw new Error(`Erro ao obter arquivo: ${error.message}`);\n    }\n  }\n\n  /**\n   * Criar branch\n   */\n  async createBranch(owner, repo, branchName, fromBranch = \"main\") {\n    try {\n      // Obter SHA do branch origem\n      const originBranch = await this.getBranchRef(owner, repo, fromBranch);\n\n      // Criar novo branch\n      const response = await fetch(`${this.baseUrl}/repos/${owner}/${repo}/git/refs`, {\n        method: \"POST\",\n        headers: this.headers,\n        body: JSON.stringify({\n          ref: `refs/heads/${branchName}`,\n          sha: originBranch.sha,\n        }),\n      });\n\n      if (!response.ok) {\n        throw new Error(`Erro ao criar branch: ${response.status}`);\n      }\n\n      const data = await response.json();\n\n      return {\n        branch: branchName,\n        sha: data.object.sha,\n        created: true,\n      };\n    } catch (error) {\n      throw new Error(`Erro ao criar branch: ${error.message}`);\n    }\n  }\n\n  /**\n   * Deletar branch\n   */\n  async deleteBranch(owner, repo, branchName) {\n    try {\n      const response = await fetch(\n        `${this.baseUrl}/repos/${owner}/${repo}/git/refs/heads/${branchName}`,\n        {\n          method: \"DELETE\",\n          headers: this.headers,\n        }\n      );\n\n      if (!response.ok) {\n        throw new Error(`Erro ao deletar branch: ${response.status}`);\n      }\n\n      return {\n        branch: branchName,\n        deleted: true,\n      };\n    } catch (error) {\n      throw new Error(`Erro ao deletar branch: ${error.message}`);\n    }\n  }\n\n  /**\n   * Obter hist√≥rico de commits\n   */\n  async getCommitHistory(owner, repo, branch = \"main\", limit = 10) {\n    try {\n      const response = await fetch(\n        `${this.baseUrl}/repos/${owner}/${repo}/commits?sha=${branch}&per_page=${limit}`,\n        { headers: this.headers }\n      );\n\n      if (!response.ok) {\n        throw new Error(`Erro ao obter hist√≥rico: ${response.status}`);\n      }\n\n      const data = await response.json();\n\n      return data.map((commit) => ({\n        sha: commit.sha,\n        message: commit.commit.message,\n        author: commit.commit.author.name,\n        date: commit.commit.author.date,\n        url: commit.html_url,\n      }));\n    } catch (error) {\n      throw new Error(`Erro ao obter hist√≥rico: ${error.message}`);\n    }\n  }\n}\n\n// Exportar\nif (typeof module !== \"undefined\" && module.exports) {\n  module.exports = GitHubAutomation;\n}\n\nexport default GitHubAutomation;\n"],"mappings":"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","ignoreList":[]}