{"version":3,"names":["cov_rfw9kfm6c","actualCoverage","React","createContext","useContext","useEffect","useState","supabase","AuthContext","s","user","loading","signOut","f","AuthProvider","children","setUser","setLoading","init","data","session","auth","getSession","b","subscription","onAuthStateChange","_event","unsubscribe","createElement","Provider","value","useAuth"],"sources":["AuthProvider.jsx"],"sourcesContent":["// src/auth/AuthProvider.jsx\nimport React, { createContext, useContext, useEffect, useState } from \"react\";\nimport supabase from \"../lib/supabaseClient.js\"; // âœ… default import\n\nconst AuthContext = createContext({\n  user: null,\n  loading: true,\n  signOut: () => {},\n});\n\nexport function AuthProvider({ children }) {\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const init = async () => {\n      const {\n        data: { session },\n      } = await supabase.auth.getSession();\n      setUser(session?.user ?? null);\n      setLoading(false);\n    };\n    init();\n\n    const {\n      data: { subscription },\n    } = supabase.auth.onAuthStateChange((_event, session) => setUser(session?.user ?? null));\n\n    return () => subscription.unsubscribe();\n  }, []);\n\n  const signOut = async () => {\n    await supabase.auth.signOut();\n    setUser(null);\n  };\n\n  return <AuthContext.Provider value={{ user, loading, signOut }}>{children}</AuthContext.Provider>;\n}\n\nexport function useAuth() {\n  return useContext(AuthContext);\n}\n"],"mappings":"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","ignoreList":[]}