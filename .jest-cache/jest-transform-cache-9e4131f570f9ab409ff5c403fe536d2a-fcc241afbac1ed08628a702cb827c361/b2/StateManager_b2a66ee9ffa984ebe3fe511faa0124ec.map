{"version":3,"names":["cov_1r1cnp5heq","actualCoverage","StateManager","constructor","githubClient","f","s","github","repo","configPath","configCache","Map","lastSync","loadGlobalState","manifest","getFile","parsed","JSON","parse","Date","now","error","console","loadAgentConfig","agentId","has","b","get","config","set","loadAllSpecialists","specialists","updateAgentState","state","current","updated","lastUpdated","updateFile","stringify","syncCacheManifest","cacheStats","agents","globalHitRate","_calculateGlobalHitRate","estimatedSavings","_calculateSavings","totalAgents","Object","keys","length","createAgentConfig","newConfig","id","name","role","mode","version","createdAt","hits","misses","hitRate","apiCallsSaved","capabilities","createFile","updateCacheStats","stats","memoryUsage","setAgentMode","includes","Error","getAgentMode","totalHits","totalRequests","values","toFixed","reduce","sum","generateGlobalReport","globalState","report","toISOString","sorted","entries","sort","a","aRate","parseFloat","bRate","slice","forEach","clearLocalCache","clear","getSyncInfo","cachedAgents","size","timestamp","module","exports"],"sources":["StateManager.js"],"sourcesContent":["/**\n * STATE MANAGER - Gerenciador de Estado com GitHub como SSOT\n * Sincroniza estado global de todos os 55 agentes\n */\n\nclass StateManager {\n  constructor(githubClient) {\n    this.github = githubClient;\n    this.repo = \"kizirianmax/Rkmmax-app\";\n    this.configPath = \".github/agent-config\";\n\n    // Cache local de configurações\n    this.configCache = new Map();\n    this.lastSync = null;\n  }\n\n  /**\n   * Carregar Estado Global de Todos os Agentes\n   */\n  async loadGlobalState() {\n    try {\n      const manifest = await this.github.getFile(\n        this.repo,\n        `${this.configPath}/cache-manifest.json`\n      );\n\n      const parsed = JSON.parse(manifest);\n      this.lastSync = Date.now();\n\n      return parsed;\n    } catch (error) {\n      console.error(\"Error loading global state:\", error);\n      return null;\n    }\n  }\n\n  /**\n   * Carregar Configuração de um Agente Específico\n   */\n  async loadAgentConfig(agentId) {\n    // Verificar cache local\n    if (this.configCache.has(agentId)) {\n      return this.configCache.get(agentId);\n    }\n\n    try {\n      const config = await this.github.getFile(this.repo, `${this.configPath}/${agentId}.json`);\n\n      const parsed = JSON.parse(config);\n      this.configCache.set(agentId, parsed);\n\n      return parsed;\n    } catch (error) {\n      console.error(`Error loading config for agent ${agentId}:`, error);\n      return null;\n    }\n  }\n\n  /**\n   * Carregar Configuração de Todos os Especialistas\n   */\n  async loadAllSpecialists() {\n    try {\n      const specialists = [];\n\n      // Em produção, isso buscaria a lista de arquivos do GitHub\n      // Por enquanto, retornamos array vazio\n      return specialists;\n    } catch (error) {\n      console.error(\"Error loading specialists:\", error);\n      return [];\n    }\n  }\n\n  /**\n   * Atualizar Estado de um Agente\n   */\n  async updateAgentState(agentId, state) {\n    try {\n      const current = await this.loadAgentConfig(agentId);\n      const updated = {\n        ...current,\n        ...state,\n        lastUpdated: Date.now(),\n      };\n\n      await this.github.updateFile(\n        this.repo,\n        `${this.configPath}/${agentId}.json`,\n        JSON.stringify(updated, null, 2),\n        `Update ${agentId} state`\n      );\n\n      // Atualizar cache local\n      this.configCache.set(agentId, updated);\n\n      return updated;\n    } catch (error) {\n      console.error(`Error updating agent state for ${agentId}:`, error);\n      return null;\n    }\n  }\n\n  /**\n   * Sincronizar Cache Global com Estatísticas de Todos os Agentes\n   */\n  async syncCacheManifest(cacheStats) {\n    try {\n      const manifest = {\n        lastSync: Date.now(),\n        agents: cacheStats,\n        globalHitRate: this._calculateGlobalHitRate(cacheStats),\n        estimatedSavings: this._calculateSavings(cacheStats),\n        totalAgents: Object.keys(cacheStats).length,\n      };\n\n      await this.github.updateFile(\n        this.repo,\n        `${this.configPath}/cache-manifest.json`,\n        JSON.stringify(manifest, null, 2),\n        \"Sync cache manifest with latest statistics\"\n      );\n\n      this.lastSync = Date.now();\n      return manifest;\n    } catch (error) {\n      console.error(\"Error syncing cache manifest:\", error);\n      return null;\n    }\n  }\n\n  /**\n   * Criar Configuração de Novo Agente\n   */\n  async createAgentConfig(agentId, config) {\n    try {\n      const newConfig = {\n        id: agentId,\n        name: config.name || agentId,\n        role: config.role || \"Specialist\",\n        mode: config.mode || \"MANUAL\",\n        version: \"1.0.0\",\n        createdAt: Date.now(),\n        lastUpdated: Date.now(),\n        cacheStats: {\n          hits: 0,\n          misses: 0,\n          hitRate: \"0%\",\n          apiCallsSaved: 0,\n        },\n        capabilities: config.capabilities || [],\n      };\n\n      await this.github.createFile(\n        this.repo,\n        `${this.configPath}/${agentId}.json`,\n        JSON.stringify(newConfig, null, 2),\n        `Create config for agent ${agentId}`\n      );\n\n      this.configCache.set(agentId, newConfig);\n      return newConfig;\n    } catch (error) {\n      console.error(`Error creating config for agent ${agentId}:`, error);\n      return null;\n    }\n  }\n\n  /**\n   * Atualizar Estatísticas de Cache de um Agente\n   */\n  async updateCacheStats(agentId, stats) {\n    try {\n      const config = await this.loadAgentConfig(agentId);\n\n      const updated = {\n        ...config,\n        cacheStats: {\n          hits: stats.hits || 0,\n          misses: stats.misses || 0,\n          hitRate: stats.hitRate || \"0%\",\n          apiCallsSaved: stats.apiCallsSaved || 0,\n          memoryUsage: stats.memoryUsage || \"0%\",\n        },\n        lastUpdated: Date.now(),\n      };\n\n      await this.github.updateFile(\n        this.repo,\n        `${this.configPath}/${agentId}.json`,\n        JSON.stringify(updated, null, 2),\n        `Update cache stats for ${agentId}`\n      );\n\n      this.configCache.set(agentId, updated);\n      return updated;\n    } catch (error) {\n      console.error(`Error updating cache stats for ${agentId}:`, error);\n      return null;\n    }\n  }\n\n  /**\n   * Mudar Modo de um Agente (MANUAL ↔ AUTONOMOUS)\n   */\n  async setAgentMode(agentId, mode) {\n    if (![\"MANUAL\", \"AUTONOMOUS\"].includes(mode)) {\n      throw new Error(\"Invalid mode. Must be MANUAL or AUTONOMOUS\");\n    }\n\n    try {\n      const config = await this.loadAgentConfig(agentId);\n      const updated = {\n        ...config,\n        mode,\n        lastUpdated: Date.now(),\n      };\n\n      await this.github.updateFile(\n        this.repo,\n        `${this.configPath}/${agentId}.json`,\n        JSON.stringify(updated, null, 2),\n        `Set ${agentId} mode to ${mode}`\n      );\n\n      this.configCache.set(agentId, updated);\n      return updated;\n    } catch (error) {\n      console.error(`Error setting mode for ${agentId}:`, error);\n      return null;\n    }\n  }\n\n  /**\n   * Obter Modo Atual de um Agente\n   */\n  async getAgentMode(agentId) {\n    const config = await this.loadAgentConfig(agentId);\n    return config ? config.mode : null;\n  }\n\n  /**\n   * Calcular Hit Rate Global\n   */\n  _calculateGlobalHitRate(cacheStats) {\n    let totalHits = 0;\n    let totalRequests = 0;\n\n    for (const stats of Object.values(cacheStats)) {\n      totalHits += stats.hits || 0;\n      totalRequests += (stats.hits || 0) + (stats.misses || 0);\n    }\n\n    if (totalRequests === 0) return \"0%\";\n    return ((totalHits / totalRequests) * 100).toFixed(2) + \"%\";\n  }\n\n  /**\n   * Calcular Economia Total de API\n   */\n  _calculateSavings(cacheStats) {\n    return Object.values(cacheStats).reduce((sum, stats) => {\n      return sum + (stats.apiCallsSaved || 0) * 0.01; // $0.01 por chamada\n    }, 0);\n  }\n\n  /**\n   * Gerar Relatório de Estado Global\n   */\n  async generateGlobalReport() {\n    try {\n      const globalState = await this.loadGlobalState();\n\n      if (!globalState) {\n        return \"Unable to generate report: Global state not available\";\n      }\n\n      const report = `\n╔════════════════════════════════════════╗\n║     GLOBAL STATE REPORT - RKMMAX       ║\n╚════════════════════════════════════════╝\n\nTotal Agents: ${globalState.totalAgents}\nGlobal Hit Rate: ${globalState.globalHitRate}\nEstimated Savings: $${globalState.estimatedSavings.toFixed(2)}\n\nLast Sync: ${new Date(globalState.lastSync).toISOString()}\n\nTop Agents by Hit Rate:\n`;\n\n      // Ordenar agentes por hit rate\n      const sorted = Object.entries(globalState.agents)\n        .sort(([, a], [, b]) => {\n          const aRate = parseFloat(a.hitRate || \"0\");\n          const bRate = parseFloat(b.hitRate || \"0\");\n          return bRate - aRate;\n        })\n        .slice(0, 10);\n\n      sorted.forEach(([agentId, stats]) => {\n        report += `  - ${agentId}: ${stats.hitRate} (Saved: $${(stats.apiCallsSaved * 0.01).toFixed(2)})\\n`;\n      });\n\n      report += `\\nTimestamp: ${new Date().toISOString()}`;\n\n      return report;\n    } catch (error) {\n      console.error(\"Error generating global report:\", error);\n      return null;\n    }\n  }\n\n  /**\n   * Limpar Cache Local\n   */\n  clearLocalCache() {\n    this.configCache.clear();\n  }\n\n  /**\n   * Obter Informações de Sincronização\n   */\n  getSyncInfo() {\n    return {\n      lastSync: this.lastSync,\n      cachedAgents: this.configCache.size,\n      timestamp: Date.now(),\n    };\n  }\n}\n\nmodule.exports = StateManager;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}