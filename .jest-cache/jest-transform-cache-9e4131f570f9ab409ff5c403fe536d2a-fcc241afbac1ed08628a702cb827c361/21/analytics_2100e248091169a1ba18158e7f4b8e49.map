{"version":3,"names":["cov_2cafcbzefu","actualCoverage","posthog","initAnalytics","f","apiKey","s","process","env","REACT_APP_POSTHOG_KEY","host","b","REACT_APP_POSTHOG_HOST","console","warn","init","api_host","autocapture","capture_pageview","capture_pageleave","mask_all_text","mask_all_element_attributes","session_recording","maskAllInputs","maskInputOptions","password","email","tel","sampleRate","NODE_ENV","loaded","ph","opt_out_capturing","trackEvent","eventName","properties","capture","identifyUser","identify","resetUser","reset","Events","PAGE_VIEW","BUTTON_CLICK","FORM_SUBMIT","ERROR_OCCURRED","FEATURE_USED","SUBSCRIPTION_STARTED","AGENT_SELECTED","CHAT_SENT","FEEDBACK_SUBMITTED"],"sources":["analytics.js"],"sourcesContent":["// src/lib/analytics.js\nimport posthog from \"posthog-js\";\n\nexport function initAnalytics() {\n  const apiKey = process.env.REACT_APP_POSTHOG_KEY;\n  const host = process.env.REACT_APP_POSTHOG_HOST || \"https://app.posthog.com\";\n\n  if (!apiKey) {\n    console.warn(\"⚠️ PostHog API key not configured. Analytics disabled.\");\n    return;\n  }\n\n  posthog.init(apiKey, {\n    api_host: host,\n\n    // Amostragem econômica: capturar apenas eventos essenciais\n    autocapture: false, // Desabilitar autocapture para reduzir volume\n    capture_pageview: true,\n    capture_pageleave: false, // Desabilitar para economia\n\n    // Privacy settings - Mascarar PII\n    mask_all_text: true,\n    mask_all_element_attributes: true,\n\n    // Session Recording - Amostragem econômica\n    session_recording: {\n      maskAllInputs: true, // Mascarar todos os inputs\n      maskInputOptions: {\n        password: true,\n        email: true,\n        tel: true,\n      },\n      // Gravar apenas 5% das sessões\n      sampleRate: process.env.NODE_ENV === \"production\" ? 0.05 : 1.0,\n    },\n\n    // Disable in development\n    loaded: (ph) => {\n      if (process.env.NODE_ENV === \"development\") {\n        ph.opt_out_capturing();\n      }\n    },\n  });\n}\n\nexport function trackEvent(eventName, properties = {}) {\n  if (typeof posthog !== \"undefined\" && posthog.capture) {\n    posthog.capture(eventName, properties);\n  }\n}\n\nexport function identifyUser(email, properties = {}) {\n  if (typeof posthog !== \"undefined\" && posthog.identify) {\n    posthog.identify(email, properties);\n  }\n}\n\nexport function resetUser() {\n  if (typeof posthog !== \"undefined\" && posthog.reset) {\n    posthog.reset();\n  }\n}\n\n// Common events\nexport const Events = {\n  PAGE_VIEW: \"page_view\",\n  BUTTON_CLICK: \"button_click\",\n  FORM_SUBMIT: \"form_submit\",\n  ERROR_OCCURRED: \"error_occurred\",\n  FEATURE_USED: \"feature_used\",\n  SUBSCRIPTION_STARTED: \"subscription_started\",\n  AGENT_SELECTED: \"agent_selected\",\n  CHAT_SENT: \"chat_sent\",\n  FEEDBACK_SUBMITTED: \"feedback_submitted\",\n};\n"],"mappings":"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","ignoreList":[]}