379724d8065153c9bbfce6b21c5370df
"use strict";

var _MultimodalProcessor = _interopRequireDefault(require("../MultimodalProcessor.js"));
function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }
/**
 * MULTIMODAL PROCESSOR TESTS
 * Testes unitários para processamento multimodal
 */

describe("MultimodalProcessor", () => {
  let processor;
  beforeEach(() => {
    processor = new _MultimodalProcessor.default();
  });
  describe("Audio Processing", () => {
    describe("validateAudioFile", () => {
      test("deve aceitar formato MP3", () => {
        const validation = processor.validateAudioFile("audio.mp3", 1000000);
        expect(validation.valid).toBe(true);
      });
      test("deve aceitar formato WAV", () => {
        const validation = processor.validateAudioFile("audio.wav", 1000000);
        expect(validation.valid).toBe(true);
      });
      test("deve rejeitar formato inválido", () => {
        const validation = processor.validateAudioFile("audio.exe", 1000000);
        expect(validation.valid).toBe(false);
        expect(validation.error).toContain("não suportado");
      });
      test("deve rejeitar arquivo muito grande", () => {
        const validation = processor.validateAudioFile("audio.mp3", 30 * 1024 * 1024);
        expect(validation.valid).toBe(false);
        expect(validation.error).toContain("muito grande");
      });
    });
    describe("processAudio", () => {
      test("deve processar áudio válido", async () => {
        const audioBuffer = Buffer.from("fake audio data");

        // Mock da API de transcrição
        processor.transcribeAudio = async () => "cria um componente de login";
        const result = await processor.processAudio(audioBuffer, "mp3");
        expect(result.type).toBe("audio");
        expect(result.format).toBe("mp3");
        expect(result.transcript).toBeDefined();
        expect(result.confidence).toBeGreaterThan(0);
      });
      test("deve rejeitar formato não suportado", async () => {
        const audioBuffer = Buffer.from("fake audio data");
        await expect(processor.processAudio(audioBuffer, "exe")).rejects.toThrow();
      });
      test("deve rejeitar arquivo muito grande", async () => {
        const largeBuffer = Buffer.alloc(30 * 1024 * 1024);
        await expect(processor.processAudio(largeBuffer, "mp3")).rejects.toThrow();
      });
    });
    describe("estimateAudioDuration", () => {
      test("deve estimar duração do áudio", async () => {
        const audioBuffer = Buffer.alloc(128000); // ~1 segundo a 128kbps

        const duration = await processor.estimateAudioDuration(audioBuffer, "mp3");
        expect(duration).toBeGreaterThan(0);
      });
    });
  });
  describe("Image Processing", () => {
    describe("validateImageFile", () => {
      test("deve aceitar formato PNG", () => {
        const validation = processor.validateImageFile("image.png", 1000000);
        expect(validation.valid).toBe(true);
      });
      test("deve aceitar formato JPG", () => {
        const validation = processor.validateImageFile("image.jpg", 1000000);
        expect(validation.valid).toBe(true);
      });
      test("deve rejeitar formato inválido", () => {
        const validation = processor.validateImageFile("image.exe", 1000000);
        expect(validation.valid).toBe(false);
      });
      test("deve rejeitar arquivo muito grande", () => {
        const validation = processor.validateImageFile("image.png", 25 * 1024 * 1024);
        expect(validation.valid).toBe(false);
      });
    });
    describe("processImage", () => {
      test("deve processar imagem válida", async () => {
        const imageBuffer = Buffer.from("fake image data");

        // Mock da API de análise
        processor.analyzeImage = async () => ({
          description: "Uma imagem de código",
          labels: ["código", "terminal"],
          confidence: 0.95
        });
        const result = await processor.processImage(imageBuffer, "png");
        expect(result.type).toBe("image");
        expect(result.format).toBe("png");
        expect(result.analysis).toBeDefined();
      });
      test("deve rejeitar formato não suportado", async () => {
        const imageBuffer = Buffer.from("fake image data");
        await expect(processor.processImage(imageBuffer, "exe")).rejects.toThrow();
      });
    });
    describe("extractTextFromImage", () => {
      test("deve extrair texto da imagem", async () => {
        const imageBuffer = Buffer.from("fake image data");

        // Mock da análise
        processor.analyzeImage = async () => ({
          textDetection: [{
            text: "function test()",
            confidence: 0.95
          }, {
            text: "return true;",
            confidence: 0.93
          }],
          description: "Código JavaScript"
        });
        const result = await processor.extractTextFromImage(imageBuffer, "png");
        expect(result.success).toBe(true);
        expect(result.text).toContain("function test()");
        expect(result.confidence).toBeGreaterThan(0);
      });
      test("deve retornar sucesso false quando nenhum texto é encontrado", async () => {
        const imageBuffer = Buffer.from("fake image data");
        processor.analyzeImage = async () => ({
          textDetection: [],
          description: "Imagem sem texto"
        });
        const result = await processor.extractTextFromImage(imageBuffer, "png");
        expect(result.success).toBe(false);
        expect(result.text).toBe("");
      });
    });
    describe("describeImage", () => {
      test("deve descrever imagem", async () => {
        const imageBuffer = Buffer.from("fake image data");
        processor.analyzeImage = async () => ({
          description: "Uma imagem de código JavaScript",
          labels: ["código", "javascript", "terminal"],
          objects: ["monitor", "teclado"],
          confidence: 0.92
        });
        const result = await processor.describeImage(imageBuffer, "png");
        expect(result.description).toBeDefined();
        expect(result.labels.length).toBeGreaterThan(0);
        expect(result.confidence).toBeGreaterThan(0);
      });
    });
    describe("detectCodeInImage", () => {
      test("deve detectar código em imagem", async () => {
        const imageBuffer = Buffer.from("fake image data");
        processor.extractTextFromImage = async () => ({
          success: true,
          text: "function login() { return true; }",
          confidence: 0.95
        });
        const result = await processor.detectCodeInImage(imageBuffer, "png");
        expect(result.success).toBe(true);
        expect(result.code).toContain("function");
        expect(result.language).toBeDefined();
      });
      test("deve identificar linguagem JavaScript", async () => {
        const imageBuffer = Buffer.from("fake image data");
        processor.extractTextFromImage = async () => ({
          success: true,
          text: "const x = 10; function test() {}",
          confidence: 0.95
        });
        const result = await processor.detectCodeInImage(imageBuffer, "png");
        expect(result.language).toBe("javascript");
      });
      test("deve identificar linguagem Python", async () => {
        const imageBuffer = Buffer.from("fake image data");
        processor.extractTextFromImage = async () => ({
          success: true,
          text: 'def test(): print("hello")',
          confidence: 0.95
        });
        const result = await processor.detectCodeInImage(imageBuffer, "png");
        expect(result.language).toBe("python");
      });
      test("deve identificar linguagem SQL", async () => {
        const imageBuffer = Buffer.from("fake image data");
        processor.extractTextFromImage = async () => ({
          success: true,
          text: "SELECT * FROM users WHERE id = 1",
          confidence: 0.95
        });
        const result = await processor.detectCodeInImage(imageBuffer, "png");
        expect(result.language).toBe("sql");
      });
    });
    describe("detectProgrammingLanguage", () => {
      test("deve detectar JavaScript", () => {
        const code = "const x = 10; function test() {}";
        const language = processor.detectProgrammingLanguage(code);
        expect(language).toBe("javascript");
      });
      test("deve detectar Python", () => {
        const code = "def test(): return True";
        const language = processor.detectProgrammingLanguage(code);
        expect(language).toBe("python");
      });
      test("deve detectar Java", () => {
        const code = "public class Test { public static void main() {} }";
        const language = processor.detectProgrammingLanguage(code);
        expect(language).toBe("java");
      });
      test("deve detectar SQL", () => {
        const code = "SELECT * FROM users WHERE id = 1";
        const language = processor.detectProgrammingLanguage(code);
        expect(language).toBe("sql");
      });
      test("deve retornar null para linguagem desconhecida", () => {
        const code = "some random text without code";
        const language = processor.detectProgrammingLanguage(code);
        expect(language).toBeNull();
      });
    });
  });
  describe("Multimodal Processing", () => {
    test("deve processar áudio e imagem simultaneamente", async () => {
      const inputs = {
        audio: {
          buffer: Buffer.from("fake audio"),
          format: "mp3"
        },
        image: {
          buffer: Buffer.from("fake image"),
          format: "png"
        }
      };
      processor.processAudio = async () => ({
        transcript: "cria um componente",
        confidence: 0.95
      });
      processor.processImage = async () => ({
        analysis: {
          description: "Imagem de código"
        }
      });
      const result = await processor.processMultimodal(inputs);
      expect(result.audio).toBeDefined();
      expect(result.image).toBeDefined();
      expect(result.combined).toBeDefined();
    });
    test("deve combinar resultados corretamente", async () => {
      const inputs = {
        audio: {
          buffer: Buffer.from("fake audio"),
          format: "mp3"
        },
        image: {
          buffer: Buffer.from("fake image"),
          format: "png"
        }
      };
      processor.processAudio = async () => ({
        transcript: "cria um componente",
        confidence: 0.95
      });
      processor.processImage = async () => ({
        analysis: {
          description: "Imagem de código"
        }
      });
      const result = await processor.processMultimodal(inputs);
      expect(result.combined.transcript).toBe("cria um componente");
      expect(result.combined.imageAnalysis.description).toBe("Imagem de código");
      expect(result.combined.confidence).toBeDefined();
    });
  });
  describe("Support Information", () => {
    test("deve retornar informações de suporte", () => {
      const info = processor.getSupportInfo();
      expect(info.audio).toBeDefined();
      expect(info.image).toBeDefined();
      expect(info.audio.formats).toContain("mp3");
      expect(info.audio.formats).toContain("wav");
      expect(info.image.formats).toContain("png");
      expect(info.image.formats).toContain("jpg");
    });
    test("deve incluir tamanho máximo de arquivo", () => {
      const info = processor.getSupportInfo();
      expect(info.audio.maxSize).toBe(25 * 1024 * 1024);
      expect(info.image.maxSize).toBe(20 * 1024 * 1024);
    });
    test("deve listar features disponíveis", () => {
      const info = processor.getSupportInfo();
      expect(info.audio.features).toContain("Speech-to-Text");
      expect(info.image.features).toContain("OCR");
      expect(info.image.features).toContain("Code Detection");
    });
  });
  describe("Error Handling", () => {
    test("deve lançar erro para áudio inválido", async () => {
      const audioBuffer = Buffer.from("fake audio");
      processor.transcribeAudio = async () => {
        throw new Error("Erro na transcrição");
      };
      await expect(processor.processAudio(audioBuffer, "mp3")).rejects.toThrow();
    });
    test("deve lançar erro para imagem inválida", async () => {
      const imageBuffer = Buffer.from("fake image");
      processor.analyzeImage = async () => {
        throw new Error("Erro na análise");
      };
      await expect(processor.processImage(imageBuffer, "png")).rejects.toThrow();
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfTXVsdGltb2RhbFByb2Nlc3NvciIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiZGVzY3JpYmUiLCJwcm9jZXNzb3IiLCJiZWZvcmVFYWNoIiwiTXVsdGltb2RhbFByb2Nlc3NvciIsInRlc3QiLCJ2YWxpZGF0aW9uIiwidmFsaWRhdGVBdWRpb0ZpbGUiLCJleHBlY3QiLCJ2YWxpZCIsInRvQmUiLCJlcnJvciIsInRvQ29udGFpbiIsImF1ZGlvQnVmZmVyIiwiQnVmZmVyIiwiZnJvbSIsInRyYW5zY3JpYmVBdWRpbyIsInJlc3VsdCIsInByb2Nlc3NBdWRpbyIsInR5cGUiLCJmb3JtYXQiLCJ0cmFuc2NyaXB0IiwidG9CZURlZmluZWQiLCJjb25maWRlbmNlIiwidG9CZUdyZWF0ZXJUaGFuIiwicmVqZWN0cyIsInRvVGhyb3ciLCJsYXJnZUJ1ZmZlciIsImFsbG9jIiwiZHVyYXRpb24iLCJlc3RpbWF0ZUF1ZGlvRHVyYXRpb24iLCJ2YWxpZGF0ZUltYWdlRmlsZSIsImltYWdlQnVmZmVyIiwiYW5hbHl6ZUltYWdlIiwiZGVzY3JpcHRpb24iLCJsYWJlbHMiLCJwcm9jZXNzSW1hZ2UiLCJhbmFseXNpcyIsInRleHREZXRlY3Rpb24iLCJ0ZXh0IiwiZXh0cmFjdFRleHRGcm9tSW1hZ2UiLCJzdWNjZXNzIiwib2JqZWN0cyIsImRlc2NyaWJlSW1hZ2UiLCJsZW5ndGgiLCJkZXRlY3RDb2RlSW5JbWFnZSIsImNvZGUiLCJsYW5ndWFnZSIsImRldGVjdFByb2dyYW1taW5nTGFuZ3VhZ2UiLCJ0b0JlTnVsbCIsImlucHV0cyIsImF1ZGlvIiwiYnVmZmVyIiwiaW1hZ2UiLCJwcm9jZXNzTXVsdGltb2RhbCIsImNvbWJpbmVkIiwiaW1hZ2VBbmFseXNpcyIsImluZm8iLCJnZXRTdXBwb3J0SW5mbyIsImZvcm1hdHMiLCJtYXhTaXplIiwiZmVhdHVyZXMiLCJFcnJvciJdLCJzb3VyY2VzIjpbIk11bHRpbW9kYWxQcm9jZXNzb3IudGVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIE1VTFRJTU9EQUwgUFJPQ0VTU09SIFRFU1RTXG4gKiBUZXN0ZXMgdW5pdMOhcmlvcyBwYXJhIHByb2Nlc3NhbWVudG8gbXVsdGltb2RhbFxuICovXG5cbmltcG9ydCBNdWx0aW1vZGFsUHJvY2Vzc29yIGZyb20gJy4uL011bHRpbW9kYWxQcm9jZXNzb3IuanMnO1xuXG5kZXNjcmliZShcIk11bHRpbW9kYWxQcm9jZXNzb3JcIiwgKCkgPT4ge1xuICBsZXQgcHJvY2Vzc29yO1xuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIHByb2Nlc3NvciA9IG5ldyBNdWx0aW1vZGFsUHJvY2Vzc29yKCk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKFwiQXVkaW8gUHJvY2Vzc2luZ1wiLCAoKSA9PiB7XG4gICAgZGVzY3JpYmUoXCJ2YWxpZGF0ZUF1ZGlvRmlsZVwiLCAoKSA9PiB7XG4gICAgICB0ZXN0KFwiZGV2ZSBhY2VpdGFyIGZvcm1hdG8gTVAzXCIsICgpID0+IHtcbiAgICAgICAgY29uc3QgdmFsaWRhdGlvbiA9IHByb2Nlc3Nvci52YWxpZGF0ZUF1ZGlvRmlsZShcImF1ZGlvLm1wM1wiLCAxMDAwMDAwKTtcblxuICAgICAgICBleHBlY3QodmFsaWRhdGlvbi52YWxpZCkudG9CZSh0cnVlKTtcbiAgICAgIH0pO1xuXG4gICAgICB0ZXN0KFwiZGV2ZSBhY2VpdGFyIGZvcm1hdG8gV0FWXCIsICgpID0+IHtcbiAgICAgICAgY29uc3QgdmFsaWRhdGlvbiA9IHByb2Nlc3Nvci52YWxpZGF0ZUF1ZGlvRmlsZShcImF1ZGlvLndhdlwiLCAxMDAwMDAwKTtcblxuICAgICAgICBleHBlY3QodmFsaWRhdGlvbi52YWxpZCkudG9CZSh0cnVlKTtcbiAgICAgIH0pO1xuXG4gICAgICB0ZXN0KFwiZGV2ZSByZWplaXRhciBmb3JtYXRvIGludsOhbGlkb1wiLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHZhbGlkYXRpb24gPSBwcm9jZXNzb3IudmFsaWRhdGVBdWRpb0ZpbGUoXCJhdWRpby5leGVcIiwgMTAwMDAwMCk7XG5cbiAgICAgICAgZXhwZWN0KHZhbGlkYXRpb24udmFsaWQpLnRvQmUoZmFsc2UpO1xuICAgICAgICBleHBlY3QodmFsaWRhdGlvbi5lcnJvcikudG9Db250YWluKFwibsOjbyBzdXBvcnRhZG9cIik7XG4gICAgICB9KTtcblxuICAgICAgdGVzdChcImRldmUgcmVqZWl0YXIgYXJxdWl2byBtdWl0byBncmFuZGVcIiwgKCkgPT4ge1xuICAgICAgICBjb25zdCB2YWxpZGF0aW9uID0gcHJvY2Vzc29yLnZhbGlkYXRlQXVkaW9GaWxlKFwiYXVkaW8ubXAzXCIsIDMwICogMTAyNCAqIDEwMjQpO1xuXG4gICAgICAgIGV4cGVjdCh2YWxpZGF0aW9uLnZhbGlkKS50b0JlKGZhbHNlKTtcbiAgICAgICAgZXhwZWN0KHZhbGlkYXRpb24uZXJyb3IpLnRvQ29udGFpbihcIm11aXRvIGdyYW5kZVwiKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoXCJwcm9jZXNzQXVkaW9cIiwgKCkgPT4ge1xuICAgICAgdGVzdChcImRldmUgcHJvY2Vzc2FyIMOhdWRpbyB2w6FsaWRvXCIsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgYXVkaW9CdWZmZXIgPSBCdWZmZXIuZnJvbShcImZha2UgYXVkaW8gZGF0YVwiKTtcblxuICAgICAgICAvLyBNb2NrIGRhIEFQSSBkZSB0cmFuc2NyacOnw6NvXG4gICAgICAgIHByb2Nlc3Nvci50cmFuc2NyaWJlQXVkaW8gPSBhc3luYyAoKSA9PiBcImNyaWEgdW0gY29tcG9uZW50ZSBkZSBsb2dpblwiO1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHByb2Nlc3Nvci5wcm9jZXNzQXVkaW8oYXVkaW9CdWZmZXIsIFwibXAzXCIpO1xuXG4gICAgICAgIGV4cGVjdChyZXN1bHQudHlwZSkudG9CZShcImF1ZGlvXCIpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmZvcm1hdCkudG9CZShcIm1wM1wiKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC50cmFuc2NyaXB0KS50b0JlRGVmaW5lZCgpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmNvbmZpZGVuY2UpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgIH0pO1xuXG4gICAgICB0ZXN0KFwiZGV2ZSByZWplaXRhciBmb3JtYXRvIG7Do28gc3Vwb3J0YWRvXCIsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgYXVkaW9CdWZmZXIgPSBCdWZmZXIuZnJvbShcImZha2UgYXVkaW8gZGF0YVwiKTtcblxuICAgICAgICBhd2FpdCBleHBlY3QocHJvY2Vzc29yLnByb2Nlc3NBdWRpbyhhdWRpb0J1ZmZlciwgXCJleGVcIikpLnJlamVjdHMudG9UaHJvdygpO1xuICAgICAgfSk7XG5cbiAgICAgIHRlc3QoXCJkZXZlIHJlamVpdGFyIGFycXVpdm8gbXVpdG8gZ3JhbmRlXCIsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgbGFyZ2VCdWZmZXIgPSBCdWZmZXIuYWxsb2MoMzAgKiAxMDI0ICogMTAyNCk7XG5cbiAgICAgICAgYXdhaXQgZXhwZWN0KHByb2Nlc3Nvci5wcm9jZXNzQXVkaW8obGFyZ2VCdWZmZXIsIFwibXAzXCIpKS5yZWplY3RzLnRvVGhyb3coKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoXCJlc3RpbWF0ZUF1ZGlvRHVyYXRpb25cIiwgKCkgPT4ge1xuICAgICAgdGVzdChcImRldmUgZXN0aW1hciBkdXJhw6fDo28gZG8gw6F1ZGlvXCIsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgYXVkaW9CdWZmZXIgPSBCdWZmZXIuYWxsb2MoMTI4MDAwKTsgLy8gfjEgc2VndW5kbyBhIDEyOGticHNcblxuICAgICAgICBjb25zdCBkdXJhdGlvbiA9IGF3YWl0IHByb2Nlc3Nvci5lc3RpbWF0ZUF1ZGlvRHVyYXRpb24oYXVkaW9CdWZmZXIsIFwibXAzXCIpO1xuXG4gICAgICAgIGV4cGVjdChkdXJhdGlvbikudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKFwiSW1hZ2UgUHJvY2Vzc2luZ1wiLCAoKSA9PiB7XG4gICAgZGVzY3JpYmUoXCJ2YWxpZGF0ZUltYWdlRmlsZVwiLCAoKSA9PiB7XG4gICAgICB0ZXN0KFwiZGV2ZSBhY2VpdGFyIGZvcm1hdG8gUE5HXCIsICgpID0+IHtcbiAgICAgICAgY29uc3QgdmFsaWRhdGlvbiA9IHByb2Nlc3Nvci52YWxpZGF0ZUltYWdlRmlsZShcImltYWdlLnBuZ1wiLCAxMDAwMDAwKTtcblxuICAgICAgICBleHBlY3QodmFsaWRhdGlvbi52YWxpZCkudG9CZSh0cnVlKTtcbiAgICAgIH0pO1xuXG4gICAgICB0ZXN0KFwiZGV2ZSBhY2VpdGFyIGZvcm1hdG8gSlBHXCIsICgpID0+IHtcbiAgICAgICAgY29uc3QgdmFsaWRhdGlvbiA9IHByb2Nlc3Nvci52YWxpZGF0ZUltYWdlRmlsZShcImltYWdlLmpwZ1wiLCAxMDAwMDAwKTtcblxuICAgICAgICBleHBlY3QodmFsaWRhdGlvbi52YWxpZCkudG9CZSh0cnVlKTtcbiAgICAgIH0pO1xuXG4gICAgICB0ZXN0KFwiZGV2ZSByZWplaXRhciBmb3JtYXRvIGludsOhbGlkb1wiLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHZhbGlkYXRpb24gPSBwcm9jZXNzb3IudmFsaWRhdGVJbWFnZUZpbGUoXCJpbWFnZS5leGVcIiwgMTAwMDAwMCk7XG5cbiAgICAgICAgZXhwZWN0KHZhbGlkYXRpb24udmFsaWQpLnRvQmUoZmFsc2UpO1xuICAgICAgfSk7XG5cbiAgICAgIHRlc3QoXCJkZXZlIHJlamVpdGFyIGFycXVpdm8gbXVpdG8gZ3JhbmRlXCIsICgpID0+IHtcbiAgICAgICAgY29uc3QgdmFsaWRhdGlvbiA9IHByb2Nlc3Nvci52YWxpZGF0ZUltYWdlRmlsZShcImltYWdlLnBuZ1wiLCAyNSAqIDEwMjQgKiAxMDI0KTtcblxuICAgICAgICBleHBlY3QodmFsaWRhdGlvbi52YWxpZCkudG9CZShmYWxzZSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKFwicHJvY2Vzc0ltYWdlXCIsICgpID0+IHtcbiAgICAgIHRlc3QoXCJkZXZlIHByb2Nlc3NhciBpbWFnZW0gdsOhbGlkYVwiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGltYWdlQnVmZmVyID0gQnVmZmVyLmZyb20oXCJmYWtlIGltYWdlIGRhdGFcIik7XG5cbiAgICAgICAgLy8gTW9jayBkYSBBUEkgZGUgYW7DoWxpc2VcbiAgICAgICAgcHJvY2Vzc29yLmFuYWx5emVJbWFnZSA9IGFzeW5jICgpID0+ICh7XG4gICAgICAgICAgZGVzY3JpcHRpb246IFwiVW1hIGltYWdlbSBkZSBjw7NkaWdvXCIsXG4gICAgICAgICAgbGFiZWxzOiBbXCJjw7NkaWdvXCIsIFwidGVybWluYWxcIl0sXG4gICAgICAgICAgY29uZmlkZW5jZTogMC45NSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcHJvY2Vzc29yLnByb2Nlc3NJbWFnZShpbWFnZUJ1ZmZlciwgXCJwbmdcIik7XG5cbiAgICAgICAgZXhwZWN0KHJlc3VsdC50eXBlKS50b0JlKFwiaW1hZ2VcIik7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZm9ybWF0KS50b0JlKFwicG5nXCIpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmFuYWx5c2lzKS50b0JlRGVmaW5lZCgpO1xuICAgICAgfSk7XG5cbiAgICAgIHRlc3QoXCJkZXZlIHJlamVpdGFyIGZvcm1hdG8gbsOjbyBzdXBvcnRhZG9cIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBpbWFnZUJ1ZmZlciA9IEJ1ZmZlci5mcm9tKFwiZmFrZSBpbWFnZSBkYXRhXCIpO1xuXG4gICAgICAgIGF3YWl0IGV4cGVjdChwcm9jZXNzb3IucHJvY2Vzc0ltYWdlKGltYWdlQnVmZmVyLCBcImV4ZVwiKSkucmVqZWN0cy50b1Rocm93KCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKFwiZXh0cmFjdFRleHRGcm9tSW1hZ2VcIiwgKCkgPT4ge1xuICAgICAgdGVzdChcImRldmUgZXh0cmFpciB0ZXh0byBkYSBpbWFnZW1cIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBpbWFnZUJ1ZmZlciA9IEJ1ZmZlci5mcm9tKFwiZmFrZSBpbWFnZSBkYXRhXCIpO1xuXG4gICAgICAgIC8vIE1vY2sgZGEgYW7DoWxpc2VcbiAgICAgICAgcHJvY2Vzc29yLmFuYWx5emVJbWFnZSA9IGFzeW5jICgpID0+ICh7XG4gICAgICAgICAgdGV4dERldGVjdGlvbjogW1xuICAgICAgICAgICAgeyB0ZXh0OiBcImZ1bmN0aW9uIHRlc3QoKVwiLCBjb25maWRlbmNlOiAwLjk1IH0sXG4gICAgICAgICAgICB7IHRleHQ6IFwicmV0dXJuIHRydWU7XCIsIGNvbmZpZGVuY2U6IDAuOTMgfSxcbiAgICAgICAgICBdLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIkPDs2RpZ28gSmF2YVNjcmlwdFwiLFxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwcm9jZXNzb3IuZXh0cmFjdFRleHRGcm9tSW1hZ2UoaW1hZ2VCdWZmZXIsIFwicG5nXCIpO1xuXG4gICAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC50ZXh0KS50b0NvbnRhaW4oXCJmdW5jdGlvbiB0ZXN0KClcIik7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuY29uZmlkZW5jZSkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgICAgfSk7XG5cbiAgICAgIHRlc3QoXCJkZXZlIHJldG9ybmFyIHN1Y2Vzc28gZmFsc2UgcXVhbmRvIG5lbmh1bSB0ZXh0byDDqSBlbmNvbnRyYWRvXCIsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgaW1hZ2VCdWZmZXIgPSBCdWZmZXIuZnJvbShcImZha2UgaW1hZ2UgZGF0YVwiKTtcblxuICAgICAgICBwcm9jZXNzb3IuYW5hbHl6ZUltYWdlID0gYXN5bmMgKCkgPT4gKHtcbiAgICAgICAgICB0ZXh0RGV0ZWN0aW9uOiBbXSxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogXCJJbWFnZW0gc2VtIHRleHRvXCIsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHByb2Nlc3Nvci5leHRyYWN0VGV4dEZyb21JbWFnZShpbWFnZUJ1ZmZlciwgXCJwbmdcIik7XG5cbiAgICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC50ZXh0KS50b0JlKFwiXCIpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZShcImRlc2NyaWJlSW1hZ2VcIiwgKCkgPT4ge1xuICAgICAgdGVzdChcImRldmUgZGVzY3JldmVyIGltYWdlbVwiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGltYWdlQnVmZmVyID0gQnVmZmVyLmZyb20oXCJmYWtlIGltYWdlIGRhdGFcIik7XG5cbiAgICAgICAgcHJvY2Vzc29yLmFuYWx5emVJbWFnZSA9IGFzeW5jICgpID0+ICh7XG4gICAgICAgICAgZGVzY3JpcHRpb246IFwiVW1hIGltYWdlbSBkZSBjw7NkaWdvIEphdmFTY3JpcHRcIixcbiAgICAgICAgICBsYWJlbHM6IFtcImPDs2RpZ29cIiwgXCJqYXZhc2NyaXB0XCIsIFwidGVybWluYWxcIl0sXG4gICAgICAgICAgb2JqZWN0czogW1wibW9uaXRvclwiLCBcInRlY2xhZG9cIl0sXG4gICAgICAgICAgY29uZmlkZW5jZTogMC45MixcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcHJvY2Vzc29yLmRlc2NyaWJlSW1hZ2UoaW1hZ2VCdWZmZXIsIFwicG5nXCIpO1xuXG4gICAgICAgIGV4cGVjdChyZXN1bHQuZGVzY3JpcHRpb24pLnRvQmVEZWZpbmVkKCk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQubGFiZWxzLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgICAgICBleHBlY3QocmVzdWx0LmNvbmZpZGVuY2UpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoXCJkZXRlY3RDb2RlSW5JbWFnZVwiLCAoKSA9PiB7XG4gICAgICB0ZXN0KFwiZGV2ZSBkZXRlY3RhciBjw7NkaWdvIGVtIGltYWdlbVwiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGltYWdlQnVmZmVyID0gQnVmZmVyLmZyb20oXCJmYWtlIGltYWdlIGRhdGFcIik7XG5cbiAgICAgICAgcHJvY2Vzc29yLmV4dHJhY3RUZXh0RnJvbUltYWdlID0gYXN5bmMgKCkgPT4gKHtcbiAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgIHRleHQ6IFwiZnVuY3Rpb24gbG9naW4oKSB7IHJldHVybiB0cnVlOyB9XCIsXG4gICAgICAgICAgY29uZmlkZW5jZTogMC45NSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcHJvY2Vzc29yLmRldGVjdENvZGVJbkltYWdlKGltYWdlQnVmZmVyLCBcInBuZ1wiKTtcblxuICAgICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuY29kZSkudG9Db250YWluKFwiZnVuY3Rpb25cIik7XG4gICAgICAgIGV4cGVjdChyZXN1bHQubGFuZ3VhZ2UpLnRvQmVEZWZpbmVkKCk7XG4gICAgICB9KTtcblxuICAgICAgdGVzdChcImRldmUgaWRlbnRpZmljYXIgbGluZ3VhZ2VtIEphdmFTY3JpcHRcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBpbWFnZUJ1ZmZlciA9IEJ1ZmZlci5mcm9tKFwiZmFrZSBpbWFnZSBkYXRhXCIpO1xuXG4gICAgICAgIHByb2Nlc3Nvci5leHRyYWN0VGV4dEZyb21JbWFnZSA9IGFzeW5jICgpID0+ICh7XG4gICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICB0ZXh0OiBcImNvbnN0IHggPSAxMDsgZnVuY3Rpb24gdGVzdCgpIHt9XCIsXG4gICAgICAgICAgY29uZmlkZW5jZTogMC45NSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcHJvY2Vzc29yLmRldGVjdENvZGVJbkltYWdlKGltYWdlQnVmZmVyLCBcInBuZ1wiKTtcblxuICAgICAgICBleHBlY3QocmVzdWx0Lmxhbmd1YWdlKS50b0JlKFwiamF2YXNjcmlwdFwiKTtcbiAgICAgIH0pO1xuXG4gICAgICB0ZXN0KFwiZGV2ZSBpZGVudGlmaWNhciBsaW5ndWFnZW0gUHl0aG9uXCIsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgaW1hZ2VCdWZmZXIgPSBCdWZmZXIuZnJvbShcImZha2UgaW1hZ2UgZGF0YVwiKTtcblxuICAgICAgICBwcm9jZXNzb3IuZXh0cmFjdFRleHRGcm9tSW1hZ2UgPSBhc3luYyAoKSA9PiAoe1xuICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgdGV4dDogJ2RlZiB0ZXN0KCk6IHByaW50KFwiaGVsbG9cIiknLFxuICAgICAgICAgIGNvbmZpZGVuY2U6IDAuOTUsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHByb2Nlc3Nvci5kZXRlY3RDb2RlSW5JbWFnZShpbWFnZUJ1ZmZlciwgXCJwbmdcIik7XG5cbiAgICAgICAgZXhwZWN0KHJlc3VsdC5sYW5ndWFnZSkudG9CZShcInB5dGhvblwiKTtcbiAgICAgIH0pO1xuXG4gICAgICB0ZXN0KFwiZGV2ZSBpZGVudGlmaWNhciBsaW5ndWFnZW0gU1FMXCIsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgaW1hZ2VCdWZmZXIgPSBCdWZmZXIuZnJvbShcImZha2UgaW1hZ2UgZGF0YVwiKTtcblxuICAgICAgICBwcm9jZXNzb3IuZXh0cmFjdFRleHRGcm9tSW1hZ2UgPSBhc3luYyAoKSA9PiAoe1xuICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgdGV4dDogXCJTRUxFQ1QgKiBGUk9NIHVzZXJzIFdIRVJFIGlkID0gMVwiLFxuICAgICAgICAgIGNvbmZpZGVuY2U6IDAuOTUsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHByb2Nlc3Nvci5kZXRlY3RDb2RlSW5JbWFnZShpbWFnZUJ1ZmZlciwgXCJwbmdcIik7XG5cbiAgICAgICAgZXhwZWN0KHJlc3VsdC5sYW5ndWFnZSkudG9CZShcInNxbFwiKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoXCJkZXRlY3RQcm9ncmFtbWluZ0xhbmd1YWdlXCIsICgpID0+IHtcbiAgICAgIHRlc3QoXCJkZXZlIGRldGVjdGFyIEphdmFTY3JpcHRcIiwgKCkgPT4ge1xuICAgICAgICBjb25zdCBjb2RlID0gXCJjb25zdCB4ID0gMTA7IGZ1bmN0aW9uIHRlc3QoKSB7fVwiO1xuICAgICAgICBjb25zdCBsYW5ndWFnZSA9IHByb2Nlc3Nvci5kZXRlY3RQcm9ncmFtbWluZ0xhbmd1YWdlKGNvZGUpO1xuXG4gICAgICAgIGV4cGVjdChsYW5ndWFnZSkudG9CZShcImphdmFzY3JpcHRcIik7XG4gICAgICB9KTtcblxuICAgICAgdGVzdChcImRldmUgZGV0ZWN0YXIgUHl0aG9uXCIsICgpID0+IHtcbiAgICAgICAgY29uc3QgY29kZSA9IFwiZGVmIHRlc3QoKTogcmV0dXJuIFRydWVcIjtcbiAgICAgICAgY29uc3QgbGFuZ3VhZ2UgPSBwcm9jZXNzb3IuZGV0ZWN0UHJvZ3JhbW1pbmdMYW5ndWFnZShjb2RlKTtcblxuICAgICAgICBleHBlY3QobGFuZ3VhZ2UpLnRvQmUoXCJweXRob25cIik7XG4gICAgICB9KTtcblxuICAgICAgdGVzdChcImRldmUgZGV0ZWN0YXIgSmF2YVwiLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGNvZGUgPSBcInB1YmxpYyBjbGFzcyBUZXN0IHsgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oKSB7fSB9XCI7XG4gICAgICAgIGNvbnN0IGxhbmd1YWdlID0gcHJvY2Vzc29yLmRldGVjdFByb2dyYW1taW5nTGFuZ3VhZ2UoY29kZSk7XG5cbiAgICAgICAgZXhwZWN0KGxhbmd1YWdlKS50b0JlKFwiamF2YVwiKTtcbiAgICAgIH0pO1xuXG4gICAgICB0ZXN0KFwiZGV2ZSBkZXRlY3RhciBTUUxcIiwgKCkgPT4ge1xuICAgICAgICBjb25zdCBjb2RlID0gXCJTRUxFQ1QgKiBGUk9NIHVzZXJzIFdIRVJFIGlkID0gMVwiO1xuICAgICAgICBjb25zdCBsYW5ndWFnZSA9IHByb2Nlc3Nvci5kZXRlY3RQcm9ncmFtbWluZ0xhbmd1YWdlKGNvZGUpO1xuXG4gICAgICAgIGV4cGVjdChsYW5ndWFnZSkudG9CZShcInNxbFwiKTtcbiAgICAgIH0pO1xuXG4gICAgICB0ZXN0KFwiZGV2ZSByZXRvcm5hciBudWxsIHBhcmEgbGluZ3VhZ2VtIGRlc2NvbmhlY2lkYVwiLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGNvZGUgPSBcInNvbWUgcmFuZG9tIHRleHQgd2l0aG91dCBjb2RlXCI7XG4gICAgICAgIGNvbnN0IGxhbmd1YWdlID0gcHJvY2Vzc29yLmRldGVjdFByb2dyYW1taW5nTGFuZ3VhZ2UoY29kZSk7XG5cbiAgICAgICAgZXhwZWN0KGxhbmd1YWdlKS50b0JlTnVsbCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKFwiTXVsdGltb2RhbCBQcm9jZXNzaW5nXCIsICgpID0+IHtcbiAgICB0ZXN0KFwiZGV2ZSBwcm9jZXNzYXIgw6F1ZGlvIGUgaW1hZ2VtIHNpbXVsdGFuZWFtZW50ZVwiLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBpbnB1dHMgPSB7XG4gICAgICAgIGF1ZGlvOiB7XG4gICAgICAgICAgYnVmZmVyOiBCdWZmZXIuZnJvbShcImZha2UgYXVkaW9cIiksXG4gICAgICAgICAgZm9ybWF0OiBcIm1wM1wiLFxuICAgICAgICB9LFxuICAgICAgICBpbWFnZToge1xuICAgICAgICAgIGJ1ZmZlcjogQnVmZmVyLmZyb20oXCJmYWtlIGltYWdlXCIpLFxuICAgICAgICAgIGZvcm1hdDogXCJwbmdcIixcbiAgICAgICAgfSxcbiAgICAgIH07XG5cbiAgICAgIHByb2Nlc3Nvci5wcm9jZXNzQXVkaW8gPSBhc3luYyAoKSA9PiAoe1xuICAgICAgICB0cmFuc2NyaXB0OiBcImNyaWEgdW0gY29tcG9uZW50ZVwiLFxuICAgICAgICBjb25maWRlbmNlOiAwLjk1LFxuICAgICAgfSk7XG5cbiAgICAgIHByb2Nlc3Nvci5wcm9jZXNzSW1hZ2UgPSBhc3luYyAoKSA9PiAoe1xuICAgICAgICBhbmFseXNpczogeyBkZXNjcmlwdGlvbjogXCJJbWFnZW0gZGUgY8OzZGlnb1wiIH0sXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcHJvY2Vzc29yLnByb2Nlc3NNdWx0aW1vZGFsKGlucHV0cyk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuYXVkaW8pLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QocmVzdWx0LmltYWdlKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5jb21iaW5lZCkudG9CZURlZmluZWQoKTtcbiAgICB9KTtcblxuICAgIHRlc3QoXCJkZXZlIGNvbWJpbmFyIHJlc3VsdGFkb3MgY29ycmV0YW1lbnRlXCIsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGlucHV0cyA9IHtcbiAgICAgICAgYXVkaW86IHtcbiAgICAgICAgICBidWZmZXI6IEJ1ZmZlci5mcm9tKFwiZmFrZSBhdWRpb1wiKSxcbiAgICAgICAgICBmb3JtYXQ6IFwibXAzXCIsXG4gICAgICAgIH0sXG4gICAgICAgIGltYWdlOiB7XG4gICAgICAgICAgYnVmZmVyOiBCdWZmZXIuZnJvbShcImZha2UgaW1hZ2VcIiksXG4gICAgICAgICAgZm9ybWF0OiBcInBuZ1wiLFxuICAgICAgICB9LFxuICAgICAgfTtcblxuICAgICAgcHJvY2Vzc29yLnByb2Nlc3NBdWRpbyA9IGFzeW5jICgpID0+ICh7XG4gICAgICAgIHRyYW5zY3JpcHQ6IFwiY3JpYSB1bSBjb21wb25lbnRlXCIsXG4gICAgICAgIGNvbmZpZGVuY2U6IDAuOTUsXG4gICAgICB9KTtcblxuICAgICAgcHJvY2Vzc29yLnByb2Nlc3NJbWFnZSA9IGFzeW5jICgpID0+ICh7XG4gICAgICAgIGFuYWx5c2lzOiB7IGRlc2NyaXB0aW9uOiBcIkltYWdlbSBkZSBjw7NkaWdvXCIgfSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwcm9jZXNzb3IucHJvY2Vzc011bHRpbW9kYWwoaW5wdXRzKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5jb21iaW5lZC50cmFuc2NyaXB0KS50b0JlKFwiY3JpYSB1bSBjb21wb25lbnRlXCIpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5jb21iaW5lZC5pbWFnZUFuYWx5c2lzLmRlc2NyaXB0aW9uKS50b0JlKFwiSW1hZ2VtIGRlIGPDs2RpZ29cIik7XG4gICAgICBleHBlY3QocmVzdWx0LmNvbWJpbmVkLmNvbmZpZGVuY2UpLnRvQmVEZWZpbmVkKCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKFwiU3VwcG9ydCBJbmZvcm1hdGlvblwiLCAoKSA9PiB7XG4gICAgdGVzdChcImRldmUgcmV0b3JuYXIgaW5mb3JtYcOnw7VlcyBkZSBzdXBvcnRlXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IGluZm8gPSBwcm9jZXNzb3IuZ2V0U3VwcG9ydEluZm8oKTtcblxuICAgICAgZXhwZWN0KGluZm8uYXVkaW8pLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QoaW5mby5pbWFnZSkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChpbmZvLmF1ZGlvLmZvcm1hdHMpLnRvQ29udGFpbihcIm1wM1wiKTtcbiAgICAgIGV4cGVjdChpbmZvLmF1ZGlvLmZvcm1hdHMpLnRvQ29udGFpbihcIndhdlwiKTtcbiAgICAgIGV4cGVjdChpbmZvLmltYWdlLmZvcm1hdHMpLnRvQ29udGFpbihcInBuZ1wiKTtcbiAgICAgIGV4cGVjdChpbmZvLmltYWdlLmZvcm1hdHMpLnRvQ29udGFpbihcImpwZ1wiKTtcbiAgICB9KTtcblxuICAgIHRlc3QoXCJkZXZlIGluY2x1aXIgdGFtYW5obyBtw6F4aW1vIGRlIGFycXVpdm9cIiwgKCkgPT4ge1xuICAgICAgY29uc3QgaW5mbyA9IHByb2Nlc3Nvci5nZXRTdXBwb3J0SW5mbygpO1xuXG4gICAgICBleHBlY3QoaW5mby5hdWRpby5tYXhTaXplKS50b0JlKDI1ICogMTAyNCAqIDEwMjQpO1xuICAgICAgZXhwZWN0KGluZm8uaW1hZ2UubWF4U2l6ZSkudG9CZSgyMCAqIDEwMjQgKiAxMDI0KTtcbiAgICB9KTtcblxuICAgIHRlc3QoXCJkZXZlIGxpc3RhciBmZWF0dXJlcyBkaXNwb27DrXZlaXNcIiwgKCkgPT4ge1xuICAgICAgY29uc3QgaW5mbyA9IHByb2Nlc3Nvci5nZXRTdXBwb3J0SW5mbygpO1xuXG4gICAgICBleHBlY3QoaW5mby5hdWRpby5mZWF0dXJlcykudG9Db250YWluKFwiU3BlZWNoLXRvLVRleHRcIik7XG4gICAgICBleHBlY3QoaW5mby5pbWFnZS5mZWF0dXJlcykudG9Db250YWluKFwiT0NSXCIpO1xuICAgICAgZXhwZWN0KGluZm8uaW1hZ2UuZmVhdHVyZXMpLnRvQ29udGFpbihcIkNvZGUgRGV0ZWN0aW9uXCIpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZShcIkVycm9yIEhhbmRsaW5nXCIsICgpID0+IHtcbiAgICB0ZXN0KFwiZGV2ZSBsYW7Dp2FyIGVycm8gcGFyYSDDoXVkaW8gaW52w6FsaWRvXCIsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGF1ZGlvQnVmZmVyID0gQnVmZmVyLmZyb20oXCJmYWtlIGF1ZGlvXCIpO1xuXG4gICAgICBwcm9jZXNzb3IudHJhbnNjcmliZUF1ZGlvID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFcnJvIG5hIHRyYW5zY3Jpw6fDo29cIik7XG4gICAgICB9O1xuXG4gICAgICBhd2FpdCBleHBlY3QocHJvY2Vzc29yLnByb2Nlc3NBdWRpbyhhdWRpb0J1ZmZlciwgXCJtcDNcIikpLnJlamVjdHMudG9UaHJvdygpO1xuICAgIH0pO1xuXG4gICAgdGVzdChcImRldmUgbGFuw6dhciBlcnJvIHBhcmEgaW1hZ2VtIGludsOhbGlkYVwiLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBpbWFnZUJ1ZmZlciA9IEJ1ZmZlci5mcm9tKFwiZmFrZSBpbWFnZVwiKTtcblxuICAgICAgcHJvY2Vzc29yLmFuYWx5emVJbWFnZSA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXJybyBuYSBhbsOhbGlzZVwiKTtcbiAgICAgIH07XG5cbiAgICAgIGF3YWl0IGV4cGVjdChwcm9jZXNzb3IucHJvY2Vzc0ltYWdlKGltYWdlQnVmZmVyLCBcInBuZ1wiKSkucmVqZWN0cy50b1Rocm93KCk7XG4gICAgfSk7XG4gIH0pO1xufSk7XG4iXSwibWFwcGluZ3MiOiI7O0FBS0EsSUFBQUEsb0JBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUE0RCxTQUFBRCx1QkFBQUUsQ0FBQSxXQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFFLE9BQUEsRUFBQUYsQ0FBQTtBQUw1RDtBQUNBO0FBQ0E7QUFDQTs7QUFJQUcsUUFBUSxDQUFDLHFCQUFxQixFQUFFLE1BQU07RUFDcEMsSUFBSUMsU0FBUztFQUViQyxVQUFVLENBQUMsTUFBTTtJQUNmRCxTQUFTLEdBQUcsSUFBSUUsNEJBQW1CLENBQUMsQ0FBQztFQUN2QyxDQUFDLENBQUM7RUFFRkgsUUFBUSxDQUFDLGtCQUFrQixFQUFFLE1BQU07SUFDakNBLFFBQVEsQ0FBQyxtQkFBbUIsRUFBRSxNQUFNO01BQ2xDSSxJQUFJLENBQUMsMEJB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