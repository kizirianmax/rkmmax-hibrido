e8fb80026e5ceb34af8bd865a4afa9f0
"use strict";

var _cache = require("../lib/cache.js");
/**
 * Tests for Smart Cache functionality
 */

describe('SmartCache', () => {
  let cache;
  beforeEach(() => {
    cache = new _cache.SmartCache(10, 1000); // Max 10 items, 1s TTL
  });
  afterEach(() => {
    cache.clear();
  });
  test('should store and retrieve cached values', () => {
    const messages = [{
      role: 'user',
      content: 'test message'
    }];
    const value = {
      response: 'cached response'
    };
    cache.set(messages, value);
    const retrieved = cache.get(messages);
    expect(retrieved).toEqual(value);
    expect(cache.hits).toBe(1);
    expect(cache.misses).toBe(0);
  });
  test('should return null for cache miss', () => {
    const messages = [{
      role: 'user',
      content: 'not cached'
    }];
    const retrieved = cache.get(messages);
    expect(retrieved).toBeNull();
    expect(cache.misses).toBe(1);
  });
  test('should expire old entries', async () => {
    const messages = [{
      role: 'user',
      content: 'expire test'
    }];
    const value = {
      response: 'will expire'
    };
    cache.set(messages, value);

    // Wait for TTL to expire
    await new Promise(resolve => setTimeout(resolve, 1100));
    const retrieved = cache.get(messages);
    expect(retrieved).toBeNull();
  });
  test('should evict oldest entry when max size reached', () => {
    // Fill cache to max
    for (let i = 0; i < 10; i++) {
      cache.set([{
        role: 'user',
        content: `message ${i}`
      }], {
        response: `response ${i}`
      });
    }
    expect(cache.cache.size).toBe(10);

    // Add one more - should evict oldest
    cache.set([{
      role: 'user',
      content: 'message 10'
    }], {
      response: 'response 10'
    });
    expect(cache.cache.size).toBe(10);

    // First entry should be evicted
    const firstEntry = cache.get([{
      role: 'user',
      content: 'message 0'
    }]);
    expect(firstEntry).toBeNull();
  });
  test('should calculate hit rate correctly', () => {
    const messages1 = [{
      role: 'user',
      content: 'test 1'
    }];
    const messages2 = [{
      role: 'user',
      content: 'test 2'
    }];
    cache.set(messages1, {
      response: 'response 1'
    });

    // 1 hit
    cache.get(messages1);
    // 1 miss
    cache.get(messages2);
    expect(cache.getHitRate()).toBe('50.00');
  });
  test('should provide accurate stats', () => {
    const messages = [{
      role: 'user',
      content: 'stats test'
    }];
    cache.set(messages, {
      response: 'test'
    });
    cache.get(messages); // hit
    cache.get([{
      role: 'user',
      content: 'not found'
    }]); // miss

    const stats = cache.getStats();
    expect(stats.size).toBe(1);
    expect(stats.maxSize).toBe(10);
    expect(stats.hits).toBe(1);
    expect(stats.misses).toBe(1);
    expect(stats.hitRate).toBe('50.00');
    expect(stats.totalRequests).toBe(2);
  });
  test('should generate consistent keys for same messages', () => {
    const messages = [{
      role: 'user',
      content: 'consistency test'
    }];
    const key1 = cache.generateKey(messages);
    const key2 = cache.generateKey(messages);
    expect(key1).toBe(key2);
  });
  test('should generate different keys for different messages', () => {
    const messages1 = [{
      role: 'user',
      content: 'message 1'
    }];
    const messages2 = [{
      role: 'user',
      content: 'message 2'
    }];
    const key1 = cache.generateKey(messages1);
    const key2 = cache.generateKey(messages2);
    expect(key1).not.toBe(key2);
  });
  test('should clear all cache', () => {
    for (let i = 0; i < 5; i++) {
      cache.set([{
        role: 'user',
        content: `message ${i}`
      }], {
        response: `response ${i}`
      });
    }
    expect(cache.cache.size).toBe(5);
    cache.clear();
    expect(cache.cache.size).toBe(0);
    expect(cache.hits).toBe(0);
    expect(cache.misses).toBe(0);
  });
  test('should cleanup expired entries', async () => {
    const messages1 = [{
      role: 'user',
      content: 'will expire'
    }];
    const messages2 = [{
      role: 'user',
      content: 'still valid'
    }];

    // Create cache with short TTL for testing
    const shortCache = new _cache.SmartCache(10, 500);
    shortCache.set(messages1, {
      response: 'expires soon'
    });

    // Wait a bit
    await new Promise(resolve => setTimeout(resolve, 600));
    shortCache.set(messages2, {
      response: 'fresh entry'
    });

    // Cleanup
    shortCache.cleanup();

    // Expired should be gone
    expect(shortCache.get(messages1)).toBeNull();
    // Fresh should still be there
    expect(shortCache.get(messages2)).not.toBeNull();
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY2FjaGUiLCJyZXF1aXJlIiwiZGVzY3JpYmUiLCJjYWNoZSIsImJlZm9yZUVhY2giLCJTbWFydENhY2hlIiwiYWZ0ZXJFYWNoIiwiY2xlYXIiLCJ0ZXN0IiwibWVzc2FnZXMiLCJyb2xlIiwiY29udGVudCIsInZhbHVlIiwicmVzcG9uc2UiLCJzZXQiLCJyZXRyaWV2ZWQiLCJnZXQiLCJleHBlY3QiLCJ0b0VxdWFsIiwiaGl0cyIsInRvQmUiLCJtaXNzZXMiLCJ0b0JlTnVsbCIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsImkiLCJzaXplIiwiZmlyc3RFbnRyeSIsIm1lc3NhZ2VzMSIsIm1lc3NhZ2VzMiIsImdldEhpdFJhdGUiLCJzdGF0cyIsImdldFN0YXRzIiwibWF4U2l6ZSIsImhpdFJhdGUiLCJ0b3RhbFJlcXVlc3RzIiwia2V5MSIsImdlbmVyYXRlS2V5Iiwia2V5MiIsIm5vdCIsInNob3J0Q2FjaGUiLCJjbGVhbnVwIl0sInNvdXJjZXMiOlsiY2FjaGUudGVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFRlc3RzIGZvciBTbWFydCBDYWNoZSBmdW5jdGlvbmFsaXR5XG4gKi9cblxuaW1wb3J0IHsgU21hcnRDYWNoZSB9IGZyb20gJy4uL2xpYi9jYWNoZS5qcyc7XG5cbmRlc2NyaWJlKCdTbWFydENhY2hlJywgKCkgPT4ge1xuICBsZXQgY2FjaGU7XG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgY2FjaGUgPSBuZXcgU21hcnRDYWNoZSgxMCwgMTAwMCk7IC8vIE1heCAxMCBpdGVtcywgMXMgVFRMXG4gIH0pO1xuXG4gIGFmdGVyRWFjaCgoKSA9PiB7XG4gICAgY2FjaGUuY2xlYXIoKTtcbiAgfSk7XG5cbiAgdGVzdCgnc2hvdWxkIHN0b3JlIGFuZCByZXRyaWV2ZSBjYWNoZWQgdmFsdWVzJywgKCkgPT4ge1xuICAgIGNvbnN0IG1lc3NhZ2VzID0gW3sgcm9sZTogJ3VzZXInLCBjb250ZW50OiAndGVzdCBtZXNzYWdlJyB9XTtcbiAgICBjb25zdCB2YWx1ZSA9IHsgcmVzcG9uc2U6ICdjYWNoZWQgcmVzcG9uc2UnIH07XG4gICAgXG4gICAgY2FjaGUuc2V0KG1lc3NhZ2VzLCB2YWx1ZSk7XG4gICAgY29uc3QgcmV0cmlldmVkID0gY2FjaGUuZ2V0KG1lc3NhZ2VzKTtcbiAgICBcbiAgICBleHBlY3QocmV0cmlldmVkKS50b0VxdWFsKHZhbHVlKTtcbiAgICBleHBlY3QoY2FjaGUuaGl0cykudG9CZSgxKTtcbiAgICBleHBlY3QoY2FjaGUubWlzc2VzKS50b0JlKDApO1xuICB9KTtcblxuICB0ZXN0KCdzaG91bGQgcmV0dXJuIG51bGwgZm9yIGNhY2hlIG1pc3MnLCAoKSA9PiB7XG4gICAgY29uc3QgbWVzc2FnZXMgPSBbeyByb2xlOiAndXNlcicsIGNvbnRlbnQ6ICdub3QgY2FjaGVkJyB9XTtcbiAgICBjb25zdCByZXRyaWV2ZWQgPSBjYWNoZS5nZXQobWVzc2FnZXMpO1xuICAgIFxuICAgIGV4cGVjdChyZXRyaWV2ZWQpLnRvQmVOdWxsKCk7XG4gICAgZXhwZWN0KGNhY2hlLm1pc3NlcykudG9CZSgxKTtcbiAgfSk7XG5cbiAgdGVzdCgnc2hvdWxkIGV4cGlyZSBvbGQgZW50cmllcycsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBtZXNzYWdlcyA9IFt7IHJvbGU6ICd1c2VyJywgY29udGVudDogJ2V4cGlyZSB0ZXN0JyB9XTtcbiAgICBjb25zdCB2YWx1ZSA9IHsgcmVzcG9uc2U6ICd3aWxsIGV4cGlyZScgfTtcbiAgICBcbiAgICBjYWNoZS5zZXQobWVzc2FnZXMsIHZhbHVlKTtcbiAgICBcbiAgICAvLyBXYWl0IGZvciBUVEwgdG8gZXhwaXJlXG4gICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDExMDApKTtcbiAgICBcbiAgICBjb25zdCByZXRyaWV2ZWQgPSBjYWNoZS5nZXQobWVzc2FnZXMpO1xuICAgIGV4cGVjdChyZXRyaWV2ZWQpLnRvQmVOdWxsKCk7XG4gIH0pO1xuXG4gIHRlc3QoJ3Nob3VsZCBldmljdCBvbGRlc3QgZW50cnkgd2hlbiBtYXggc2l6ZSByZWFjaGVkJywgKCkgPT4ge1xuICAgIC8vIEZpbGwgY2FjaGUgdG8gbWF4XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG4gICAgICBjYWNoZS5zZXQoW3sgcm9sZTogJ3VzZXInLCBjb250ZW50OiBgbWVzc2FnZSAke2l9YCB9XSwgeyByZXNwb25zZTogYHJlc3BvbnNlICR7aX1gIH0pO1xuICAgIH1cbiAgICBcbiAgICBleHBlY3QoY2FjaGUuY2FjaGUuc2l6ZSkudG9CZSgxMCk7XG4gICAgXG4gICAgLy8gQWRkIG9uZSBtb3JlIC0gc2hvdWxkIGV2aWN0IG9sZGVzdFxuICAgIGNhY2hlLnNldChbeyByb2xlOiAndXNlcicsIGNvbnRlbnQ6ICdtZXNzYWdlIDEwJyB9XSwgeyByZXNwb25zZTogJ3Jlc3BvbnNlIDEwJyB9KTtcbiAgICBleHBlY3QoY2FjaGUuY2FjaGUuc2l6ZSkudG9CZSgxMCk7XG4gICAgXG4gICAgLy8gRmlyc3QgZW50cnkgc2hvdWxkIGJlIGV2aWN0ZWRcbiAgICBjb25zdCBmaXJzdEVudHJ5ID0gY2FjaGUuZ2V0KFt7IHJvbGU6ICd1c2VyJywgY29udGVudDogJ21lc3NhZ2UgMCcgfV0pO1xuICAgIGV4cGVjdChmaXJzdEVudHJ5KS50b0JlTnVsbCgpO1xuICB9KTtcblxuICB0ZXN0KCdzaG91bGQgY2FsY3VsYXRlIGhpdCByYXRlIGNvcnJlY3RseScsICgpID0+IHtcbiAgICBjb25zdCBtZXNzYWdlczEgPSBbeyByb2xlOiAndXNlcicsIGNvbnRlbnQ6ICd0ZXN0IDEnIH1dO1xuICAgIGNvbnN0IG1lc3NhZ2VzMiA9IFt7IHJvbGU6ICd1c2VyJywgY29udGVudDogJ3Rlc3QgMicgfV07XG4gICAgXG4gICAgY2FjaGUuc2V0KG1lc3NhZ2VzMSwgeyByZXNwb25zZTogJ3Jlc3BvbnNlIDEnIH0pO1xuICAgIFxuICAgIC8vIDEgaGl0XG4gICAgY2FjaGUuZ2V0KG1lc3NhZ2VzMSk7XG4gICAgLy8gMSBtaXNzXG4gICAgY2FjaGUuZ2V0KG1lc3NhZ2VzMik7XG4gICAgXG4gICAgZXhwZWN0KGNhY2hlLmdldEhpdFJhdGUoKSkudG9CZSgnNTAuMDAnKTtcbiAgfSk7XG5cbiAgdGVzdCgnc2hvdWxkIHByb3ZpZGUgYWNjdXJhdGUgc3RhdHMnLCAoKSA9PiB7XG4gICAgY29uc3QgbWVzc2FnZXMgPSBbeyByb2xlOiAndXNlcicsIGNvbnRlbnQ6ICdzdGF0cyB0ZXN0JyB9XTtcbiAgICBjYWNoZS5zZXQobWVzc2FnZXMsIHsgcmVzcG9uc2U6ICd0ZXN0JyB9KTtcbiAgICBjYWNoZS5nZXQobWVzc2FnZXMpOyAvLyBoaXRcbiAgICBjYWNoZS5nZXQoW3sgcm9sZTogJ3VzZXInLCBjb250ZW50OiAnbm90IGZvdW5kJyB9XSk7IC8vIG1pc3NcbiAgICBcbiAgICBjb25zdCBzdGF0cyA9IGNhY2hlLmdldFN0YXRzKCk7XG4gICAgXG4gICAgZXhwZWN0KHN0YXRzLnNpemUpLnRvQmUoMSk7XG4gICAgZXhwZWN0KHN0YXRzLm1heFNpemUpLnRvQmUoMTApO1xuICAgIGV4cGVjdChzdGF0cy5oaXRzKS50b0JlKDEpO1xuICAgIGV4cGVjdChzdGF0cy5taXNzZXMpLnRvQmUoMSk7XG4gICAgZXhwZWN0KHN0YXRzLmhpdFJhdGUpLnRvQmUoJzUwLjAwJyk7XG4gICAgZXhwZWN0KHN0YXRzLnRvdGFsUmVxdWVzdHMpLnRvQmUoMik7XG4gIH0pO1xuXG4gIHRlc3QoJ3Nob3VsZCBnZW5lcmF0ZSBjb25zaXN0ZW50IGtleXMgZm9yIHNhbWUgbWVzc2FnZXMnLCAoKSA9PiB7XG4gICAgY29uc3QgbWVzc2FnZXMgPSBbeyByb2xlOiAndXNlcicsIGNvbnRlbnQ6ICdjb25zaXN0ZW5jeSB0ZXN0JyB9XTtcbiAgICBcbiAgICBjb25zdCBrZXkxID0gY2FjaGUuZ2VuZXJhdGVLZXkobWVzc2FnZXMpO1xuICAgIGNvbnN0IGtleTIgPSBjYWNoZS5nZW5lcmF0ZUtleShtZXNzYWdlcyk7XG4gICAgXG4gICAgZXhwZWN0KGtleTEpLnRvQmUoa2V5Mik7XG4gIH0pO1xuXG4gIHRlc3QoJ3Nob3VsZCBnZW5lcmF0ZSBkaWZmZXJlbnQga2V5cyBmb3IgZGlmZmVyZW50IG1lc3NhZ2VzJywgKCkgPT4ge1xuICAgIGNvbnN0IG1lc3NhZ2VzMSA9IFt7IHJvbGU6ICd1c2VyJywgY29udGVudDogJ21lc3NhZ2UgMScgfV07XG4gICAgY29uc3QgbWVzc2FnZXMyID0gW3sgcm9sZTogJ3VzZXInLCBjb250ZW50OiAnbWVzc2FnZSAyJyB9XTtcbiAgICBcbiAgICBjb25zdCBrZXkxID0gY2FjaGUuZ2VuZXJhdGVLZXkobWVzc2FnZXMxKTtcbiAgICBjb25zdCBrZXkyID0gY2FjaGUuZ2VuZXJhdGVLZXkobWVzc2FnZXMyKTtcbiAgICBcbiAgICBleHBlY3Qoa2V5MSkubm90LnRvQmUoa2V5Mik7XG4gIH0pO1xuXG4gIHRlc3QoJ3Nob3VsZCBjbGVhciBhbGwgY2FjaGUnLCAoKSA9PiB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCA1OyBpKyspIHtcbiAgICAgIGNhY2hlLnNldChbeyByb2xlOiAndXNlcicsIGNvbnRlbnQ6IGBtZXNzYWdlICR7aX1gIH1dLCB7IHJlc3BvbnNlOiBgcmVzcG9uc2UgJHtpfWAgfSk7XG4gICAgfVxuICAgIFxuICAgIGV4cGVjdChjYWNoZS5jYWNoZS5zaXplKS50b0JlKDUpO1xuICAgIFxuICAgIGNhY2hlLmNsZWFyKCk7XG4gICAgXG4gICAgZXhwZWN0KGNhY2hlLmNhY2hlLnNpemUpLnRvQmUoMCk7XG4gICAgZXhwZWN0KGNhY2hlLmhpdHMpLnRvQmUoMCk7XG4gICAgZXhwZWN0KGNhY2hlLm1pc3NlcykudG9CZSgwKTtcbiAgfSk7XG5cbiAgdGVzdCgnc2hvdWxkIGNsZWFudXAgZXhwaXJlZCBlbnRyaWVzJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IG1lc3NhZ2VzMSA9IFt7IHJvbGU6ICd1c2VyJywgY29udGVudDogJ3dpbGwgZXhwaXJlJyB9XTtcbiAgICBjb25zdCBtZXNzYWdlczIgPSBbeyByb2xlOiAndXNlcicsIGNvbnRlbnQ6ICdzdGlsbCB2YWxpZCcgfV07XG4gICAgXG4gICAgLy8gQ3JlYXRlIGNhY2hlIHdpdGggc2hvcnQgVFRMIGZvciB0ZXN0aW5nXG4gICAgY29uc3Qgc2hvcnRDYWNoZSA9IG5ldyBTbWFydENhY2hlKDEwLCA1MDApO1xuICAgIFxuICAgIHNob3J0Q2FjaGUuc2V0KG1lc3NhZ2VzMSwgeyByZXNwb25zZTogJ2V4cGlyZXMgc29vbicgfSk7XG4gICAgXG4gICAgLy8gV2FpdCBhIGJpdFxuICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCA2MDApKTtcbiAgICBcbiAgICBzaG9ydENhY2hlLnNldChtZXNzYWdlczIsIHsgcmVzcG9uc2U6ICdmcmVzaCBlbnRyeScgfSk7XG4gICAgXG4gICAgLy8gQ2xlYW51cFxuICAgIHNob3J0Q2FjaGUuY2xlYW51cCgpO1xuICAgIFxuICAgIC8vIEV4cGlyZWQgc2hvdWxkIGJlIGdvbmVcbiAgICBleHBlY3Qoc2hvcnRDYWNoZS5nZXQobWVzc2FnZXMxKSkudG9CZU51bGwoKTtcbiAgICAvLyBGcmVzaCBzaG91bGQgc3RpbGwgYmUgdGhlcmVcbiAgICBleHBlY3Qoc2hvcnRDYWNoZS5nZXQobWVzc2FnZXMyKSkubm90LnRvQmVOdWxsKCk7XG4gIH0pO1xufSk7XG4iXSwibWFwcGluZ3MiOiI7O0FBSUEsSUFBQUEsTUFBQSxHQUFBQyxPQUFBO0FBSkE7QUFDQTtBQUNBOztBQUlBQyxRQUFRLENBQUMsWUFBWSxFQUFFLE1BQU07RUFDM0IsSUFBSUMsS0FBSztFQUVUQyxVQUFVLENBQUMsTUFBTTtJQUNmRCxLQUFLLEdBQUcsSUFBSUUsaUJBQVUsQ0FBQyxFQUFFLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQztFQUNwQyxDQUFDLENBQUM7RUFFRkMsU0FBUyxDQUFDLE1BQU07SUFDZEgsS0FBSyxDQUFDSSxLQUFLLENBQUMsQ0FBQztFQUNmLENBQUMsQ0FB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