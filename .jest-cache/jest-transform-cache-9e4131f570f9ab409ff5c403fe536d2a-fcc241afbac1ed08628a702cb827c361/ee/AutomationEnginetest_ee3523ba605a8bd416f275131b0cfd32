8dfb3e6ac4cd1b13fee92d0b4f93c7b9
"use strict";

_getJestObj().mock("../AuditLogger", () => {
  return {
    __esModule: true,
    default: jest.fn().mockImplementation(function () {
      return {
        logAutomationRequest: mockLogAutomationRequest,
        logSecurityValidation: mockLogSecurityValidation,
        logAutomationCompletion: mockLogAutomationCompletion,
        logError: mockLogError,
        searchLogs: mockSearchLogs,
        logAutomationStarted: mockLogAutomationStarted,
        logAutomationCompleted: mockLogAutomationCompleted,
        logAutomationFailed: mockLogAutomationFailed,
        getAutomationHistory: mockGetAutomationHistory,
        getAutomationStats: mockGetAutomationStats
      };
    })
  };
});
var _interopRequireDefault = require("/home/runner/work/rkmmax-hibrido/rkmmax-hibrido/node_modules/@babel/runtime/helpers/interopRequireDefault.js").default;
var _AutomationEngine = _interopRequireDefault(require("../AutomationEngine.js"));
function _getJestObj() {
  const {
    jest
  } = require("@jest/globals");
  _getJestObj = () => jest;
  return jest;
}
/**
 * AUTOMATION ENGINE TESTS
 * Testes unitários para motor de automação
 */

// Mock AuditLogger before importing AutomationEngine
const mockLogAutomationRequest = jest.fn().mockReturnValue("mock-automation-id");
const mockLogSecurityValidation = jest.fn();
const mockLogAutomationCompletion = jest.fn();
const mockLogError = jest.fn();
const mockSearchLogs = jest.fn().mockReturnValue([]);
const mockLogAutomationStarted = jest.fn();
const mockLogAutomationCompleted = jest.fn();
const mockLogAutomationFailed = jest.fn();
const mockGetAutomationHistory = jest.fn().mockReturnValue([]);
const mockGetAutomationStats = jest.fn().mockReturnValue({
  totalAutomations: 0,
  successfulAutomations: 0,
  failedAutomations: 0
});
describe("AutomationEngine", () => {
  let engine;
  beforeEach(() => {
    jest.clearAllMocks();
    engine = new _AutomationEngine.default({
      aiModel: "gemini-2.0-flash",
      temperature: 0.7
    });
  });
  describe("initialization", () => {
    test("deve inicializar com configurações padrão", () => {
      expect(engine.config.aiModel).toBe("gemini-2.0-flash");
      expect(engine.config.temperature).toBe(0.7);
      expect(engine.config.maxRetries).toBe(3);
    });
    test("deve inicializar componentes", () => {
      expect(engine.validator).toBeDefined();
      expect(engine.auditLogger).toBeDefined();
      expect(engine.specialistSelector).toBeDefined();
    });
    test("auditLogger deve ter métodos mockados", () => {
      expect(engine.auditLogger.logAutomationRequest).toBeDefined();
      expect(typeof engine.auditLogger.logAutomationRequest).toBe("function");
    });
  });
  describe("analyzeCommand", () => {
    test("deve analisar comando simples", async () => {
      const analysis = await engine.analyzeCommand("cria um componente de login");
      expect(analysis.command).toBeDefined();
      expect(analysis.taskType).toBeDefined();
      expect(analysis.keywords).toBeDefined();
      expect(analysis.commitMessage).toBeDefined();
    });
    test("deve detectar tipo de tarefa COMPONENT", async () => {
      const analysis = await engine.analyzeCommand("cria um componente de login");
      expect(analysis.taskType).toBe("COMPONENT");
    });
    test("deve detectar tipo de tarefa FUNCTION", async () => {
      const analysis = await engine.analyzeCommand("cria uma função de autenticação");
      expect(analysis.taskType).toBe("FUNCTION");
    });
    test("deve detectar tipo de tarefa TEST", async () => {
      const analysis = await engine.analyzeCommand("cria testes para login");
      expect(analysis.taskType).toBe("TEST");
    });
    test("deve detectar tipo de tarefa REFACTOR", async () => {
      const analysis = await engine.analyzeCommand("refatora o código de autenticação");
      expect(analysis.taskType).toBe("REFACTOR");
    });
    test("deve extrair keywords do comando", async () => {
      const analysis = await engine.analyzeCommand("cria componente login form");
      expect(analysis.keywords.length).toBeGreaterThan(0);
      expect(analysis.keywords).toContain("cria");
      expect(analysis.keywords).toContain("componente");
    });
  });
  describe("generateCode", () => {
    test("deve gerar código", async () => {
      const analysis = {
        taskType: "COMPONENT",
        description: "componente de login",
        keywords: ["login", "form"]
      };
      const generation = await engine.generateCode(analysis, "Frontend", {});
      expect(generation.files).toBeDefined();
      expect(generation.files.length).toBeGreaterThan(0);
      expect(generation.totalLines).toBeGreaterThan(0);
    });
    test("arquivo gerado deve ter conteúdo", async () => {
      const analysis = {
        taskType: "COMPONENT",
        description: "componente de login"
      };
      const generation = await engine.generateCode(analysis, "Frontend", {});
      expect(generation.files[0].path).toBeDefined();
      expect(generation.files[0].content).toBeDefined();
      expect(generation.files[0].content.length).toBeGreaterThan(0);
    });
  });
  describe("validateCode", () => {
    test("deve validar código gerado", async () => {
      const files = [{
        path: "src/LoginComponent.jsx",
        content: "export default function Login() { return <div>Login</div>; }"
      }];
      const validation = await engine.validateCode(files);
      expect(validation.isValid).toBe(true);
      expect(validation.errors.length).toBe(0);
    });
    test("deve rejeitar código perigoso", async () => {
      const files = [{
        path: "src/dangerous.js",
        content: 'exec("rm -rf /");'
      }];
      const validation = await engine.validateCode(files);
      expect(validation.isValid).toBe(false);
      expect(validation.errors.length).toBeGreaterThan(0);
    });
  });
  describe("executeAutomation", () => {
    test("deve executar automação completa", async () => {
      const request = {
        userId: "user123",
        username: "Test User",
        command: "cria um componente de login",
        mode: "OPTIMIZED",
        description: "componente de login com validação",
        creditsUsed: 5,
        ipAddress: "127.0.0.1",
        userAgent: "test",
        sessionId: "session123"
      };
      const result = await engine.executeAutomation(request);
      expect(result.automationId).toBeDefined();
      expect(result.status).toBeDefined();
      expect(result.steps).toBeDefined();
    });
    test("deve retornar automationId", async () => {
      const request = {
        userId: "user123",
        username: "Test User",
        command: "test command",
        mode: "MANUAL"
      };
      const result = await engine.executeAutomation(request);
      expect(result.automationId).toMatch(/^LOG_/);
    });
    test("deve incluir fases de execução", async () => {
      const request = {
        userId: "user123",
        username: "Test User",
        command: "cria um componente",
        mode: "OPTIMIZED"
      };
      const result = await engine.executeAutomation(request);
      expect(result.steps.length).toBeGreaterThan(0);
      expect(result.steps.some(s => s.phase === "ANALYSIS")).toBe(true);
      expect(result.steps.some(s => s.phase === "SPECIALIST_SELECTION")).toBe(true);
      expect(result.steps.some(s => s.phase === "CODE_GENERATION")).toBe(true);
      expect(result.steps.some(s => s.phase === "SECURITY_VALIDATION")).toBe(true);
    });
    test("deve bloquear código perigoso", async () => {
      engine.generateCode = async () => ({
        files: [{
          path: "dangerous.js",
          content: 'exec("rm -rf /");'
        }],
        totalLines: 1
      });
      const request = {
        userId: "user123",
        username: "Test User",
        command: "test",
        mode: "MANUAL"
      };
      const result = await engine.executeAutomation(request);
      expect(result.status).toBe("BLOCKED");
      expect(result.errors.length).toBeGreaterThan(0);
    });
  });
  describe("getAutomationHistory", () => {
    test("deve retornar histórico de automações", () => {
      const history = engine.getAutomationHistory("user123", 10);
      expect(Array.isArray(history)).toBe(true);
    });
  });
  describe("getAutomationStats", () => {
    test("deve retornar estatísticas", () => {
      const stats = engine.getAutomationStats("user123");
      expect(stats).toBeDefined();
      expect(stats.totalAutomations).toBeGreaterThanOrEqual(0);
      expect(stats.successfulAutomations).toBeGreaterThanOrEqual(0);
      expect(stats.failedAutomations).toBeGreaterThanOrEqual(0);
    });
  });
  describe("Modo Híbrido", () => {
    test("deve permitir seleção manual de especialista", async () => {
      const request = {
        userId: "user123",
        username: "Test User",
        command: "cria um componente",
        mode: "HYBRID",
        selectedSpecialist: "Frontend"
      };
      const result = await engine.executeAutomation(request);
      const selectionStep = result.steps.find(s => s.phase === "SPECIALIST_SELECTION");
      expect(selectionStep.specialist).toBe("Frontend");
    });
    test("deve usar especialista selecionado em modo HYBRID", async () => {
      const request = {
        userId: "user123",
        username: "Test User",
        command: "cria um componente",
        mode: "HYBRID",
        selectedSpecialist: "Designer"
      };
      const result = await engine.executeAutomation(request);
      const selectionStep = result.steps.find(s => s.phase === "SPECIALIST_SELECTION");
      expect(selectionStep.mode).toBe("HYBRID");
    });
  });
  describe("Modo Otimizado", () => {
    test("deve selecionar especialista automaticamente em OPTIMIZED", async () => {
      const request = {
        userId: "user123",
        username: "Test User",
        command: "cria um componente de login",
        mode: "OPTIMIZED"
      };
      const result = await engine.executeAutomation(request);
      const selectionStep = result.steps.find(s => s.phase === "SPECIALIST_SELECTION");
      expect(selectionStep.specialist).toBeDefined();
      expect(selectionStep.mode).toBe("OPTIMIZED");
    });
  });
  describe("Error Handling", () => {
    test("deve capturar erros durante execução", async () => {
      engine.generateCode = async () => {
        throw new Error("Erro na geração de código");
      };
      const request = {
        userId: "user123",
        username: "Test User",
        command: "test",
        mode: "MANUAL"
      };
      const result = await engine.executeAutomation(request);
      expect(result.status).toBe("FAILED");
      expect(result.errors.length).toBeGreaterThan(0);
    });
    test("deve incluir mensagem de erro", async () => {
      engine.generateCode = async () => {
        throw new Error("Erro específico");
      };
      const request = {
        userId: "user123",
        username: "Test User",
        command: "test",
        mode: "MANUAL"
      };
      const result = await engine.executeAutomation(request);
      expect(result.errors[0].message).toContain("Erro específico");
    });
  });
  describe("Logging", () => {
    test("deve registrar automação iniciada", async () => {
      const request = {
        userId: "user123",
        username: "Test User",
        command: "test command",
        mode: "MANUAL"
      };
      const result = await engine.executeAutomation(request);
      expect(result.automationId).toBeDefined();
    });
    test("deve registrar conclusão de automação", async () => {
      const request = {
        userId: "user123",
        username: "Test User",
        command: "test command",
        mode: "MANUAL"
      };
      const result = await engine.executeAutomation(request);
      expect(result.status).toBeDefined();
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImplc3QiLCJmbiIsIm1vY2tJbXBsZW1lbnRhdGlvbiIsImxvZ0F1dG9tYXRpb25SZXF1ZXN0IiwibW9ja0xvZ0F1dG9tYXRpb25SZXF1ZXN0IiwibG9nU2VjdXJpdHlWYWxpZGF0aW9uIiwibW9ja0xvZ1NlY3VyaXR5VmFsaWRhdGlvbiIsImxvZ0F1dG9tYXRpb25Db21wbGV0aW9uIiwibW9ja0xvZ0F1dG9tYXRpb25Db21wbGV0aW9uIiwibG9nRXJyb3IiLCJtb2NrTG9nRXJyb3IiLCJzZWFyY2hMb2dzIiwibW9ja1NlYXJjaExvZ3MiLCJsb2dBdXRvbWF0aW9uU3RhcnRlZCIsIm1vY2tMb2dBdXRvbWF0aW9uU3RhcnRlZCIsImxvZ0F1dG9tYXRpb25Db21wbGV0ZWQiLCJtb2NrTG9nQXV0b21hdGlvbkNvbXBsZXRlZCIsImxvZ0F1dG9tYXRpb25GYWlsZWQiLCJtb2NrTG9nQXV0b21hdGlvbkZhaWxlZCIsImdldEF1dG9tYXRpb25IaXN0b3J5IiwibW9ja0dldEF1dG9tYXRpb25IaXN0b3J5IiwiZ2V0QXV0b21hdGlvblN0YXRzIiwibW9ja0dldEF1dG9tYXRpb25TdGF0cyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX0F1dG9tYXRpb25FbmdpbmUiLCJtb2NrUmV0dXJuVmFsdWUiLCJ0b3RhbEF1dG9tYXRpb25zIiwic3VjY2Vzc2Z1bEF1dG9tYXRpb25zIiwiZmFpbGVkQXV0b21hdGlvbnMiLCJkZXNjcmliZSIsImVuZ2luZSIsImJlZm9yZUVhY2giLCJjbGVhckFsbE1vY2tzIiwiQXV0b21hdGlvbkVuZ2luZSIsImFpTW9kZWwiLCJ0ZW1wZXJhdHVyZSIsInRlc3QiLCJleHBlY3QiLCJjb25maWciLCJ0b0JlIiwibWF4UmV0cmllcyIsInZhbGlkYXRvciIsInRvQmVEZWZpbmVkIiwiYXVkaXRMb2dnZXIiLCJzcGVjaWFsaXN0U2VsZWN0b3IiLCJhbmFseXNpcyIsImFuYWx5emVDb21tYW5kIiwiY29tbWFuZCIsInRhc2tUeXBlIiwia2V5d29yZHMiLCJjb21taXRNZXNzYWdlIiwibGVuZ3RoIiwidG9CZUdyZWF0ZXJUaGFuIiwidG9Db250YWluIiwiZGVzY3JpcHRpb24iLCJnZW5lcmF0aW9uIiwiZ2VuZXJhdGVDb2RlIiwiZmlsZXMiLCJ0b3RhbExpbmVzIiwicGF0aCIsImNvbnRlbnQiLCJ2YWxpZGF0aW9uIiwidmFsaWRhdGVDb2RlIiwiaXNWYWxpZCIsImVycm9ycyIsInJlcXVlc3QiLCJ1c2VySWQiLCJ1c2VybmFtZSIsIm1vZGUiLCJjcmVkaXRzVXNlZCIsImlwQWRkcmVzcyIsInVzZXJBZ2VudCIsInNlc3Npb25JZCIsInJlc3VsdCIsImV4ZWN1dGVBdXRvbWF0aW9uIiwiYXV0b21hdGlvbklkIiwic3RhdHVzIiwic3RlcHMiLCJ0b01hdGNoIiwic29tZSIsInMiLCJwaGFzZSIsImhpc3RvcnkiLCJBcnJheSIsImlzQXJyYXkiLCJzdGF0cyIsInRvQmVHcmVhdGVyVGhhbk9yRXF1YWwiLCJzZWxlY3RlZFNwZWNpYWxpc3QiLCJzZWxlY3Rpb25TdGVwIiwiZmluZCIsInNwZWNpYWxpc3QiLCJFcnJvciIsIm1lc3NhZ2UiXSwic291cmNlcyI6WyJBdXRvbWF0aW9uRW5naW5lLnRlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBBVVRPTUFUSU9OIEVOR0lORSBURVNUU1xuICogVGVzdGVzIHVuaXTDoXJpb3MgcGFyYSBtb3RvciBkZSBhdXRvbWHDp8Ojb1xuICovXG5cbi8vIE1vY2sgQXVkaXRMb2dnZXIgYmVmb3JlIGltcG9ydGluZyBBdXRvbWF0aW9uRW5naW5lXG5jb25zdCBtb2NrTG9nQXV0b21hdGlvblJlcXVlc3QgPSBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKFwibW9jay1hdXRvbWF0aW9uLWlkXCIpO1xuY29uc3QgbW9ja0xvZ1NlY3VyaXR5VmFsaWRhdGlvbiA9IGplc3QuZm4oKTtcbmNvbnN0IG1vY2tMb2dBdXRvbWF0aW9uQ29tcGxldGlvbiA9IGplc3QuZm4oKTtcbmNvbnN0IG1vY2tMb2dFcnJvciA9IGplc3QuZm4oKTtcbmNvbnN0IG1vY2tTZWFyY2hMb2dzID0gamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZShbXSk7XG5jb25zdCBtb2NrTG9nQXV0b21hdGlvblN0YXJ0ZWQgPSBqZXN0LmZuKCk7XG5jb25zdCBtb2NrTG9nQXV0b21hdGlvbkNvbXBsZXRlZCA9IGplc3QuZm4oKTtcbmNvbnN0IG1vY2tMb2dBdXRvbWF0aW9uRmFpbGVkID0gamVzdC5mbigpO1xuY29uc3QgbW9ja0dldEF1dG9tYXRpb25IaXN0b3J5ID0gamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZShbXSk7XG5jb25zdCBtb2NrR2V0QXV0b21hdGlvblN0YXRzID0gamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7XG4gIHRvdGFsQXV0b21hdGlvbnM6IDAsXG4gIHN1Y2Nlc3NmdWxBdXRvbWF0aW9uczogMCxcbiAgZmFpbGVkQXV0b21hdGlvbnM6IDAsXG59KTtcblxuamVzdC5tb2NrKFwiLi4vQXVkaXRMb2dnZXJcIiwgKCkgPT4ge1xuICByZXR1cm4ge1xuICAgIF9fZXNNb2R1bGU6IHRydWUsXG4gICAgZGVmYXVsdDogamVzdC5mbigpLm1vY2tJbXBsZW1lbnRhdGlvbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBsb2dBdXRvbWF0aW9uUmVxdWVzdDogbW9ja0xvZ0F1dG9tYXRpb25SZXF1ZXN0LFxuICAgICAgICBsb2dTZWN1cml0eVZhbGlkYXRpb246IG1vY2tMb2dTZWN1cml0eVZhbGlkYXRpb24sXG4gICAgICAgIGxvZ0F1dG9tYXRpb25Db21wbGV0aW9uOiBtb2NrTG9nQXV0b21hdGlvbkNvbXBsZXRpb24sXG4gICAgICAgIGxvZ0Vycm9yOiBtb2NrTG9nRXJyb3IsXG4gICAgICAgIHNlYXJjaExvZ3M6IG1vY2tTZWFyY2hMb2dzLFxuICAgICAgICBsb2dBdXRvbWF0aW9uU3RhcnRlZDogbW9ja0xvZ0F1dG9tYXRpb25TdGFydGVkLFxuICAgICAgICBsb2dBdXRvbWF0aW9uQ29tcGxldGVkOiBtb2NrTG9nQXV0b21hdGlvbkNvbXBsZXRlZCxcbiAgICAgICAgbG9nQXV0b21hdGlvbkZhaWxlZDogbW9ja0xvZ0F1dG9tYXRpb25GYWlsZWQsXG4gICAgICAgIGdldEF1dG9tYXRpb25IaXN0b3J5OiBtb2NrR2V0QXV0b21hdGlvbkhpc3RvcnksXG4gICAgICAgIGdldEF1dG9tYXRpb25TdGF0czogbW9ja0dldEF1dG9tYXRpb25TdGF0cyxcbiAgICAgIH07XG4gICAgfSksXG4gIH07XG59KTtcblxuaW1wb3J0IEF1dG9tYXRpb25FbmdpbmUgZnJvbSBcIi4uL0F1dG9tYXRpb25FbmdpbmUuanNcIjtcblxuZGVzY3JpYmUoXCJBdXRvbWF0aW9uRW5naW5lXCIsICgpID0+IHtcbiAgbGV0IGVuZ2luZTtcblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgICBlbmdpbmUgPSBuZXcgQXV0b21hdGlvbkVuZ2luZSh7XG4gICAgICBhaU1vZGVsOiBcImdlbWluaS0yLjAtZmxhc2hcIixcbiAgICAgIHRlbXBlcmF0dXJlOiAwLjcsXG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKFwiaW5pdGlhbGl6YXRpb25cIiwgKCkgPT4ge1xuICAgIHRlc3QoXCJkZXZlIGluaWNpYWxpemFyIGNvbSBjb25maWd1cmHDp8O1ZXMgcGFkcsOjb1wiLCAoKSA9PiB7XG4gICAgICBleHBlY3QoZW5naW5lLmNvbmZpZy5haU1vZGVsKS50b0JlKFwiZ2VtaW5pLTIuMC1mbGFzaFwiKTtcbiAgICAgIGV4cGVjdChlbmdpbmUuY29uZmlnLnRlbXBlcmF0dXJlKS50b0JlKDAuNyk7XG4gICAgICBleHBlY3QoZW5naW5lLmNvbmZpZy5tYXhSZXRyaWVzKS50b0JlKDMpO1xuICAgIH0pO1xuXG4gICAgdGVzdChcImRldmUgaW5pY2lhbGl6YXIgY29tcG9uZW50ZXNcIiwgKCkgPT4ge1xuICAgICAgZXhwZWN0KGVuZ2luZS52YWxpZGF0b3IpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QoZW5naW5lLmF1ZGl0TG9nZ2VyKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KGVuZ2luZS5zcGVjaWFsaXN0U2VsZWN0b3IpLnRvQmVEZWZpbmVkKCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KFwiYXVkaXRMb2dnZXIgZGV2ZSB0ZXIgbcOpdG9kb3MgbW9ja2Fkb3NcIiwgKCkgPT4ge1xuICAgICAgZXhwZWN0KGVuZ2luZS5hdWRpdExvZ2dlci5sb2dBdXRvbWF0aW9uUmVxdWVzdCkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdCh0eXBlb2YgZW5naW5lLmF1ZGl0TG9nZ2VyLmxvZ0F1dG9tYXRpb25SZXF1ZXN0KS50b0JlKFwiZnVuY3Rpb25cIik7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKFwiYW5hbHl6ZUNvbW1hbmRcIiwgKCkgPT4ge1xuICAgIHRlc3QoXCJkZXZlIGFuYWxpc2FyIGNvbWFuZG8gc2ltcGxlc1wiLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBhbmFseXNpcyA9IGF3YWl0IGVuZ2luZS5hbmFseXplQ29tbWFuZChcImNyaWEgdW0gY29tcG9uZW50ZSBkZSBsb2dpblwiKTtcblxuICAgICAgZXhwZWN0KGFuYWx5c2lzLmNvbW1hbmQpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QoYW5hbHlzaXMudGFza1R5cGUpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QoYW5hbHlzaXMua2V5d29yZHMpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QoYW5hbHlzaXMuY29tbWl0TWVzc2FnZSkudG9CZURlZmluZWQoKTtcbiAgICB9KTtcblxuICAgIHRlc3QoXCJkZXZlIGRldGVjdGFyIHRpcG8gZGUgdGFyZWZhIENPTVBPTkVOVFwiLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBhbmFseXNpcyA9IGF3YWl0IGVuZ2luZS5hbmFseXplQ29tbWFuZChcImNyaWEgdW0gY29tcG9uZW50ZSBkZSBsb2dpblwiKTtcblxuICAgICAgZXhwZWN0KGFuYWx5c2lzLnRhc2tUeXBlKS50b0JlKFwiQ09NUE9ORU5UXCIpO1xuICAgIH0pO1xuXG4gICAgdGVzdChcImRldmUgZGV0ZWN0YXIgdGlwbyBkZSB0YXJlZmEgRlVOQ1RJT05cIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgYW5hbHlzaXMgPSBhd2FpdCBlbmdpbmUuYW5hbHl6ZUNvbW1hbmQoXCJjcmlhIHVtYSBmdW7Dp8OjbyBkZSBhdXRlbnRpY2HDp8Ojb1wiKTtcblxuICAgICAgZXhwZWN0KGFuYWx5c2lzLnRhc2tUeXBlKS50b0JlKFwiRlVOQ1RJT05cIik7XG4gICAgfSk7XG5cbiAgICB0ZXN0KFwiZGV2ZSBkZXRlY3RhciB0aXBvIGRlIHRhcmVmYSBURVNUXCIsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGFuYWx5c2lzID0gYXdhaXQgZW5naW5lLmFuYWx5emVDb21tYW5kKFwiY3JpYSB0ZXN0ZXMgcGFyYSBsb2dpblwiKTtcblxuICAgICAgZXhwZWN0KGFuYWx5c2lzLnRhc2tUeXBlKS50b0JlKFwiVEVTVFwiKTtcbiAgICB9KTtcblxuICAgIHRlc3QoXCJkZXZlIGRldGVjdGFyIHRpcG8gZGUgdGFyZWZhIFJFRkFDVE9SXCIsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGFuYWx5c2lzID0gYXdhaXQgZW5naW5lLmFuYWx5emVDb21tYW5kKFwicmVmYXRvcmEgbyBjw7NkaWdvIGRlIGF1dGVudGljYcOnw6NvXCIpO1xuXG4gICAgICBleHBlY3QoYW5hbHlzaXMudGFza1R5cGUpLnRvQmUoXCJSRUZBQ1RPUlwiKTtcbiAgICB9KTtcblxuICAgIHRlc3QoXCJkZXZlIGV4dHJhaXIga2V5d29yZHMgZG8gY29tYW5kb1wiLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBhbmFseXNpcyA9IGF3YWl0IGVuZ2luZS5hbmFseXplQ29tbWFuZChcImNyaWEgY29tcG9uZW50ZSBsb2dpbiBmb3JtXCIpO1xuXG4gICAgICBleHBlY3QoYW5hbHlzaXMua2V5d29yZHMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICBleHBlY3QoYW5hbHlzaXMua2V5d29yZHMpLnRvQ29udGFpbihcImNyaWFcIik7XG4gICAgICBleHBlY3QoYW5hbHlzaXMua2V5d29yZHMpLnRvQ29udGFpbihcImNvbXBvbmVudGVcIik7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKFwiZ2VuZXJhdGVDb2RlXCIsICgpID0+IHtcbiAgICB0ZXN0KFwiZGV2ZSBnZXJhciBjw7NkaWdvXCIsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGFuYWx5c2lzID0ge1xuICAgICAgICB0YXNrVHlwZTogXCJDT01QT05FTlRcIixcbiAgICAgICAgZGVzY3JpcHRpb246IFwiY29tcG9uZW50ZSBkZSBsb2dpblwiLFxuICAgICAgICBrZXl3b3JkczogW1wibG9naW5cIiwgXCJmb3JtXCJdLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgZ2VuZXJhdGlvbiA9IGF3YWl0IGVuZ2luZS5nZW5lcmF0ZUNvZGUoYW5hbHlzaXMsIFwiRnJvbnRlbmRcIiwge30pO1xuXG4gICAgICBleHBlY3QoZ2VuZXJhdGlvbi5maWxlcykudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChnZW5lcmF0aW9uLmZpbGVzLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgICAgZXhwZWN0KGdlbmVyYXRpb24udG90YWxMaW5lcykudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgIH0pO1xuXG4gICAgdGVzdChcImFycXVpdm8gZ2VyYWRvIGRldmUgdGVyIGNvbnRlw7pkb1wiLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBhbmFseXNpcyA9IHtcbiAgICAgICAgdGFza1R5cGU6IFwiQ09NUE9ORU5UXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcImNvbXBvbmVudGUgZGUgbG9naW5cIixcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGdlbmVyYXRpb24gPSBhd2FpdCBlbmdpbmUuZ2VuZXJhdGVDb2RlKGFuYWx5c2lzLCBcIkZyb250ZW5kXCIsIHt9KTtcblxuICAgICAgZXhwZWN0KGdlbmVyYXRpb24uZmlsZXNbMF0ucGF0aCkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChnZW5lcmF0aW9uLmZpbGVzWzBdLmNvbnRlbnQpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QoZ2VuZXJhdGlvbi5maWxlc1swXS5jb250ZW50Lmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZShcInZhbGlkYXRlQ29kZVwiLCAoKSA9PiB7XG4gICAgdGVzdChcImRldmUgdmFsaWRhciBjw7NkaWdvIGdlcmFkb1wiLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBmaWxlcyA9IFtcbiAgICAgICAge1xuICAgICAgICAgIHBhdGg6IFwic3JjL0xvZ2luQ29tcG9uZW50LmpzeFwiLFxuICAgICAgICAgIGNvbnRlbnQ6IFwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTG9naW4oKSB7IHJldHVybiA8ZGl2PkxvZ2luPC9kaXY+OyB9XCIsXG4gICAgICAgIH0sXG4gICAgICBdO1xuXG4gICAgICBjb25zdCB2YWxpZGF0aW9uID0gYXdhaXQgZW5naW5lLnZhbGlkYXRlQ29kZShmaWxlcyk7XG5cbiAgICAgIGV4cGVjdCh2YWxpZGF0aW9uLmlzVmFsaWQpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QodmFsaWRhdGlvbi5lcnJvcnMubGVuZ3RoKS50b0JlKDApO1xuICAgIH0pO1xuXG4gICAgdGVzdChcImRldmUgcmVqZWl0YXIgY8OzZGlnbyBwZXJpZ29zb1wiLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBmaWxlcyA9IFtcbiAgICAgICAge1xuICAgICAgICAgIHBhdGg6IFwic3JjL2Rhbmdlcm91cy5qc1wiLFxuICAgICAgICAgIGNvbnRlbnQ6ICdleGVjKFwicm0gLXJmIC9cIik7JyxcbiAgICAgICAgfSxcbiAgICAgIF07XG5cbiAgICAgIGNvbnN0IHZhbGlkYXRpb24gPSBhd2FpdCBlbmdpbmUudmFsaWRhdGVDb2RlKGZpbGVzKTtcblxuICAgICAgZXhwZWN0KHZhbGlkYXRpb24uaXNWYWxpZCkudG9CZShmYWxzZSk7XG4gICAgICBleHBlY3QodmFsaWRhdGlvbi5lcnJvcnMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKFwiZXhlY3V0ZUF1dG9tYXRpb25cIiwgKCkgPT4ge1xuICAgIHRlc3QoXCJkZXZlIGV4ZWN1dGFyIGF1dG9tYcOnw6NvIGNvbXBsZXRhXCIsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSB7XG4gICAgICAgIHVzZXJJZDogXCJ1c2VyMTIzXCIsXG4gICAgICAgIHVzZXJuYW1lOiBcIlRlc3QgVXNlclwiLFxuICAgICAgICBjb21tYW5kOiBcImNyaWEgdW0gY29tcG9uZW50ZSBkZSBsb2dpblwiLFxuICAgICAgICBtb2RlOiBcIk9QVElNSVpFRFwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJjb21wb25lbnRlIGRlIGxvZ2luIGNvbSB2YWxpZGHDp8Ojb1wiLFxuICAgICAgICBjcmVkaXRzVXNlZDogNSxcbiAgICAgICAgaXBBZGRyZXNzOiBcIjEyNy4wLjAuMVwiLFxuICAgICAgICB1c2VyQWdlbnQ6IFwidGVzdFwiLFxuICAgICAgICBzZXNzaW9uSWQ6IFwic2Vzc2lvbjEyM1wiLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZW5naW5lLmV4ZWN1dGVBdXRvbWF0aW9uKHJlcXVlc3QpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmF1dG9tYXRpb25JZCkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuc3RhdHVzKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5zdGVwcykudG9CZURlZmluZWQoKTtcbiAgICB9KTtcblxuICAgIHRlc3QoXCJkZXZlIHJldG9ybmFyIGF1dG9tYXRpb25JZFwiLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXF1ZXN0ID0ge1xuICAgICAgICB1c2VySWQ6IFwidXNlcjEyM1wiLFxuICAgICAgICB1c2VybmFtZTogXCJUZXN0IFVzZXJcIixcbiAgICAgICAgY29tbWFuZDogXCJ0ZXN0IGNvbW1hbmRcIixcbiAgICAgICAgbW9kZTogXCJNQU5VQUxcIixcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGVuZ2luZS5leGVjdXRlQXV0b21hdGlvbihyZXF1ZXN0KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5hdXRvbWF0aW9uSWQpLnRvTWF0Y2goL15MT0dfLyk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KFwiZGV2ZSBpbmNsdWlyIGZhc2VzIGRlIGV4ZWN1w6fDo29cIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVxdWVzdCA9IHtcbiAgICAgICAgdXNlcklkOiBcInVzZXIxMjNcIixcbiAgICAgICAgdXNlcm5hbWU6IFwiVGVzdCBVc2VyXCIsXG4gICAgICAgIGNvbW1hbmQ6IFwiY3JpYSB1bSBjb21wb25lbnRlXCIsXG4gICAgICAgIG1vZGU6IFwiT1BUSU1JWkVEXCIsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBlbmdpbmUuZXhlY3V0ZUF1dG9tYXRpb24ocmVxdWVzdCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3RlcHMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICBleHBlY3QocmVzdWx0LnN0ZXBzLnNvbWUoKHMpID0+IHMucGhhc2UgPT09IFwiQU5BTFlTSVNcIikpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QocmVzdWx0LnN0ZXBzLnNvbWUoKHMpID0+IHMucGhhc2UgPT09IFwiU1BFQ0lBTElTVF9TRUxFQ1RJT05cIikpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QocmVzdWx0LnN0ZXBzLnNvbWUoKHMpID0+IHMucGhhc2UgPT09IFwiQ09ERV9HRU5FUkFUSU9OXCIpKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5zdGVwcy5zb21lKChzKSA9PiBzLnBoYXNlID09PSBcIlNFQ1VSSVRZX1ZBTElEQVRJT05cIikpLnRvQmUodHJ1ZSk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KFwiZGV2ZSBibG9xdWVhciBjw7NkaWdvIHBlcmlnb3NvXCIsIGFzeW5jICgpID0+IHtcbiAgICAgIGVuZ2luZS5nZW5lcmF0ZUNvZGUgPSBhc3luYyAoKSA9PiAoe1xuICAgICAgICBmaWxlczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHBhdGg6IFwiZGFuZ2Vyb3VzLmpzXCIsXG4gICAgICAgICAgICBjb250ZW50OiAnZXhlYyhcInJtIC1yZiAvXCIpOycsXG4gICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgICAgdG90YWxMaW5lczogMSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXF1ZXN0ID0ge1xuICAgICAgICB1c2VySWQ6IFwidXNlcjEyM1wiLFxuICAgICAgICB1c2VybmFtZTogXCJUZXN0IFVzZXJcIixcbiAgICAgICAgY29tbWFuZDogXCJ0ZXN0XCIsXG4gICAgICAgIG1vZGU6IFwiTUFOVUFMXCIsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBlbmdpbmUuZXhlY3V0ZUF1dG9tYXRpb24ocmVxdWVzdCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3RhdHVzKS50b0JlKFwiQkxPQ0tFRFwiKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3JzLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZShcImdldEF1dG9tYXRpb25IaXN0b3J5XCIsICgpID0+IHtcbiAgICB0ZXN0KFwiZGV2ZSByZXRvcm5hciBoaXN0w7NyaWNvIGRlIGF1dG9tYcOnw7Vlc1wiLCAoKSA9PiB7XG4gICAgICBjb25zdCBoaXN0b3J5ID0gZW5naW5lLmdldEF1dG9tYXRpb25IaXN0b3J5KFwidXNlcjEyM1wiLCAxMCk7XG5cbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KGhpc3RvcnkpKS50b0JlKHRydWUpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZShcImdldEF1dG9tYXRpb25TdGF0c1wiLCAoKSA9PiB7XG4gICAgdGVzdChcImRldmUgcmV0b3JuYXIgZXN0YXTDrXN0aWNhc1wiLCAoKSA9PiB7XG4gICAgICBjb25zdCBzdGF0cyA9IGVuZ2luZS5nZXRBdXRvbWF0aW9uU3RhdHMoXCJ1c2VyMTIzXCIpO1xuXG4gICAgICBleHBlY3Qoc3RhdHMpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3Qoc3RhdHMudG90YWxBdXRvbWF0aW9ucykudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCgwKTtcbiAgICAgIGV4cGVjdChzdGF0cy5zdWNjZXNzZnVsQXV0b21hdGlvbnMpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMCk7XG4gICAgICBleHBlY3Qoc3RhdHMuZmFpbGVkQXV0b21hdGlvbnMpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKFwiTW9kbyBIw61icmlkb1wiLCAoKSA9PiB7XG4gICAgdGVzdChcImRldmUgcGVybWl0aXIgc2VsZcOnw6NvIG1hbnVhbCBkZSBlc3BlY2lhbGlzdGFcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVxdWVzdCA9IHtcbiAgICAgICAgdXNlcklkOiBcInVzZXIxMjNcIixcbiAgICAgICAgdXNlcm5hbWU6IFwiVGVzdCBVc2VyXCIsXG4gICAgICAgIGNvbW1hbmQ6IFwiY3JpYSB1bSBjb21wb25lbnRlXCIsXG4gICAgICAgIG1vZGU6IFwiSFlCUklEXCIsXG4gICAgICAgIHNlbGVjdGVkU3BlY2lhbGlzdDogXCJGcm9udGVuZFwiLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZW5naW5lLmV4ZWN1dGVBdXRvbWF0aW9uKHJlcXVlc3QpO1xuXG4gICAgICBjb25zdCBzZWxlY3Rpb25TdGVwID0gcmVzdWx0LnN0ZXBzLmZpbmQoKHMpID0+IHMucGhhc2UgPT09IFwiU1BFQ0lBTElTVF9TRUxFQ1RJT05cIik7XG4gICAgICBleHBlY3Qoc2VsZWN0aW9uU3RlcC5zcGVjaWFsaXN0KS50b0JlKFwiRnJvbnRlbmRcIik7XG4gICAgfSk7XG5cbiAgICB0ZXN0KFwiZGV2ZSB1c2FyIGVzcGVjaWFsaXN0YSBzZWxlY2lvbmFkbyBlbSBtb2RvIEhZQlJJRFwiLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXF1ZXN0ID0ge1xuICAgICAgICB1c2VySWQ6IFwidXNlcjEyM1wiLFxuICAgICAgICB1c2VybmFtZTogXCJUZXN0IFVzZXJcIixcbiAgICAgICAgY29tbWFuZDogXCJjcmlhIHVtIGNvbXBvbmVudGVcIixcbiAgICAgICAgbW9kZTogXCJIWUJSSURcIixcbiAgICAgICAgc2VsZWN0ZWRTcGVjaWFsaXN0OiBcIkRlc2lnbmVyXCIsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBlbmdpbmUuZXhlY3V0ZUF1dG9tYXRpb24ocmVxdWVzdCk7XG5cbiAgICAgIGNvbnN0IHNlbGVjdGlvblN0ZXAgPSByZXN1bHQuc3RlcHMuZmluZCgocykgPT4gcy5waGFzZSA9PT0gXCJTUEVDSUFMSVNUX1NFTEVDVElPTlwiKTtcbiAgICAgIGV4cGVjdChzZWxlY3Rpb25TdGVwLm1vZGUpLnRvQmUoXCJIWUJSSURcIik7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKFwiTW9kbyBPdGltaXphZG9cIiwgKCkgPT4ge1xuICAgIHRlc3QoXCJkZXZlIHNlbGVjaW9uYXIgZXNwZWNpYWxpc3RhIGF1dG9tYXRpY2FtZW50ZSBlbSBPUFRJTUlaRURcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVxdWVzdCA9IHtcbiAgICAgICAgdXNlcklkOiBcInVzZXIxMjNcIixcbiAgICAgICAgdXNlcm5hbWU6IFwiVGVzdCBVc2VyXCIsXG4gICAgICAgIGNvbW1hbmQ6IFwiY3JpYSB1bSBjb21wb25lbnRlIGRlIGxvZ2luXCIsXG4gICAgICAgIG1vZGU6IFwiT1BUSU1JWkVEXCIsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBlbmdpbmUuZXhlY3V0ZUF1dG9tYXRpb24ocmVxdWVzdCk7XG5cbiAgICAgIGNvbnN0IHNlbGVjdGlvblN0ZXAgPSByZXN1bHQuc3RlcHMuZmluZCgocykgPT4gcy5waGFzZSA9PT0gXCJTUEVDSUFMSVNUX1NFTEVDVElPTlwiKTtcbiAgICAgIGV4cGVjdChzZWxlY3Rpb25TdGVwLnNwZWNpYWxpc3QpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3Qoc2VsZWN0aW9uU3RlcC5tb2RlKS50b0JlKFwiT1BUSU1JWkVEXCIpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZShcIkVycm9yIEhhbmRsaW5nXCIsICgpID0+IHtcbiAgICB0ZXN0KFwiZGV2ZSBjYXB0dXJhciBlcnJvcyBkdXJhbnRlIGV4ZWN1w6fDo29cIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgZW5naW5lLmdlbmVyYXRlQ29kZSA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXJybyBuYSBnZXJhw6fDo28gZGUgY8OzZGlnb1wiKTtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSB7XG4gICAgICAgIHVzZXJJZDogXCJ1c2VyMTIzXCIsXG4gICAgICAgIHVzZXJuYW1lOiBcIlRlc3QgVXNlclwiLFxuICAgICAgICBjb21tYW5kOiBcInRlc3RcIixcbiAgICAgICAgbW9kZTogXCJNQU5VQUxcIixcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGVuZ2luZS5leGVjdXRlQXV0b21hdGlvbihyZXF1ZXN0KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdGF0dXMpLnRvQmUoXCJGQUlMRURcIik7XG4gICAgICBleHBlY3QocmVzdWx0LmVycm9ycy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICB9KTtcblxuICAgIHRlc3QoXCJkZXZlIGluY2x1aXIgbWVuc2FnZW0gZGUgZXJyb1wiLCBhc3luYyAoKSA9PiB7XG4gICAgICBlbmdpbmUuZ2VuZXJhdGVDb2RlID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFcnJvIGVzcGVjw61maWNvXCIpO1xuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVxdWVzdCA9IHtcbiAgICAgICAgdXNlcklkOiBcInVzZXIxMjNcIixcbiAgICAgICAgdXNlcm5hbWU6IFwiVGVzdCBVc2VyXCIsXG4gICAgICAgIGNvbW1hbmQ6IFwidGVzdFwiLFxuICAgICAgICBtb2RlOiBcIk1BTlVBTFwiLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZW5naW5lLmV4ZWN1dGVBdXRvbWF0aW9uKHJlcXVlc3QpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmVycm9yc1swXS5tZXNzYWdlKS50b0NvbnRhaW4oXCJFcnJvIGVzcGVjw61maWNvXCIpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZShcIkxvZ2dpbmdcIiwgKCkgPT4ge1xuICAgIHRlc3QoXCJkZXZlIHJlZ2lzdHJhciBhdXRvbWHDp8OjbyBpbmljaWFkYVwiLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXF1ZXN0ID0ge1xuICAgICAgICB1c2VySWQ6IFwidXNlcjEyM1wiLFxuICAgICAgICB1c2VybmFtZTogXCJUZXN0IFVzZXJcIixcbiAgICAgICAgY29tbWFuZDogXCJ0ZXN0IGNvbW1hbmRcIixcbiAgICAgICAgbW9kZTogXCJNQU5VQUxcIixcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGVuZ2luZS5leGVjdXRlQXV0b21hdGlvbihyZXF1ZXN0KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5hdXRvbWF0aW9uSWQpLnRvQmVEZWZpbmVkKCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KFwiZGV2ZSByZWdpc3RyYXIgY29uY2x1c8OjbyBkZSBhdXRvbWHDp8Ojb1wiLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXF1ZXN0ID0ge1xuICAgICAgICB1c2VySWQ6IFwidXNlcjEyM1wiLFxuICAgICAgICB1c2VybmFtZTogXCJUZXN0IFVzZXJcIixcbiAgICAgICAgY29tbWFuZDogXCJ0ZXN0IGNvbW1hbmRcIixcbiAgICAgICAgbW9kZTogXCJNQU5VQUxcIixcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGVuZ2luZS5leGVjdXRlQXV0b21hdGlvbihyZXF1ZXN0KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdGF0dXMpLnRvQmVEZWZpbmVkKCk7XG4gICAgfSk7XG4gIH0pO1xufSk7XG4iXSwibWFwcGluZ3MiOiI7O0FBcUJBQSxXQUFBLEdBQUtDLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxNQUFNO0VBQ2hDLE9BQU87SUFDTEMsVUFBVSxFQUFFLElBQUk7SUFDaEJDLE9BQU8sRUFBRUMsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQyxDQUFDQyxrQkFBa0IsQ0FBQyxZQUFZO01BQ2hELE9BQU87UUFDTEMsb0JBQW9CLEVBQUVDLHdCQUF3QjtRQUM5Q0MscUJBQXFCLEVBQUVDLHlCQUF5QjtRQUNoREMsdUJBQXVCLEVBQUVDLDJCQUEyQjtRQUNwREMsUUFBUSxFQUFFQyxZQUFZO1FBQ3RCQyxVQUFVLEVBQUVDLGNBQWM7UUFDMUJDLG9CQUFvQixFQUFFQyx3QkFBd0I7UUFDOUNDLHNCQUFzQixFQUFFQywwQkFBMEI7UUFDbERDLG1CQUFtQixFQUFFQyx1QkFBdUI7UUFDNUNDLG9CQUFvQixFQUFFQyx3QkFBd0I7UUFDOUNDLGtCQUFrQixFQUFFQztNQUN0QixDQUFDO0lBQ0gsQ0FBQztFQUNILENBQUM7QUFDSCxDQUFDLENBQUM7QUFBQyxJQUFBQyxzQkFBQSxHQUFB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