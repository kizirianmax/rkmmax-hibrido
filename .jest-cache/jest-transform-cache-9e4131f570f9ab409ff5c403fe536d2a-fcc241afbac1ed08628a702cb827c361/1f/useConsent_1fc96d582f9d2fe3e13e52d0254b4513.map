{"version":3,"names":["cov_8kp1h70ma","actualCoverage","useEffect","useState","KEY","s","readConsent","f","window","b","localStorage","getItem","writeConsent","val","setItem","removeItem","getConsent","acceptConsent","revokeConsent","useConsent","accepted","setAccepted","onStorage","e","key","newValue","addEventListener","removeEventListener","accept","revoke"],"sources":["useConsent.js"],"sourcesContent":["// src/hooks/useConsent.js\nimport { useEffect, useState } from \"react\";\n\nconst KEY = \"consent.v1\";\n\n// leituras/escritas seguras\nfunction readConsent() {\n  try {\n    if (typeof window === \"undefined\") return false;\n    return window.localStorage.getItem(KEY) === \"yes\";\n  } catch {\n    return false;\n  }\n}\nfunction writeConsent(val) {\n  try {\n    if (typeof window === \"undefined\") return;\n    if (val) window.localStorage.setItem(KEY, \"yes\");\n    else window.localStorage.removeItem(KEY);\n  } catch {\n    /* noop */\n  }\n}\n\n// APIs utilitárias (se você usa em outros lugares)\nexport function getConsent() {\n  return readConsent();\n}\nexport function acceptConsent() {\n  writeConsent(true);\n}\nexport function revokeConsent() {\n  writeConsent(false);\n}\n\nexport default function useConsent() {\n  // inicia falso e ajusta no efeito → evita mismatch em SSR/hydration\n  const [accepted, setAccepted] = useState(false);\n\n  useEffect(() => {\n    // ler do localStorage quando a app montar\n    setAccepted(readConsent());\n\n    // sincroniza se outra aba mudar o valor\n    const onStorage = (e) => {\n      if (e.key === KEY) setAccepted(e.newValue === \"yes\");\n    };\n    window.addEventListener(\"storage\", onStorage);\n    return () => window.removeEventListener(\"storage\", onStorage);\n  }, []);\n\n  const accept = () => {\n    writeConsent(true);\n    setAccepted(true);\n  };\n  const revoke = () => {\n    writeConsent(false);\n    setAccepted(false);\n  };\n\n  return { accepted, accept, revoke };\n}\n"],"mappings":"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","ignoreList":[]}