{"version":3,"names":["MultimodalProcessor","constructor","supportedAudioFormats","supportedImageFormats","maxAudioSize","maxImageSize","processAudio","audioBuffer","format","console","log","includes","toLowerCase","Error","length","transcript","transcribeAudio","substring","type","confidence","duration","estimateAudioDuration","error","message","base64Audio","toString","response","fetch","method","headers","body","JSON","stringify","audio","language","ok","status","data","json","bitrate","durationSeconds","Math","round","processImage","imageBuffer","analysis","analyzeImage","description","size","base64Image","image","features","processMultimodal","inputs","results","combined","buffer","combineResults","audioResult","imageResult","imageAnalysis","combinedContext","extractTextFromImage","textDetection","extractedText","map","item","text","join","success","describeImage","labels","objects","detectCodeInImage","textResult","code","detectProgrammingLanguage","patterns","javascript","python","java","cpp","csharp","go","rust","sql","html","css","lang","pattern","Object","entries","test","validateAudioFile","filename","ext","split","pop","valid","validateImageFile","getSupportInfo","formats","maxSize","_default","exports","default"],"sources":["MultimodalProcessor.js"],"sourcesContent":["/**\n * MULTIMODAL PROCESSOR\n * Processa entrada multimodal: Voz (Speech-to-Text) e Imagem (Vision)\n * Suporta: MP3, WAV, MP4, WebM, PNG, JPG, GIF, WebP\n */\n\nclass MultimodalProcessor {\n  constructor() {\n    this.supportedAudioFormats = [\"mp3\", \"wav\", \"mp4\", \"webm\", \"ogg\", \"m4a\"];\n    this.supportedImageFormats = [\"png\", \"jpg\", \"jpeg\", \"gif\", \"webp\", \"bmp\"];\n    this.maxAudioSize = 25 * 1024 * 1024; // 25MB\n    this.maxImageSize = 20 * 1024 * 1024; // 20MB\n  }\n\n  /**\n   * Processar √°udio (Speech-to-Text)\n   */\n  async processAudio(audioBuffer, format = \"mp3\") {\n    console.log(`üé§ Processando √°udio (${format})...`);\n\n    // Validar formato\n    if (!this.supportedAudioFormats.includes(format.toLowerCase())) {\n      throw new Error(`Formato de √°udio n√£o suportado: ${format}`);\n    }\n\n    // Validar tamanho\n    if (audioBuffer.length > this.maxAudioSize) {\n      throw new Error(`Arquivo de √°udio muito grande: ${audioBuffer.length} bytes`);\n    }\n\n    try {\n      // Chamar API de Speech-to-Text (Google Cloud Speech-to-Text)\n      const transcript = await this.transcribeAudio(audioBuffer, format);\n\n      console.log(`‚úÖ √Åudio transcrito: \"${transcript.substring(0, 50)}...\"`);\n\n      return {\n        type: \"audio\",\n        format,\n        transcript,\n        confidence: 0.95, // Confian√ßa estimada\n        duration: await this.estimateAudioDuration(audioBuffer, format),\n      };\n    } catch (error) {\n      throw new Error(`Erro ao processar √°udio: ${error.message}`);\n    }\n  }\n\n  /**\n   * Transcrever √°udio via API\n   */\n  async transcribeAudio(audioBuffer, format) {\n    try {\n      // Converter buffer para base64\n      const base64Audio = audioBuffer.toString(\"base64\");\n\n      // Chamar API de transcription (simulado)\n      // Em produ√ß√£o, usar Google Cloud Speech-to-Text ou similar\n\n      const response = await fetch(\"/api/transcribe\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          audio: base64Audio,\n          format,\n          language: \"pt-BR\",\n        }),\n      });\n\n      if (!response.ok) {\n        throw new Error(`Erro na transcri√ß√£o: ${response.status}`);\n      }\n\n      const data = await response.json();\n      return data.transcript;\n    } catch (error) {\n      // Fallback: retornar mensagem de erro\n      throw error;\n    }\n  }\n\n  /**\n   * Estimar dura√ß√£o do √°udio\n   */\n  async estimateAudioDuration(audioBuffer, format) {\n    // Estimativa simples baseada no tamanho\n    // Em produ√ß√£o, usar biblioteca de √°udio\n    const bitrate = 128; // kbps\n    const durationSeconds = (audioBuffer.length * 8) / (bitrate * 1000);\n    return Math.round(durationSeconds);\n  }\n\n  /**\n   * Processar imagem (Vision)\n   */\n  async processImage(imageBuffer, format = \"png\") {\n    console.log(`üì∏ Processando imagem (${format})...`);\n\n    // Validar formato\n    if (!this.supportedImageFormats.includes(format.toLowerCase())) {\n      throw new Error(`Formato de imagem n√£o suportado: ${format}`);\n    }\n\n    // Validar tamanho\n    if (imageBuffer.length > this.maxImageSize) {\n      throw new Error(`Arquivo de imagem muito grande: ${imageBuffer.length} bytes`);\n    }\n\n    try {\n      // Analisar imagem\n      const analysis = await this.analyzeImage(imageBuffer, format);\n\n      console.log(`‚úÖ Imagem analisada: ${analysis.description}`);\n\n      return {\n        type: \"image\",\n        format,\n        analysis,\n        size: imageBuffer.length,\n      };\n    } catch (error) {\n      throw new Error(`Erro ao processar imagem: ${error.message}`);\n    }\n  }\n\n  /**\n   * Analisar imagem via API\n   */\n  async analyzeImage(imageBuffer, format) {\n    try {\n      // Converter buffer para base64\n      const base64Image = imageBuffer.toString(\"base64\");\n\n      // Chamar API de Vision (simulado)\n      // Em produ√ß√£o, usar Google Cloud Vision ou similar\n\n      const response = await fetch(\"/api/vision-analyze\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          image: base64Image,\n          format,\n          features: [\n            \"LABEL_DETECTION\",\n            \"TEXT_DETECTION\",\n            \"OBJECT_LOCALIZATION\",\n            \"SAFE_SEARCH_DETECTION\",\n          ],\n        }),\n      });\n\n      if (!response.ok) {\n        throw new Error(`Erro na an√°lise: ${response.status}`);\n      }\n\n      const data = await response.json();\n      return data.analysis;\n    } catch (error) {\n      throw error;\n    }\n  }\n\n  /**\n   * Processar entrada multimodal (√°udio + imagem)\n   */\n  async processMultimodal(inputs) {\n    console.log(`üé¨ Processando entrada multimodal...`);\n\n    const results = {\n      audio: null,\n      image: null,\n      combined: null,\n    };\n\n    // Processar √°udio se fornecido\n    if (inputs.audio) {\n      results.audio = await this.processAudio(inputs.audio.buffer, inputs.audio.format);\n    }\n\n    // Processar imagem se fornecida\n    if (inputs.image) {\n      results.image = await this.processImage(inputs.image.buffer, inputs.image.format);\n    }\n\n    // Combinar resultados\n    if (results.audio && results.image) {\n      results.combined = this.combineResults(results.audio, results.image);\n    }\n\n    return results;\n  }\n\n  /**\n   * Combinar resultados de √°udio e imagem\n   */\n  combineResults(audioResult, imageResult) {\n    return {\n      transcript: audioResult.transcript,\n      imageAnalysis: imageResult.analysis,\n      combinedContext: `√Åudio: \"${audioResult.transcript}\"\\n\\nImagem: ${imageResult.analysis.description}`,\n      confidence: {\n        audio: audioResult.confidence,\n        image: imageResult.analysis.confidence || 0.9,\n      },\n    };\n  }\n\n  /**\n   * Extrair texto de imagem (OCR)\n   */\n  async extractTextFromImage(imageBuffer, format = \"png\") {\n    console.log(`üìÑ Extraindo texto da imagem...`);\n\n    const analysis = await this.analyzeImage(imageBuffer, format);\n\n    if (analysis.textDetection && analysis.textDetection.length > 0) {\n      const extractedText = analysis.textDetection.map((item) => item.text).join(\"\\n\");\n\n      return {\n        success: true,\n        text: extractedText,\n        confidence: analysis.textDetection[0].confidence || 0.9,\n      };\n    }\n\n    return {\n      success: false,\n      text: \"\",\n      message: \"Nenhum texto encontrado na imagem\",\n    };\n  }\n\n  /**\n   * Descrever imagem\n   */\n  async describeImage(imageBuffer, format = \"png\") {\n    console.log(`üì∏ Descrevendo imagem...`);\n\n    const analysis = await this.analyzeImage(imageBuffer, format);\n\n    return {\n      description: analysis.description,\n      labels: analysis.labels || [],\n      objects: analysis.objects || [],\n      confidence: analysis.confidence || 0.9,\n    };\n  }\n\n  /**\n   * Detectar c√≥digo em imagem\n   */\n  async detectCodeInImage(imageBuffer, format = \"png\") {\n    console.log(`üíª Detectando c√≥digo na imagem...`);\n\n    const textResult = await this.extractTextFromImage(imageBuffer, format);\n\n    if (!textResult.success) {\n      return {\n        success: false,\n        code: \"\",\n        language: null,\n      };\n    }\n\n    // Detectar linguagem de programa√ß√£o\n    const language = this.detectProgrammingLanguage(textResult.text);\n\n    return {\n      success: true,\n      code: textResult.text,\n      language,\n      confidence: textResult.confidence,\n    };\n  }\n\n  /**\n   * Detectar linguagem de programa√ß√£o\n   */\n  detectProgrammingLanguage(code) {\n    const patterns = {\n      javascript: /const|let|var|function|=>|async|await/,\n      python: /def|import|class|if __name__|print\\(/,\n      java: /public class|public static|import java/,\n      cpp: /#include|std::|int main/,\n      csharp: /using|namespace|public class|async Task/,\n      go: /package main|func|import/,\n      rust: /fn |let |pub |impl /,\n      sql: /SELECT|INSERT|UPDATE|DELETE|FROM|WHERE/,\n      html: /<!DOCTYPE|<html|<body|<div/,\n      css: /@media|\\.class|#id|{.*:.*;}/,\n    };\n\n    for (const [lang, pattern] of Object.entries(patterns)) {\n      if (pattern.test(code)) {\n        return lang;\n      }\n    }\n\n    return null;\n  }\n\n  /**\n   * Validar arquivo de √°udio\n   */\n  validateAudioFile(filename, size) {\n    const ext = filename.split(\".\").pop().toLowerCase();\n\n    if (!this.supportedAudioFormats.includes(ext)) {\n      return {\n        valid: false,\n        error: `Formato n√£o suportado: ${ext}`,\n      };\n    }\n\n    if (size > this.maxAudioSize) {\n      return {\n        valid: false,\n        error: `Arquivo muito grande: ${size} bytes (m√°ximo: ${this.maxAudioSize})`,\n      };\n    }\n\n    return { valid: true };\n  }\n\n  /**\n   * Validar arquivo de imagem\n   */\n  validateImageFile(filename, size) {\n    const ext = filename.split(\".\").pop().toLowerCase();\n\n    if (!this.supportedImageFormats.includes(ext)) {\n      return {\n        valid: false,\n        error: `Formato n√£o suportado: ${ext}`,\n      };\n    }\n\n    if (size > this.maxImageSize) {\n      return {\n        valid: false,\n        error: `Arquivo muito grande: ${size} bytes (m√°ximo: ${this.maxImageSize})`,\n      };\n    }\n\n    return { valid: true };\n  }\n\n  /**\n   * Obter informa√ß√µes de suporte\n   */\n  getSupportInfo() {\n    return {\n      audio: {\n        formats: this.supportedAudioFormats,\n        maxSize: this.maxAudioSize,\n        features: [\"Speech-to-Text\", \"Transcription\", \"Language Detection\"],\n      },\n      image: {\n        formats: this.supportedImageFormats,\n        maxSize: this.maxImageSize,\n        features: [\"OCR\", \"Object Detection\", \"Label Detection\", \"Code Detection\"],\n      },\n    };\n  }\n}\n\nexport default MultimodalProcessor;\n"],"mappings":"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","ignoreList":[]}