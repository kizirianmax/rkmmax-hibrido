{"version":3,"names":["cov_2psoyqxccv","actualCoverage","ModelArmor","s","require","IntelligentCache","AgentBase","constructor","config","f","id","b","name","role","mode","modelArmor","cache","threadHistory","maxHistorySize","createdAt","Date","now","process","prompt","context","securityAnalysis","analyzePrompt","recommendation","status","reason","violations","timestamp","cacheKey","generateKey","cachedResponse","get","_addToHistory","source","response","_manualMode","_autonomousMode","error","message","consentRequired","riskScore","_callAPI","set","filtered","filterResponse","pr","_createPullRequest","agentId","requiresApproval","isModified","prId","Error","data","push","length","shift","getThreadHistory","clearHistory","getStats","cacheStats","agentName","uptime","historySize","generateReport","stats","modelArmorReport","isClean","cacheReport","toFixed","toISOString","setMode","includes","getMode","module","exports"],"sources":["AgentBase.js"],"sourcesContent":["/**\n * AGENT BASE - Classe Base para Todos os Agentes\n * Implementa modo híbrido (Manual/Autônomo) com segurança e cache\n */\n\nconst ModelArmor = require(\"../../security/ModelArmor\");\nconst IntelligentCache = require(\"../../cache/IntelligentCache\");\n\nclass AgentBase {\n  constructor(config) {\n    this.id = config.id || \"unknown-agent\";\n    this.name = config.name || \"Unknown Agent\";\n    this.role = config.role || \"General Purpose\";\n    this.mode = config.mode || \"MANUAL\"; // MANUAL | AUTONOMOUS\n\n    // Componentes de segurança e cache\n    this.modelArmor = new ModelArmor();\n    this.cache = new IntelligentCache();\n\n    // Histórico de thread (memória volátil)\n    this.threadHistory = [];\n    this.maxHistorySize = 100; // Retenção zero: máx 100 mensagens\n\n    // Configuração\n    this.config = config;\n    this.createdAt = Date.now();\n  }\n\n  /**\n   * Processamento Híbrido: Manual ou Autônomo\n   * Fluxo: Validação → Cache → Modo → Histórico\n   */\n  async process(prompt, context = {}) {\n    try {\n      // 1. VALIDAÇÃO DE SEGURANÇA\n      const securityAnalysis = this.modelArmor.analyzePrompt(prompt);\n\n      if (securityAnalysis.recommendation === \"BLOCK\") {\n        return {\n          status: \"BLOCKED\",\n          reason: \"Prompt violates security policies\",\n          violations: securityAnalysis.violations,\n          timestamp: Date.now(),\n        };\n      }\n\n      // 2. BUSCA EM CACHE\n      const cacheKey = this.cache.generateKey(this.id, prompt, context);\n      const cachedResponse = this.cache.get(cacheKey);\n\n      if (cachedResponse) {\n        this._addToHistory(prompt, cachedResponse, \"CACHE\", null);\n        return {\n          status: \"SUCCESS\",\n          source: \"CACHE\",\n          response: cachedResponse,\n          timestamp: Date.now(),\n        };\n      }\n\n      // 3. MODO MANUAL: Requer consentimento do usuário\n      if (this.mode === \"MANUAL\") {\n        return await this._manualMode(prompt, context, securityAnalysis, cacheKey);\n      }\n\n      // 4. MODO AUTÔNOMO: Executa automaticamente\n      if (this.mode === \"AUTONOMOUS\") {\n        return await this._autonomousMode(prompt, context, securityAnalysis, cacheKey);\n      }\n    } catch (error) {\n      return {\n        status: \"ERROR\",\n        error: error.message,\n        timestamp: Date.now(),\n      };\n    }\n  }\n\n  /**\n   * Modo Manual: Requer Consentimento do Usuário\n   */\n  async _manualMode(prompt, context, securityAnalysis, cacheKey) {\n    const consentRequired = securityAnalysis.recommendation === \"REQUIRE_CONSENT\";\n\n    if (consentRequired) {\n      // Em produção, isso seria uma solicitação real ao usuário\n      // Por enquanto, retornamos que consentimento é necessário\n      return {\n        status: \"CONSENT_REQUIRED\",\n        reason: \"User consent required for this operation\",\n        riskScore: securityAnalysis.riskScore,\n        violations: securityAnalysis.violations,\n        timestamp: Date.now(),\n      };\n    }\n\n    // Processar com API\n    const response = await this._callAPI(prompt, context);\n\n    // Armazenar em cache\n    this.cache.set(cacheKey, response, \"specialist-response\");\n\n    // Adicionar ao histórico\n    this._addToHistory(prompt, response, \"MANUAL\", null);\n\n    return {\n      status: \"SUCCESS\",\n      source: \"API\",\n      response,\n      timestamp: Date.now(),\n    };\n  }\n\n  /**\n   * Modo Autônomo: Executa e Cria PR\n   */\n  async _autonomousMode(prompt, context, securityAnalysis, cacheKey) {\n    // Processar com API\n    const response = await this._callAPI(prompt, context);\n\n    // Filtrar resposta (redação de dados sensíveis)\n    const filtered = this.modelArmor.filterResponse(response);\n\n    // Criar PR no GitHub (simulado por enquanto)\n    const pr = await this._createPullRequest({\n      agentId: this.id,\n      prompt,\n      response: filtered.filtered,\n      timestamp: Date.now(),\n      requiresApproval: filtered.isModified,\n    });\n\n    // Armazenar em cache\n    this.cache.set(cacheKey, response, \"specialist-response\");\n\n    // Adicionar ao histórico\n    this._addToHistory(prompt, response, \"AUTONOMOUS\", pr.id);\n\n    return {\n      status: \"SUCCESS\",\n      source: \"API\",\n      response,\n      prId: pr.id,\n      requiresApproval: filtered.isModified,\n      timestamp: Date.now(),\n    };\n  }\n\n  /**\n   * Chamar API (implementação específica de cada agente)\n   * @param {string} prompt - Prompt do usuário\n   * @param {Object} context - Contexto da conversa\n   * @returns {Promise<string>} Resposta da API\n   */\n  async _callAPI(prompt, context) {\n    // Implementação específica de cada agente\n    throw new Error(\"_callAPI must be implemented by subclass. Agent: \" + this.id);\n  }\n\n  /**\n   * Criar Pull Request no GitHub (simulado)\n   * @param {Object} data - Dados do PR\n   * @returns {Promise<Object>} Resultado do PR\n   */\n  async _createPullRequest(data) {\n    // Simulação: em produção, isso integraria com GitHub API\n    return {\n      id: `PR-${Date.now()}`,\n      agentId: data.agentId,\n      status: \"pending_approval\",\n      createdAt: Date.now(),\n    };\n  }\n\n  /**\n   * Adicionar ao Histórico de Thread (Memória Volátil)\n   * Mantém retenção zero: máx 100 mensagens\n   */\n  _addToHistory(prompt, response, source, prId = null) {\n    this.threadHistory.push({\n      timestamp: Date.now(),\n      prompt,\n      response,\n      source, // CACHE, MANUAL, AUTONOMOUS\n      prId,\n    });\n\n    // Manter apenas últimas 100 mensagens (retenção zero)\n    if (this.threadHistory.length > this.maxHistorySize) {\n      this.threadHistory.shift();\n    }\n  }\n\n  /**\n   * Obter Histórico de Thread\n   */\n  getThreadHistory() {\n    return this.threadHistory;\n  }\n\n  /**\n   * Limpar Histórico (Retenção Zero)\n   */\n  clearHistory() {\n    this.threadHistory = [];\n  }\n\n  /**\n   * Obter Estatísticas do Agente\n   */\n  getStats() {\n    const cacheStats = this.cache.getStats();\n\n    return {\n      agentId: this.id,\n      agentName: this.name,\n      mode: this.mode,\n      createdAt: this.createdAt,\n      uptime: Date.now() - this.createdAt,\n      historySize: this.threadHistory.length,\n      cache: cacheStats,\n    };\n  }\n\n  /**\n   * Gerar Relatório Completo\n   */\n  generateReport() {\n    const stats = this.getStats();\n    const modelArmorReport = this.modelArmor.generateReport({\n      isClean: true,\n      violations: [],\n      riskScore: 0,\n      recommendation: \"ALLOW\",\n      timestamp: Date.now(),\n    });\n    const cacheReport = this.cache.generateReport();\n\n    return `\n╔════════════════════════════════════════╗\n║        AGENT REPORT - ${this.id}\n╚════════════════════════════════════════╝\n\nAgent: ${this.name}\nRole: ${this.role}\nMode: ${this.mode}\nUptime: ${(stats.uptime / 1000 / 60).toFixed(2)} minutes\n\nHistory Size: ${stats.historySize}/${this.maxHistorySize}\n\n${cacheReport}\n\n${modelArmorReport}\n\nTimestamp: ${new Date().toISOString()}\n`;\n  }\n\n  /**\n   * Mudar Modo (MANUAL ↔ AUTONOMOUS)\n   */\n  setMode(mode) {\n    if (![\"MANUAL\", \"AUTONOMOUS\"].includes(mode)) {\n      throw new Error(\"Invalid mode. Must be MANUAL or AUTONOMOUS\");\n    }\n    this.mode = mode;\n  }\n\n  /**\n   * Obter Modo Atual\n   */\n  getMode() {\n    return this.mode;\n  }\n}\n\nmodule.exports = AgentBase;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}