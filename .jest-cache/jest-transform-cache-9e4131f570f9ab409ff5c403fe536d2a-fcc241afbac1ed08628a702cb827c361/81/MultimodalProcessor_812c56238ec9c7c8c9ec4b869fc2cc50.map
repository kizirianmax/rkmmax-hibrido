{"version":3,"names":["cov_2oot8dpj91","actualCoverage","MultimodalProcessor","constructor","f","s","supportedAudioFormats","supportedImageFormats","maxAudioSize","maxImageSize","processAudio","audioBuffer","format","b","console","log","includes","toLowerCase","Error","length","transcript","transcribeAudio","substring","type","confidence","duration","estimateAudioDuration","error","message","base64Audio","toString","response","fetch","method","headers","body","JSON","stringify","audio","language","ok","status","data","json","bitrate","durationSeconds","Math","round","processImage","imageBuffer","analysis","analyzeImage","description","size","base64Image","image","features","processMultimodal","inputs","results","combined","buffer","combineResults","audioResult","imageResult","imageAnalysis","combinedContext","extractTextFromImage","textDetection","extractedText","map","item","text","join","success","describeImage","labels","objects","detectCodeInImage","textResult","code","detectProgrammingLanguage","patterns","javascript","python","java","cpp","csharp","go","rust","sql","html","css","lang","pattern","Object","entries","test","validateAudioFile","filename","ext","split","pop","valid","validateImageFile","getSupportInfo","formats","maxSize"],"sources":["MultimodalProcessor.js"],"sourcesContent":["/**\n * MULTIMODAL PROCESSOR\n * Processa entrada multimodal: Voz (Speech-to-Text) e Imagem (Vision)\n * Suporta: MP3, WAV, MP4, WebM, PNG, JPG, GIF, WebP\n */\n\nclass MultimodalProcessor {\n  constructor() {\n    this.supportedAudioFormats = [\"mp3\", \"wav\", \"mp4\", \"webm\", \"ogg\", \"m4a\"];\n    this.supportedImageFormats = [\"png\", \"jpg\", \"jpeg\", \"gif\", \"webp\", \"bmp\"];\n    this.maxAudioSize = 25 * 1024 * 1024; // 25MB\n    this.maxImageSize = 20 * 1024 * 1024; // 20MB\n  }\n\n  /**\n   * Processar √°udio (Speech-to-Text)\n   */\n  async processAudio(audioBuffer, format = \"mp3\") {\n    console.log(`üé§ Processando √°udio (${format})...`);\n\n    // Validar formato\n    if (!this.supportedAudioFormats.includes(format.toLowerCase())) {\n      throw new Error(`Formato de √°udio n√£o suportado: ${format}`);\n    }\n\n    // Validar tamanho\n    if (audioBuffer.length > this.maxAudioSize) {\n      throw new Error(`Arquivo de √°udio muito grande: ${audioBuffer.length} bytes`);\n    }\n\n    try {\n      // Chamar API de Speech-to-Text (Google Cloud Speech-to-Text)\n      const transcript = await this.transcribeAudio(audioBuffer, format);\n\n      console.log(`‚úÖ √Åudio transcrito: \"${transcript.substring(0, 50)}...\"`);\n\n      return {\n        type: \"audio\",\n        format,\n        transcript,\n        confidence: 0.95, // Confian√ßa estimada\n        duration: await this.estimateAudioDuration(audioBuffer, format),\n      };\n    } catch (error) {\n      throw new Error(`Erro ao processar √°udio: ${error.message}`);\n    }\n  }\n\n  /**\n   * Transcrever √°udio via API\n   */\n  async transcribeAudio(audioBuffer, format) {\n    try {\n      // Converter buffer para base64\n      const base64Audio = audioBuffer.toString(\"base64\");\n\n      // Chamar API de transcription (simulado)\n      // Em produ√ß√£o, usar Google Cloud Speech-to-Text ou similar\n\n      const response = await fetch(\"/api/transcribe\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          audio: base64Audio,\n          format,\n          language: \"pt-BR\",\n        }),\n      });\n\n      if (!response.ok) {\n        throw new Error(`Erro na transcri√ß√£o: ${response.status}`);\n      }\n\n      const data = await response.json();\n      return data.transcript;\n    } catch (error) {\n      // Fallback: retornar mensagem de erro\n      throw error;\n    }\n  }\n\n  /**\n   * Estimar dura√ß√£o do √°udio\n   */\n  async estimateAudioDuration(audioBuffer, format) {\n    // Estimativa simples baseada no tamanho\n    // Em produ√ß√£o, usar biblioteca de √°udio\n    const bitrate = 128; // kbps\n    const durationSeconds = (audioBuffer.length * 8) / (bitrate * 1000);\n    return Math.round(durationSeconds);\n  }\n\n  /**\n   * Processar imagem (Vision)\n   */\n  async processImage(imageBuffer, format = \"png\") {\n    console.log(`üì∏ Processando imagem (${format})...`);\n\n    // Validar formato\n    if (!this.supportedImageFormats.includes(format.toLowerCase())) {\n      throw new Error(`Formato de imagem n√£o suportado: ${format}`);\n    }\n\n    // Validar tamanho\n    if (imageBuffer.length > this.maxImageSize) {\n      throw new Error(`Arquivo de imagem muito grande: ${imageBuffer.length} bytes`);\n    }\n\n    try {\n      // Analisar imagem\n      const analysis = await this.analyzeImage(imageBuffer, format);\n\n      console.log(`‚úÖ Imagem analisada: ${analysis.description}`);\n\n      return {\n        type: \"image\",\n        format,\n        analysis,\n        size: imageBuffer.length,\n      };\n    } catch (error) {\n      throw new Error(`Erro ao processar imagem: ${error.message}`);\n    }\n  }\n\n  /**\n   * Analisar imagem via API\n   */\n  async analyzeImage(imageBuffer, format) {\n    try {\n      // Converter buffer para base64\n      const base64Image = imageBuffer.toString(\"base64\");\n\n      // Chamar API de Vision (simulado)\n      // Em produ√ß√£o, usar Google Cloud Vision ou similar\n\n      const response = await fetch(\"/api/vision-analyze\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          image: base64Image,\n          format,\n          features: [\n            \"LABEL_DETECTION\",\n            \"TEXT_DETECTION\",\n            \"OBJECT_LOCALIZATION\",\n            \"SAFE_SEARCH_DETECTION\",\n          ],\n        }),\n      });\n\n      if (!response.ok) {\n        throw new Error(`Erro na an√°lise: ${response.status}`);\n      }\n\n      const data = await response.json();\n      return data.analysis;\n    } catch (error) {\n      throw error;\n    }\n  }\n\n  /**\n   * Processar entrada multimodal (√°udio + imagem)\n   */\n  async processMultimodal(inputs) {\n    console.log(`üé¨ Processando entrada multimodal...`);\n\n    const results = {\n      audio: null,\n      image: null,\n      combined: null,\n    };\n\n    // Processar √°udio se fornecido\n    if (inputs.audio) {\n      results.audio = await this.processAudio(inputs.audio.buffer, inputs.audio.format);\n    }\n\n    // Processar imagem se fornecida\n    if (inputs.image) {\n      results.image = await this.processImage(inputs.image.buffer, inputs.image.format);\n    }\n\n    // Combinar resultados\n    if (results.audio && results.image) {\n      results.combined = this.combineResults(results.audio, results.image);\n    }\n\n    return results;\n  }\n\n  /**\n   * Combinar resultados de √°udio e imagem\n   */\n  combineResults(audioResult, imageResult) {\n    return {\n      transcript: audioResult.transcript,\n      imageAnalysis: imageResult.analysis,\n      combinedContext: `√Åudio: \"${audioResult.transcript}\"\\n\\nImagem: ${imageResult.analysis.description}`,\n      confidence: {\n        audio: audioResult.confidence,\n        image: imageResult.analysis.confidence || 0.9,\n      },\n    };\n  }\n\n  /**\n   * Extrair texto de imagem (OCR)\n   */\n  async extractTextFromImage(imageBuffer, format = \"png\") {\n    console.log(`üìÑ Extraindo texto da imagem...`);\n\n    const analysis = await this.analyzeImage(imageBuffer, format);\n\n    if (analysis.textDetection && analysis.textDetection.length > 0) {\n      const extractedText = analysis.textDetection.map((item) => item.text).join(\"\\n\");\n\n      return {\n        success: true,\n        text: extractedText,\n        confidence: analysis.textDetection[0].confidence || 0.9,\n      };\n    }\n\n    return {\n      success: false,\n      text: \"\",\n      message: \"Nenhum texto encontrado na imagem\",\n    };\n  }\n\n  /**\n   * Descrever imagem\n   */\n  async describeImage(imageBuffer, format = \"png\") {\n    console.log(`üì∏ Descrevendo imagem...`);\n\n    const analysis = await this.analyzeImage(imageBuffer, format);\n\n    return {\n      description: analysis.description,\n      labels: analysis.labels || [],\n      objects: analysis.objects || [],\n      confidence: analysis.confidence || 0.9,\n    };\n  }\n\n  /**\n   * Detectar c√≥digo em imagem\n   */\n  async detectCodeInImage(imageBuffer, format = \"png\") {\n    console.log(`üíª Detectando c√≥digo na imagem...`);\n\n    const textResult = await this.extractTextFromImage(imageBuffer, format);\n\n    if (!textResult.success) {\n      return {\n        success: false,\n        code: \"\",\n        language: null,\n      };\n    }\n\n    // Detectar linguagem de programa√ß√£o\n    const language = this.detectProgrammingLanguage(textResult.text);\n\n    return {\n      success: true,\n      code: textResult.text,\n      language,\n      confidence: textResult.confidence,\n    };\n  }\n\n  /**\n   * Detectar linguagem de programa√ß√£o\n   */\n  detectProgrammingLanguage(code) {\n    const patterns = {\n      javascript: /const|let|var|function|=>|async|await/,\n      python: /def|import|class|if __name__|print\\(/,\n      java: /public class|public static|import java/,\n      cpp: /#include|std::|int main/,\n      csharp: /using|namespace|public class|async Task/,\n      go: /package main|func|import/,\n      rust: /fn |let |pub |impl /,\n      sql: /SELECT|INSERT|UPDATE|DELETE|FROM|WHERE/,\n      html: /<!DOCTYPE|<html|<body|<div/,\n      css: /@media|\\.class|#id|{.*:.*;}/,\n    };\n\n    for (const [lang, pattern] of Object.entries(patterns)) {\n      if (pattern.test(code)) {\n        return lang;\n      }\n    }\n\n    return null;\n  }\n\n  /**\n   * Validar arquivo de √°udio\n   */\n  validateAudioFile(filename, size) {\n    const ext = filename.split(\".\").pop().toLowerCase();\n\n    if (!this.supportedAudioFormats.includes(ext)) {\n      return {\n        valid: false,\n        error: `Formato n√£o suportado: ${ext}`,\n      };\n    }\n\n    if (size > this.maxAudioSize) {\n      return {\n        valid: false,\n        error: `Arquivo muito grande: ${size} bytes (m√°ximo: ${this.maxAudioSize})`,\n      };\n    }\n\n    return { valid: true };\n  }\n\n  /**\n   * Validar arquivo de imagem\n   */\n  validateImageFile(filename, size) {\n    const ext = filename.split(\".\").pop().toLowerCase();\n\n    if (!this.supportedImageFormats.includes(ext)) {\n      return {\n        valid: false,\n        error: `Formato n√£o suportado: ${ext}`,\n      };\n    }\n\n    if (size > this.maxImageSize) {\n      return {\n        valid: false,\n        error: `Arquivo muito grande: ${size} bytes (m√°ximo: ${this.maxImageSize})`,\n      };\n    }\n\n    return { valid: true };\n  }\n\n  /**\n   * Obter informa√ß√µes de suporte\n   */\n  getSupportInfo() {\n    return {\n      audio: {\n        formats: this.supportedAudioFormats,\n        maxSize: this.maxAudioSize,\n        features: [\"Speech-to-Text\", \"Transcription\", \"Language Detection\"],\n      },\n      image: {\n        formats: this.supportedImageFormats,\n        maxSize: this.maxImageSize,\n        features: [\"OCR\", \"Object Detection\", \"Label Detection\", \"Code Detection\"],\n      },\n    };\n  }\n}\n\nexport default MultimodalProcessor;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAeY;IAAAA,cAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,cAAA;AAfZ;AACA;AACA;AACA;AACA;;AAEA,MAAME,mBAAmB,CAAC;EACxBC,WAAWA,CAAA,EAAG;IAAA;IAAAH,cAAA,GAAAI,CAAA;IAAAJ,cAAA,GAAAK,CAAA;IACZ,IAAI,CAACC,qBAAqB,GAAG,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,KAAK,CAAC;IAAC;IAAAN,cAAA,GAAAK,CAAA;IACzE,IAAI,CAACE,qBAAqB,GAAG,CAAC,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,CAAC;IAAC;IAAAP,cAAA,GAAAK,CAAA;IAC1E,IAAI,CAACG,YAAY,GAAG,EAAE,GAAG,IAAI,GAAG,IAAI,CAAC,CAAC;IAAA;IAAAR,cAAA,GAAAK,CAAA;IACtC,IAAI,CAACI,YAAY,GAAG,EAAE,GAAG,IAAI,GAAG,IAAI,CAAC,CAAC;EACxC;;EAEA;AACF;AACA;EACE,MAAMC,YAAYA,CAACC,WAAW,EAAEC,MAAM;EAAA;EAAA,CAAAZ,cAAA,GAAAa,CAAA,UAAG,KAAK,GAAE;IAAA;IAAAb,cAAA,GAAAI,CAAA;IAAAJ,cAAA,GAAAK,CAAA;IAC9CS,OAAO,CAACC,GAAG,CAAC,yBAAyBH,MAAM,MAAM,CAAC;;IAElD;IAAA;IAAAZ,cAAA,GAAAK,CAAA;IACA,IAAI,CAAC,IAAI,CAACC,qBAAqB,CAACU,QAAQ,CAACJ,MAAM,CAACK,WAAW,CAAC,CAAC,CAAC,EAAE;MAAA;MAAAjB,cAAA,GAAAa,CAAA;MAAAb,cAAA,GAAAK,CAAA;MAC9D,MAAM,IAAIa,KAAK,CAAC,mCAAmCN,MAAM,EAAE,CAAC;IAC9D,CAAC;IAAA;IAAA;MAAAZ,cAAA,GAAAa,CAAA;IAAA;;IAED;IAAAb,cAAA,GAAAK,CAAA;IACA,IAAIM,WAAW,CAACQ,MAAM,GAAG,IAAI,CAACX,YAAY,EAAE;MAAA;MAAAR,cAAA,GAAAa,CAAA;MAAAb,cAAA,GAAAK,CAAA;MAC1C,MAAM,IAAIa,KAAK,CAAC,kCAAkCP,WAAW,CAACQ,MAAM,QAAQ,CAAC;IAC/E,CAAC;IAAA;IAAA;MAAAnB,cAAA,GAAAa,CAAA;IAAA;IAAAb,cAAA,GAAAK,CAAA;IAED,IAAI;MACF;MACA,MAAMe,UAAU;MAAA;MAAA,CAAApB,cAAA,GAAAK,CAAA,QAAG,MAAM,IAAI,CAACgB,eAAe,CAACV,WAAW,EAAEC,MAAM,CAAC;MAAC;MAAAZ,cAAA,GAAAK,CAAA;MAEnES,OAAO,CAACC,GAAG,CAAC,wBAAwBK,UAAU,CAACE,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC,MAAM,CAAC;MAAC;MAAAtB,cAAA,GAAAK,CAAA;MAEvE,OAAO;QACLkB,IAAI,EAAE,OAAO;QACbX,MAAM;QACNQ,UAAU;QACVI,UAAU,EAAE,IAAI;QAAE;QAClBC,QAAQ,EAAE,MAAM,IAAI,CAACC,qBAAqB,CAACf,WAAW,EAAEC,MAAM;MAChE,CAAC;IACH,CAAC,CAAC,OAAOe,KAAK,EAAE;MAAA;MAAA3B,cAAA,GAAAK,CAAA;MACd,MAAM,IAAIa,KAAK,CAAC,4BAA4BS,KAAK,CAACC,OAAO,EAAE,CAAC;IAC9D;EACF;;EAEA;AACF;AACA;EACE,MAAMP,eAAeA,CAACV,WAAW,EAAEC,MAAM,EAAE;IAAA;IAAAZ,cAAA,GAAAI,CAAA;IAAAJ,cAAA,GAAAK,CAAA;IACzC,IAAI;MACF;MACA,MAAMwB,WAAW;MAAA;MAAA,CAAA7B,cAAA,GAAAK,CAAA,QAAGM,WAAW,CAACmB,QAAQ,CAAC,QAAQ,CAAC;;MAElD;MACA;;MAEA,MAAMC,QAAQ;MAAA;MAAA,CAAA/B,cAAA,GAAAK,CAAA,QAAG,MAAM2B,KAAK,CAAC,iBAAiB,EAAE;QAC9CC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UAAE,cAAc,EAAE;QAAmB,CAAC;QAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UACnBC,KAAK,EAAET,WAAW;UAClBjB,MAAM;UACN2B,QAAQ,EAAE;QACZ,CAAC;MACH,CAAC,CAAC;MAAC;MAAAvC,cAAA,GAAAK,CAAA;MAEH,IAAI,CAAC0B,QAAQ,CAACS,EAAE,EAAE;QAAA;QAAAxC,cAAA,GAAAa,CAAA;QAAAb,cAAA,GAAAK,CAAA;QAChB,MAAM,IAAIa,KAAK,CAAC,wBAAwBa,QAAQ,CAACU,MAAM,EAAE,CAAC;MAC5D,CAAC;MAAA;MAAA;QAAAzC,cAAA,GAAAa,CAAA;MAAA;MAED,MAAM6B,IAAI;MAAA;MAAA,CAAA1C,cAAA,GAAAK,CAAA,QAAG,MAAM0B,QAAQ,CAACY,IAAI,CAAC,CAAC;MAAC;MAAA3C,cAAA,GAAAK,CAAA;MACnC,OAAOqC,IAAI,CAACtB,UAAU;IACxB,CAAC,CAAC,OAAOO,KAAK,EAAE;MAAA;MAAA3B,cAAA,GAAAK,CAAA;MACd;MACA,MAAMsB,KAAK;IACb;EACF;;EAEA;AACF;AACA;EACE,MAAMD,qBAAqBA,CAACf,WAAW,EAAEC,MAAM,EAAE;IAAA;IAAAZ,cAAA,GAAAI,CAAA;IAC/C;IACA;IACA,MAAMwC,OAAO;IAAA;IAAA,CAAA5C,cAAA,GAAAK,CAAA,QAAG,GAAG,EAAC,CAAC;IACrB,MAAMwC,eAAe;IAAA;IAAA,CAAA7C,cAAA,GAAAK,CAAA,QAAIM,WAAW,CAACQ,MAAM,GAAG,CAAC,IAAKyB,OAAO,GAAG,IAAI,CAAC;IAAC;IAAA5C,cAAA,GAAAK,CAAA;IACpE,OAAOyC,IAAI,CAACC,KAAK,CAACF,eAAe,CAAC;EACpC;;EAEA;AACF;AACA;EACE,MAAMG,YAAYA,CAACC,WAAW,EAAErC,MAAM;EAAA;EAAA,CAAAZ,cAAA,GAAAa,CAAA,UAAG,KAAK,GAAE;IAAA;IAAAb,cAAA,GAAAI,CAAA;IAAAJ,cAAA,GAAAK,CAAA;IAC9CS,OAAO,CAACC,GAAG,CAAC,0BAA0BH,MAAM,MAAM,CAAC;;IAEnD;IAAA;IAAAZ,cAAA,GAAAK,CAAA;IACA,IAAI,CAAC,IAAI,CAACE,qBAAqB,CAACS,QAAQ,CAACJ,MAAM,CAACK,WAAW,CAAC,CAAC,CAAC,EAAE;MAAA;MAAAjB,cAAA,GAAAa,CAAA;MAAAb,cAAA,GAAAK,CAAA;MAC9D,MAAM,IAAIa,KAAK,CAAC,oCAAoCN,MAAM,EAAE,CAAC;IAC/D,CAAC;IAAA;IAAA;MAAAZ,cAAA,GAAAa,CAAA;IAAA;;IAED;IAAAb,cAAA,GAAAK,CAAA;IACA,IAAI4C,WAAW,CAAC9B,MAAM,GAAG,IAAI,CAACV,YAAY,EAAE;MAAA;MAAAT,cAAA,GAAAa,CAAA;MAAAb,cAAA,GAAAK,CAAA;MAC1C,MAAM,IAAIa,KAAK,CAAC,mCAAmC+B,WAAW,CAAC9B,MAAM,QAAQ,CAAC;IAChF,CAAC;IAAA;IAAA;MAAAnB,cAAA,GAAAa,CAAA;IAAA;IAAAb,cAAA,GAAAK,CAAA;IAED,IAAI;MACF;MACA,MAAM6C,QAAQ;MAAA;MAAA,CAAAlD,cAAA,GAAAK,CAAA,QAAG,MAAM,IAAI,CAAC8C,YAAY,CAACF,WAAW,EAAErC,MAAM,CAAC;MAAC;MAAAZ,cAAA,GAAAK,CAAA;MAE9DS,OAAO,CAACC,GAAG,CAAC,uBAAuBmC,QAAQ,CAACE,WAAW,EAAE,CAAC;MAAC;MAAApD,cAAA,GAAAK,CAAA;MAE3D,OAAO;QACLkB,IAAI,EAAE,OAAO;QACbX,MAAM;QACNsC,QAAQ;QACRG,IAAI,EAAEJ,WAAW,CAAC9B;MACpB,CAAC;IACH,CAAC,CAAC,OAAOQ,KAAK,EAAE;MAAA;MAAA3B,cAAA,GAAAK,CAAA;MACd,MAAM,IAAIa,KAAK,CAAC,6BAA6BS,KAAK,CAACC,OAAO,EAAE,CAAC;IAC/D;EACF;;EAEA;AACF;AACA;EACE,MAAMuB,YAAYA,CAACF,WAAW,EAAErC,MAAM,EAAE;IAAA;IAAAZ,cAAA,GAAAI,CAAA;IAAAJ,cAAA,GAAAK,CAAA;IACtC,IAAI;MACF;MACA,MAAMiD,WAAW;MAAA;MAAA,CAAAtD,cAAA,GAAAK,CAAA,QAAG4C,WAAW,CAACnB,QAAQ,CAAC,QAAQ,CAAC;;MAElD;MACA;;MAEA,MAAMC,QAAQ;MAAA;MAAA,CAAA/B,cAAA,GAAAK,CAAA,QAAG,MAAM2B,KAAK,CAAC,qBAAqB,EAAE;QAClDC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UAAE,cAAc,EAAE;QAAmB,CAAC;QAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UACnBkB,KAAK,EAAED,WAAW;UAClB1C,MAAM;UACN4C,QAAQ,EAAE,CACR,iBAAiB,EACjB,gBAAgB,EAChB,qBAAqB,EACrB,uBAAuB;QAE3B,CAAC;MACH,CAAC,CAAC;MAAC;MAAAxD,cAAA,GAAAK,CAAA;MAEH,IAAI,CAAC0B,QAAQ,CAACS,EAAE,EAAE;QAAA;QAAAxC,cAAA,GAAAa,CAAA;QAAAb,cAAA,GAAAK,CAAA;QAChB,MAAM,IAAIa,KAAK,CAAC,oBAAoBa,QAAQ,CAACU,MAAM,EAAE,CAAC;MACxD,CAAC;MAAA;MAAA;QAAAzC,cAAA,GAAAa,CAAA;MAAA;MAED,MAAM6B,IAAI;MAAA;MAAA,CAAA1C,cAAA,GAAAK,CAAA,QAAG,MAAM0B,QAAQ,CAACY,IAAI,CAAC,CAAC;MAAC;MAAA3C,cAAA,GAAAK,CAAA;MACnC,OAAOqC,IAAI,CAACQ,QAAQ;IACtB,CAAC,CAAC,OAAOvB,KAAK,EAAE;MAAA;MAAA3B,cAAA,GAAAK,CAAA;MACd,MAAMsB,KAAK;IACb;EACF;;EAEA;AACF;AACA;EACE,MAAM8B,iBAAiBA,CAACC,MAAM,EAAE;IAAA;IAAA1D,cAAA,GAAAI,CAAA;IAAAJ,cAAA,GAAAK,CAAA;IAC9BS,OAAO,CAACC,GAAG,CAAC,sCAAsC,CAAC;IAEnD,MAAM4C,OAAO;IAAA;IAAA,CAAA3D,cAAA,GAAAK,CAAA,QAAG;MACdiC,KAAK,EAAE,IAAI;MACXiB,KAAK,EAAE,IAAI;MACXK,QAAQ,EAAE;IACZ,CAAC;;IAED;IAAA;IAAA5D,cAAA,GAAAK,CAAA;IACA,IAAIqD,MAAM,CAACpB,KAAK,EAAE;MAAA;MAAAtC,cAAA,GAAAa,CAAA;MAAAb,cAAA,GAAAK,CAAA;MAChBsD,OAAO,CAACrB,KAAK,GAAG,MAAM,IAAI,CAAC5B,YAAY,CAACgD,MAAM,CAACpB,KAAK,CAACuB,MAAM,EAAEH,MAAM,CAACpB,KAAK,CAAC1B,MAAM,CAAC;IACnF,CAAC;IAAA;IAAA;MAAAZ,cAAA,GAAAa,CAAA;IAAA;;IAED;IAAAb,cAAA,GAAAK,CAAA;IACA,IAAIqD,MAAM,CAACH,KAAK,EAAE;MAAA;MAAAvD,cAAA,GAAAa,CAAA;MAAAb,cAAA,GAAAK,CAAA;MAChBsD,OAAO,CAACJ,KAAK,GAAG,MAAM,IAAI,CAACP,YAAY,CAACU,MAAM,CAACH,KAAK,CAACM,MAAM,EAAEH,MAAM,CAACH,KAAK,CAAC3C,MAAM,CAAC;IACnF,CAAC;IAAA;IAAA;MAAAZ,cAAA,GAAAa,CAAA;IAAA;;IAED;IAAAb,cAAA,GAAAK,CAAA;IACA;IAAI;IAAA,CAAAL,cAAA,GAAAa,CAAA,WAAA8C,OAAO,CAACrB,KAAK;IAAA;IAAA,CAAAtC,cAAA,GAAAa,CAAA,WAAI8C,OAAO,CAACJ,KAAK,GAAE;MAAA;MAAAvD,cAAA,GAAAa,CAAA;MAAAb,cAAA,GAAAK,CAAA;MAClCsD,OAAO,CAACC,QAAQ,GAAG,IAAI,CAACE,cAAc,CAACH,OAAO,CAACrB,KAAK,EAAEqB,OAAO,CAACJ,KAAK,CAAC;IACtE,CAAC;IAAA;IAAA;MAAAvD,cAAA,GAAAa,CAAA;IAAA;IAAAb,cAAA,GAAAK,CAAA;IAED,OAAOsD,OAAO;EAChB;;EAEA;AACF;AACA;EACEG,cAAcA,CAACC,WAAW,EAAEC,WAAW,EAAE;IAAA;IAAAhE,cAAA,GAAAI,CAAA;IAAAJ,cAAA,GAAAK,CAAA;IACvC,OAAO;MACLe,UAAU,EAAE2C,WAAW,CAAC3C,UAAU;MAClC6C,aAAa,EAAED,WAAW,CAACd,QAAQ;MACnCgB,eAAe,EAAE,WAAWH,WAAW,CAAC3C,UAAU,gBAAgB4C,WAAW,CAACd,QAAQ,CAACE,WAAW,EAAE;MACpG5B,UAAU,EAAE;QACVc,KAAK,EAAEyB,WAAW,CAACvC,UAAU;QAC7B+B,KAAK;QAAE;QAAA,CAAAvD,cAAA,GAAAa,CAAA,WAAAmD,WAAW,CAACd,QAAQ,CAAC1B,UAAU;QAAA;QAAA,CAAAxB,cAAA,GAAAa,CAAA,WAAI,GAAG;MAC/C;IACF,CAAC;EACH;;EAEA;AACF;AACA;EACE,MAAMsD,oBAAoBA,CAAClB,WAAW,EAAErC,MAAM;EAAA;EAAA,CAAAZ,cAAA,GAAAa,CAAA,WAAG,KAAK,GAAE;IAAA;IAAAb,cAAA,GAAAI,CAAA;IAAAJ,cAAA,GAAAK,CAAA;IACtDS,OAAO,CAACC,GAAG,CAAC,iCAAiC,CAAC;IAE9C,MAAMmC,QAAQ;IAAA;IAAA,CAAAlD,cAAA,GAAAK,CAAA,QAAG,MAAM,IAAI,CAAC8C,YAAY,CAACF,WAAW,EAAErC,MAAM,CAAC;IAAC;IAAAZ,cAAA,GAAAK,CAAA;IAE9D;IAAI;IAAA,CAAAL,cAAA,GAAAa,CAAA,WAAAqC,QAAQ,CAACkB,aAAa;IAAA;IAAA,CAAApE,cAAA,GAAAa,CAAA,WAAIqC,QAAQ,CAACkB,aAAa,CAACjD,MAAM,GAAG,CAAC,GAAE;MAAA;MAAAnB,cAAA,GAAAa,CAAA;MAC/D,MAAMwD,aAAa;MAAA;MAAA,CAAArE,cAAA,GAAAK,CAAA,QAAG6C,QAAQ,CAACkB,aAAa,CAACE,GAAG,CAAEC,IAAI,IAAK;QAAA;QAAAvE,cAAA,GAAAI,CAAA;QAAAJ,cAAA,GAAAK,CAAA;QAAA,OAAAkE,IAAI,CAACC,IAAI;MAAD,CAAC,CAAC,CAACC,IAAI,CAAC,IAAI,CAAC;MAAC;MAAAzE,cAAA,GAAAK,CAAA;MAEjF,OAAO;QACLqE,OAAO,EAAE,IAAI;QACbF,IAAI,EAAEH,aAAa;QACnB7C,UAAU;QAAE;QAAA,CAAAxB,cAAA,GAAAa,CAAA,WAAAqC,QAAQ,CAACkB,aAAa,CAAC,CAAC,CAAC,CAAC5C,UAAU;QAAA;QAAA,CAAAxB,cAAA,GAAAa,CAAA,WAAI,GAAG;MACzD,CAAC;IACH,CAAC;IAAA;IAAA;MAAAb,cAAA,GAAAa,CAAA;IAAA;IAAAb,cAAA,GAAAK,CAAA;IAED,OAAO;MACLqE,OAAO,EAAE,KAAK;MACdF,IAAI,EAAE,EAAE;MACR5C,OAAO,EAAE;IACX,CAAC;EACH;;EAEA;AACF;AACA;EACE,MAAM+C,aAAaA,CAAC1B,WAAW,EAAErC,MAAM;EAAA;EAAA,CAAAZ,cAAA,GAAAa,CAAA,WAAG,KAAK,GAAE;IAAA;IAAAb,cAAA,GAAAI,CAAA;IAAAJ,cAAA,GAAAK,CAAA;IAC/CS,OAAO,CAACC,GAAG,CAAC,0BAA0B,CAAC;IAEvC,MAAMmC,QAAQ;IAAA;IAAA,CAAAlD,cAAA,GAAAK,CAAA,QAAG,MAAM,IAAI,CAAC8C,YAAY,CAACF,WAAW,EAAErC,MAAM,CAAC;IAAC;IAAAZ,cAAA,GAAAK,CAAA;IAE9D,OAAO;MACL+C,WAAW,EAAEF,QAAQ,CAACE,WAAW;MACjCwB,MAAM;MAAE;MAAA,CAAA5E,cAAA,GAAAa,CAAA,WAAAqC,QAAQ,CAAC0B,MAAM;MAAA;MAAA,CAAA5E,cAAA,GAAAa,CAAA,WAAI,EAAE;MAC7BgE,OAAO;MAAE;MAAA,CAAA7E,cAAA,GAAAa,CAAA,WAAAqC,QAAQ,CAAC2B,OAAO;MAAA;MAAA,CAAA7E,cAAA,GAAAa,CAAA,WAAI,EAAE;MAC/BW,UAAU;MAAE;MAAA,CAAAxB,cAAA,GAAAa,CAAA,WAAAqC,QAAQ,CAAC1B,UAAU;MAAA;MAAA,CAAAxB,cAAA,GAAAa,CAAA,WAAI,GAAG;IACxC,CAAC;EACH;;EAEA;AACF;AACA;EACE,MAAMiE,iBAAiBA,CAAC7B,WAAW,EAAErC,MAAM;EAAA;EAAA,CAAAZ,cAAA,GAAAa,CAAA,WAAG,KAAK,GAAE;IAAA;IAAAb,cAAA,GAAAI,CAAA;IAAAJ,cAAA,GAAAK,CAAA;IACnDS,OAAO,CAACC,GAAG,CAAC,mCAAmC,CAAC;IAEhD,MAAMgE,UAAU;IAAA;IAAA,CAAA/E,cAAA,GAAAK,CAAA,QAAG,MAAM,IAAI,CAAC8D,oBAAoB,CAAClB,WAAW,EAAErC,MAAM,CAAC;IAAC;IAAAZ,cAAA,GAAAK,CAAA;IAExE,IAAI,CAAC0E,UAAU,CAACL,OAAO,EAAE;MAAA;MAAA1E,cAAA,GAAAa,CAAA;MAAAb,cAAA,GAAAK,CAAA;MACvB,OAAO;QACLqE,OAAO,EAAE,KAAK;QACdM,IAAI,EAAE,EAAE;QACRzC,QAAQ,EAAE;MACZ,CAAC;IACH,CAAC;IAAA;IAAA;MAAAvC,cAAA,GAAAa,CAAA;IAAA;;IAED;IACA,MAAM0B,QAAQ;IAAA;IAAA,CAAAvC,cAAA,GAAAK,CAAA,QAAG,IAAI,CAAC4E,yBAAyB,CAACF,UAAU,CAACP,IAAI,CAAC;IAAC;IAAAxE,cAAA,GAAAK,CAAA;IAEjE,OAAO;MACLqE,OAAO,EAAE,IAAI;MACbM,IAAI,EAAED,UAAU,CAACP,IAAI;MACrBjC,QAAQ;MACRf,UAAU,EAAEuD,UAAU,CAACvD;IACzB,CAAC;EACH;;EAEA;AACF;AACA;EACEyD,yBAAyBA,CAACD,IAAI,EAAE;IAAA;IAAAhF,cAAA,GAAAI,CAAA;IAC9B,MAAM8E,QAAQ;IAAA;IAAA,CAAAlF,cAAA,GAAAK,CAAA,QAAG;MACf8E,UAAU,EAAE,uCAAuC;MACnDC,MAAM,EAAE,sCAAsC;MAC9CC,IAAI,EAAE,wCAAwC;MAC9CC,GAAG,EAAE,yBAAyB;MAC9BC,MAAM,EAAE,yCAAyC;MACjDC,EAAE,EAAE,0BAA0B;MAC9BC,IAAI,EAAE,qBAAqB;MAC3BC,GAAG,EAAE,wCAAwC;MAC7CC,IAAI,EAAE,4BAA4B;MAClCC,GAAG,EAAE;IACP,CAAC;IAAC;IAAA5F,cAAA,GAAAK,CAAA;IAEF,KAAK,MAAM,CAACwF,IAAI,EAAEC,OAAO,CAAC,IAAIC,MAAM,CAACC,OAAO,CAACd,QAAQ,CAAC,EAAE;MAAA;MAAAlF,cAAA,GAAAK,CAAA;MACtD,IAAIyF,OAAO,CAACG,IAAI,CAACjB,IAAI,CAAC,EAAE;QAAA;QAAAhF,cAAA,GAAAa,CAAA;QAAAb,cAAA,GAAAK,CAAA;QACtB,OAAOwF,IAAI;MACb,CAAC;MAAA;MAAA;QAAA7F,cAAA,GAAAa,CAAA;MAAA;IACH;IAAC;IAAAb,cAAA,GAAAK,CAAA;IAED,OAAO,IAAI;EACb;;EAEA;AACF;AACA;EACE6F,iBAAiBA,CAACC,QAAQ,EAAE9C,IAAI,EAAE;IAAA;IAAArD,cAAA,GAAAI,CAAA;IAChC,MAAMgG,GAAG;IAAA;IAAA,CAAApG,cAAA,GAAAK,CAAA,QAAG8F,QAAQ,CAACE,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,CAAC,CAAC,CAACrF,WAAW,CAAC,CAAC;IAAC;IAAAjB,cAAA,GAAAK,CAAA;IAEpD,IAAI,CAAC,IAAI,CAACC,qBAAqB,CAACU,QAAQ,CAACoF,GAAG,CAAC,EAAE;MAAA;MAAApG,cAAA,GAAAa,CAAA;MAAAb,cAAA,GAAAK,CAAA;MAC7C,OAAO;QACLkG,KAAK,EAAE,KAAK;QACZ5E,KAAK,EAAE,0BAA0ByE,GAAG;MACtC,CAAC;IACH,CAAC;IAAA;IAAA;MAAApG,cAAA,GAAAa,CAAA;IAAA;IAAAb,cAAA,GAAAK,CAAA;IAED,IAAIgD,IAAI,GAAG,IAAI,CAAC7C,YAAY,EAAE;MAAA;MAAAR,cAAA,GAAAa,CAAA;MAAAb,cAAA,GAAAK,CAAA;MAC5B,OAAO;QACLkG,KAAK,EAAE,KAAK;QACZ5E,KAAK,EAAE,yBAAyB0B,IAAI,mBAAmB,IAAI,CAAC7C,YAAY;MAC1E,CAAC;IACH,CAAC;IAAA;IAAA;MAAAR,cAAA,GAAAa,CAAA;IAAA;IAAAb,cAAA,GAAAK,CAAA;IAED,OAAO;MAAEkG,KAAK,EAAE;IAAK,CAAC;EACxB;;EAEA;AACF;AACA;EACEC,iBAAiBA,CAACL,QAAQ,EAAE9C,IAAI,EAAE;IAAA;IAAArD,cAAA,GAAAI,CAAA;IAChC,MAAMgG,GAAG;IAAA;IAAA,CAAApG,cAAA,GAAAK,CAAA,QAAG8F,QAAQ,CAACE,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,CAAC,CAAC,CAACrF,WAAW,CAAC,CAAC;IAAC;IAAAjB,cAAA,GAAAK,CAAA;IAEpD,IAAI,CAAC,IAAI,CAACE,qBAAqB,CAACS,QAAQ,CAACoF,GAAG,CAAC,EAAE;MAAA;MAAApG,cAAA,GAAAa,CAAA;MAAAb,cAAA,GAAAK,CAAA;MAC7C,OAAO;QACLkG,KAAK,EAAE,KAAK;QACZ5E,KAAK,EAAE,0BAA0ByE,GAAG;MACtC,CAAC;IACH,CAAC;IAAA;IAAA;MAAApG,cAAA,GAAAa,CAAA;IAAA;IAAAb,cAAA,GAAAK,CAAA;IAED,IAAIgD,IAAI,GAAG,IAAI,CAAC5C,YAAY,EAAE;MAAA;MAAAT,cAAA,GAAAa,CAAA;MAAAb,cAAA,GAAAK,CAAA;MAC5B,OAAO;QACLkG,KAAK,EAAE,KAAK;QACZ5E,KAAK,EAAE,yBAAyB0B,IAAI,mBAAmB,IAAI,CAAC5C,YAAY;MAC1E,CAAC;IACH,CAAC;IAAA;IAAA;MAAAT,cAAA,GAAAa,CAAA;IAAA;IAAAb,cAAA,GAAAK,CAAA;IAED,OAAO;MAAEkG,KAAK,EAAE;IAAK,CAAC;EACxB;;EAEA;AACF;AACA;EACEE,cAAcA,CAAA,EAAG;IAAA;IAAAzG,cAAA,GAAAI,CAAA;IAAAJ,cAAA,GAAAK,CAAA;IACf,OAAO;MACLiC,KAAK,EAAE;QACLoE,OAAO,EAAE,IAAI,CAACpG,qBAAqB;QACnCqG,OAAO,EAAE,IAAI,CAACnG,YAAY;QAC1BgD,QAAQ,EAAE,CAAC,gBAAgB,EAAE,eAAe,EAAE,oBAAoB;MACpE,CAAC;MACDD,KAAK,EAAE;QACLmD,OAAO,EAAE,IAAI,CAACnG,qBAAqB;QACnCoG,OAAO,EAAE,IAAI,CAAClG,YAAY;QAC1B+C,QAAQ,EAAE,CAAC,KAAK,EAAE,kBAAkB,EAAE,iBAAiB,EAAE,gBAAgB;MAC3E;IACF,CAAC;EACH;AACF;AAEA,eAAetD,mBAAmB","ignoreList":[]}