{"version":3,"names":["_getJestObj","mock","captureMessage","jest","fn","trackEvent","Events","FEEDBACK_SUBMITTED","_react","_interopRequireDefault","require","_react2","_FeedbackButton","e","__esModule","default","describe","beforeEach","global","fetch","Promise","resolve","ok","json","afterEach","clearAllMocks","test","render","createElement","button","screen","getByRole","name","expect","toBeInTheDocument","fireEvent","click","getByText","openButton","closeButton","queryByText","not","textarea","getByPlaceholderText","change","target","value","submitButton","waitFor"],"sources":["FeedbackButton.test.jsx"],"sourcesContent":["// src/components/FeedbackButton.test.jsx\nimport React from \"react\";\nimport { render, screen, fireEvent, waitFor } from \"@testing-library/react\";\nimport \"@testing-library/jest-dom\";\nimport FeedbackButton from \"./FeedbackButton.jsx\";\n\n// Mock Sentry and Analytics\njest.mock(\"../lib/sentry.js\", () => ({\n  captureMessage: jest.fn(),\n}));\n\njest.mock(\"../lib/analytics.js\", () => ({\n  trackEvent: jest.fn(),\n  Events: { FEEDBACK_SUBMITTED: \"feedback_submitted\" },\n}));\n\ndescribe(\"FeedbackButton Component\", () => {\n  beforeEach(() => {\n    global.fetch = jest.fn(() =>\n      Promise.resolve({\n        ok: true,\n        json: () => Promise.resolve({ ok: true }),\n      })\n    );\n  });\n\n  afterEach(() => {\n    jest.clearAllMocks();\n  });\n\n  test(\"renders feedback button\", () => {\n    render(<FeedbackButton />);\n    const button = screen.getByRole(\"button\", { name: /feedback/i });\n    expect(button).toBeInTheDocument();\n  });\n\n  test(\"opens feedback form when button is clicked\", () => {\n    render(<FeedbackButton />);\n    const button = screen.getByRole(\"button\", { name: /feedback/i });\n    fireEvent.click(button);\n\n    expect(screen.getByText(/enviar feedback/i)).toBeInTheDocument();\n  });\n\n  test(\"closes form when close button is clicked\", () => {\n    render(<FeedbackButton />);\n    const openButton = screen.getByRole(\"button\", { name: /feedback/i });\n    fireEvent.click(openButton);\n\n    const closeButton = screen.getByRole(\"button\", { name: /fechar/i });\n    fireEvent.click(closeButton);\n\n    expect(screen.queryByText(/enviar feedback/i)).not.toBeInTheDocument();\n  });\n\n  test(\"submits feedback successfully\", async () => {\n    render(<FeedbackButton />);\n    const openButton = screen.getByRole(\"button\", { name: /feedback/i });\n    fireEvent.click(openButton);\n\n    const textarea = screen.getByPlaceholderText(/descreva o problema/i);\n    fireEvent.change(textarea, { target: { value: \"Test feedback\" } });\n\n    const submitButton = screen.getByRole(\"button\", { name: /enviar feedback/i });\n    fireEvent.click(submitButton);\n\n    await waitFor(() => {\n      expect(screen.getByText(/feedback enviado/i)).toBeInTheDocument();\n    });\n  });\n});\n"],"mappings":"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","ignoreList":[]}