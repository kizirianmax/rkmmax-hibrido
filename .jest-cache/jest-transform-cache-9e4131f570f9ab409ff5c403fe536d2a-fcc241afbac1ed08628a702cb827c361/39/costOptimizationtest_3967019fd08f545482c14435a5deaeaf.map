{"version":3,"names":["_costOptimization","require","describe","beforeEach","responseCache","clear","test","messages","role","content","hash1","generateHash","hash2","expect","toBe","toHaveLength","messages1","messages2","not","hash","toBeDefined","result","get","toBeNull","response","set","shortTTLCache","constructor","Promise","resolve","setTimeout","smallCache","messages3","stats","toHaveProperty","size","toBeGreaterThan","maxSize","ttl","prompt","compressPrompt","deduplicateMessages","toEqual","text","tokens","estimateTokens","Math","ceil","length","longText","repeat","limitContext","toBeLessThan","toContain","cacheResponse","cached","getCostStats","cache"],"sources":["costOptimization.test.js"],"sourcesContent":["/**\n * COST OPTIMIZATION SYSTEM TESTS\n * Testes unitários para o sistema de otimização de custo\n */\n\nimport {\n  responseCache,\n  compressPrompt,\n  deduplicateMessages,\n  estimateTokens,\n} from '../costOptimization.js';\n\ndescribe('Cost Optimization System', () => {\n  describe('ResponseCache', () => {\n    beforeEach(() => {\n      responseCache.clear();\n    });\n\n    describe('generateHash', () => {\n      test('deve gerar hash MD5 consistente para mesmas mensagens', () => {\n        const messages = [\n          { role: 'user', content: 'Hello' },\n          { role: 'assistant', content: 'Hi there!' },\n        ];\n\n        const hash1 = responseCache.generateHash(messages);\n        const hash2 = responseCache.generateHash(messages);\n\n        expect(hash1).toBe(hash2);\n        expect(hash1).toHaveLength(32); // MD5 hash length\n      });\n\n      test('deve gerar hashes diferentes para mensagens diferentes', () => {\n        const messages1 = [{ role: 'user', content: 'Hello' }];\n        const messages2 = [{ role: 'user', content: 'Goodbye' }];\n\n        const hash1 = responseCache.generateHash(messages1);\n        const hash2 = responseCache.generateHash(messages2);\n\n        expect(hash1).not.toBe(hash2);\n      });\n\n      test('deve funcionar com arrays de objetos', () => {\n        const messages = [\n          { role: 'user', content: 'Question 1' },\n          { role: 'assistant', content: 'Answer 1' },\n          { role: 'user', content: 'Question 2' },\n        ];\n\n        const hash = responseCache.generateHash(messages);\n\n        expect(hash).toBeDefined();\n        expect(typeof hash).toBe('string');\n        expect(hash).toHaveLength(32);\n      });\n    });\n\n    describe('get', () => {\n      test('deve retornar null para cache miss', () => {\n        const messages = [{ role: 'user', content: 'New message' }];\n        const result = responseCache.get(messages);\n\n        expect(result).toBeNull();\n      });\n\n      test('deve retornar resposta cacheada para cache hit', () => {\n        const messages = [{ role: 'user', content: 'Test message' }];\n        const response = 'Cached response';\n\n        // Salvar no cache\n        responseCache.set(messages, response);\n\n        // Buscar do cache\n        const result = responseCache.get(messages);\n\n        expect(result).toBe(response);\n      });\n\n      test('deve retornar null para cache expirado (TTL)', () => {\n        // Criar cache com TTL muito curto (1ms)\n        const shortTTLCache = new (responseCache.constructor)(1000, 1);\n        const messages = [{ role: 'user', content: 'Expiring message' }];\n        const response = 'Will expire';\n\n        // Salvar no cache\n        shortTTLCache.set(messages, response);\n\n        // Aguardar expiração\n        return new Promise((resolve) => {\n          setTimeout(() => {\n            const result = shortTTLCache.get(messages);\n            expect(result).toBeNull();\n            resolve();\n          }, 10);\n        });\n      });\n    });\n\n    describe('set', () => {\n      test('deve salvar resposta no cache', () => {\n        const messages = [{ role: 'user', content: 'Save this' }];\n        const response = 'Saved response';\n\n        responseCache.set(messages, response);\n        const result = responseCache.get(messages);\n\n        expect(result).toBe(response);\n      });\n\n      test('deve limpar cache mais antigo quando atingir maxSize', () => {\n        // Criar cache com tamanho máximo de 2\n        const smallCache = new (responseCache.constructor)(2, 3600000);\n\n        const messages1 = [{ role: 'user', content: 'Message 1' }];\n        const messages2 = [{ role: 'user', content: 'Message 2' }];\n        const messages3 = [{ role: 'user', content: 'Message 3' }];\n\n        // Adicionar 3 itens (deve remover o primeiro)\n        smallCache.set(messages1, 'Response 1');\n        smallCache.set(messages2, 'Response 2');\n        smallCache.set(messages3, 'Response 3');\n\n        // O primeiro deve ter sido removido\n        expect(smallCache.get(messages1)).toBeNull();\n        // Os outros dois devem existir\n        expect(smallCache.get(messages2)).toBe('Response 2');\n        expect(smallCache.get(messages3)).toBe('Response 3');\n      });\n    });\n\n    describe('clear', () => {\n      test('deve limpar todos os itens do cache', () => {\n        const messages1 = [{ role: 'user', content: 'Message 1' }];\n        const messages2 = [{ role: 'user', content: 'Message 2' }];\n\n        responseCache.set(messages1, 'Response 1');\n        responseCache.set(messages2, 'Response 2');\n\n        expect(responseCache.get(messages1)).toBe('Response 1');\n        expect(responseCache.get(messages2)).toBe('Response 2');\n\n        responseCache.clear();\n\n        expect(responseCache.get(messages1)).toBeNull();\n        expect(responseCache.get(messages2)).toBeNull();\n      });\n    });\n\n    describe('stats', () => {\n      test('deve retornar estatísticas do cache', () => {\n        const messages = [{ role: 'user', content: 'Test' }];\n        responseCache.set(messages, 'Response');\n\n        const stats = responseCache.stats();\n\n        expect(stats).toHaveProperty('size');\n        expect(stats).toHaveProperty('maxSize');\n        expect(stats).toHaveProperty('ttl');\n        expect(stats.size).toBeGreaterThan(0);\n        expect(stats.maxSize).toBe(1000);\n        expect(stats.ttl).toBe(3600000);\n      });\n    });\n  });\n\n  describe('compressPrompt', () => {\n    test('deve remover múltiplos espaços', () => {\n      const prompt = 'This   has    multiple     spaces';\n      const result = compressPrompt(prompt);\n\n      expect(result).toBe('This has multiple spaces');\n    });\n\n    test('deve remover quebras de linha desnecessárias', () => {\n      const prompt = 'Line 1\\n\\n\\n\\nLine 2';\n      const result = compressPrompt(prompt);\n\n      // A função atual converte todos os espaços em brancos em um único espaço\n      expect(result).toBe('Line 1 Line 2');\n    });\n\n    test('deve fazer trim do texto', () => {\n      const prompt = '   Text with spaces   ';\n      const result = compressPrompt(prompt);\n\n      expect(result).toBe('Text with spaces');\n    });\n\n    test('deve aplicar todas as otimizações juntas', () => {\n      const prompt = '  This   has   \\n\\n\\n  multiple    issues  \\n\\n\\n  ';\n      const result = compressPrompt(prompt);\n\n      // A função atual converte todos os espaços em brancos em um único espaço\n      expect(result).toBe('This has multiple issues');\n    });\n\n    test('deve manter texto já otimizado inalterado', () => {\n      const prompt = 'Already optimized text';\n      const result = compressPrompt(prompt);\n\n      expect(result).toBe('Already optimized text');\n    });\n  });\n\n  describe('deduplicateMessages', () => {\n    test('deve remover mensagens duplicadas consecutivas', () => {\n      const messages = [\n        { role: 'user', content: 'Hello' },\n        { role: 'user', content: 'Hello' },\n        { role: 'assistant', content: 'Hi' },\n      ];\n\n      const result = deduplicateMessages(messages);\n\n      expect(result).toHaveLength(2);\n      expect(result[0].content).toBe('Hello');\n      expect(result[1].content).toBe('Hi');\n    });\n\n    test('deve manter mensagens não-consecutivas duplicadas', () => {\n      const messages = [\n        { role: 'user', content: 'Hello' },\n        { role: 'assistant', content: 'Hi' },\n        { role: 'user', content: 'Hello' },\n      ];\n\n      const result = deduplicateMessages(messages);\n\n      expect(result).toHaveLength(3);\n      expect(result[0].content).toBe('Hello');\n      expect(result[1].content).toBe('Hi');\n      expect(result[2].content).toBe('Hello');\n    });\n\n    test('deve retornar array vazio para input vazio', () => {\n      const messages = [];\n      const result = deduplicateMessages(messages);\n\n      expect(result).toEqual([]);\n      expect(result).toHaveLength(0);\n    });\n\n    test('deve manter mensagens únicas inalteradas', () => {\n      const messages = [\n        { role: 'user', content: 'Message 1' },\n        { role: 'assistant', content: 'Response 1' },\n        { role: 'user', content: 'Message 2' },\n      ];\n\n      const result = deduplicateMessages(messages);\n\n      expect(result).toHaveLength(3);\n      expect(result).toEqual(messages);\n    });\n\n    test('deve lidar com múltiplas duplicatas consecutivas', () => {\n      const messages = [\n        { role: 'user', content: 'Same' },\n        { role: 'user', content: 'Same' },\n        { role: 'user', content: 'Same' },\n        { role: 'assistant', content: 'Different' },\n      ];\n\n      const result = deduplicateMessages(messages);\n\n      expect(result).toHaveLength(2);\n      expect(result[0].content).toBe('Same');\n      expect(result[1].content).toBe('Different');\n    });\n  });\n\n  describe('estimateTokens', () => {\n    test('deve estimar tokens baseado em caracteres', () => {\n      const text = 'This is a test message';\n      const tokens = estimateTokens(text);\n\n      // Estimativa: ~4 caracteres = 1 token\n      expect(tokens).toBeGreaterThan(0);\n      expect(tokens).toBe(Math.ceil(text.length / 4));\n    });\n\n    test('deve retornar 0 para string vazia', () => {\n      const tokens = estimateTokens('');\n      expect(tokens).toBe(0);\n    });\n\n    test('deve calcular tokens para textos longos', () => {\n      const longText = 'a'.repeat(1000);\n      const tokens = estimateTokens(longText);\n\n      expect(tokens).toBe(250); // 1000 / 4 = 250\n    });\n\n    test('deve arredondar para cima', () => {\n      const text = 'abc'; // 3 caracteres\n      const tokens = estimateTokens(text);\n\n      expect(tokens).toBe(1); // Math.ceil(3 / 4) = 1\n    });\n  });\n\n  describe('limitContext', () => {\n    test('deve manter todas as mensagens se dentro do limite', () => {\n      const messages = [\n        { role: 'user', content: 'Hi' },\n        { role: 'assistant', content: 'Hello' },\n      ];\n\n      // Importar limitContext diretamente\n      const { limitContext } = require('../costOptimization.js');\n      const result = limitContext(messages, 1000);\n\n      expect(result).toHaveLength(2);\n      expect(result).toEqual(messages);\n    });\n\n    test('deve limitar mensagens quando exceder maxTokens', () => {\n      const { limitContext } = require('../costOptimization.js');\n      const messages = [\n        { role: 'user', content: 'a'.repeat(2000) }, // ~500 tokens\n        { role: 'assistant', content: 'b'.repeat(2000) }, // ~500 tokens\n        { role: 'user', content: 'c'.repeat(8000) }, // ~2000 tokens\n      ];\n\n      const result = limitContext(messages, 2500);\n\n      // Deve manter apenas as mensagens mais recentes que cabem no limite\n      expect(result.length).toBeLessThan(messages.length);\n    });\n\n    test('deve manter mensagens recentes primeiro', () => {\n      const { limitContext } = require('../costOptimization.js');\n      const messages = [\n        { role: 'user', content: 'Old message' },\n        { role: 'assistant', content: 'Recent reply' },\n      ];\n\n      const result = limitContext(messages, 10); // Limite muito baixo\n\n      // Deve manter apenas a mensagem mais recente\n      expect(result.length).toBeGreaterThan(0);\n      expect(result[result.length - 1].content).toContain('reply');\n    });\n  });\n\n  describe('cacheResponse', () => {\n    test('deve salvar resposta no cache global', () => {\n      const { cacheResponse } = require('../costOptimization.js');\n      const messages = [{ role: 'user', content: 'Cache test' }];\n      const response = 'Cached via cacheResponse';\n\n      cacheResponse(messages, response);\n\n      // Verificar que foi salvo\n      const cached = responseCache.get(messages);\n      expect(cached).toBe(response);\n    });\n  });\n\n  describe('getCostStats', () => {\n    test('deve retornar estatísticas de custo', () => {\n      const { getCostStats } = require('../costOptimization.js');\n      const stats = getCostStats();\n\n      expect(stats).toHaveProperty('cache');\n      expect(stats.cache).toHaveProperty('size');\n      expect(stats.cache).toHaveProperty('maxSize');\n      expect(stats.cache).toHaveProperty('ttl');\n    });\n  });\n});\n"],"mappings":"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","ignoreList":[]}