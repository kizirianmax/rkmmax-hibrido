de232476d95663d2fecfde1040d27e03
"use strict";

/**
 * AUTOMATION ENGINE TESTS
 * Testes unitários para motor de automação
 */

// Mock all dependencies before importing AutomationEngine
_getJestObj().mock("../SecurityValidator.js", () => ({
  __esModule: true,
  default: jest.fn().mockImplementation(() => ({
    validateCode: jest.fn().mockResolvedValue({
      isValid: true,
      errors: [],
      warnings: []
    }),
    validateFiles: jest.fn().mockResolvedValue({
      isValid: true,
      validFiles: 1,
      invalidFiles: 0,
      errors: []
    })
  }))
}));
_getJestObj().mock("../AuditLogger.js", () => ({
  __esModule: true,
  default: jest.fn().mockImplementation(() => ({
    logAutomationRequest: jest.fn().mockReturnValue("mock-automation-id"),
    logSecurityValidation: jest.fn(),
    logAutomationCompletion: jest.fn(),
    logError: jest.fn(),
    searchLogs: jest.fn().mockReturnValue([]),
    logAutomationStarted: jest.fn(),
    logAutomationCompleted: jest.fn(),
    logAutomationFailed: jest.fn(),
    getAutomationHistory: jest.fn().mockReturnValue([]),
    getAutomationStats: jest.fn().mockReturnValue({
      totalAutomations: 0,
      successfulAutomations: 0,
      failedAutomations: 0
    })
  }))
}));
_getJestObj().mock("../SpecialistSelector.js", () => ({
  __esModule: true,
  default: jest.fn().mockImplementation(() => ({
    selectSpecialist: jest.fn().mockReturnValue({
      specialist: "Frontend",
      confidence: 0.9
    })
  }))
}));
_getJestObj().mock("../GitHubAutomation.js", () => ({
  __esModule: true,
  default: jest.fn().mockImplementation(() => ({
    createBranch: jest.fn().mockResolvedValue(true),
    commitFiles: jest.fn().mockResolvedValue(true),
    createPullRequest: jest.fn().mockResolvedValue({
      number: 1
    })
  }))
}));
var _AutomationEngine = _interopRequireDefault(require("../AutomationEngine.js"));
function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }
function _getJestObj() {
  const {
    jest
  } = require("@jest/globals");
  _getJestObj = () => jest;
  return jest;
}
describe("AutomationEngine", () => {
  let engine;
  beforeEach(() => {
    engine = new _AutomationEngine.default({
      aiModel: "gemini-2.0-flash",
      temperature: 0.7
    });

    // Manually mock the auditLogger methods on the instance
    engine.auditLogger.logAutomationRequest = jest.fn().mockReturnValue("mock-automation-id");
    engine.auditLogger.logSecurityValidation = jest.fn();
    engine.auditLogger.logAutomationCompletion = jest.fn();
    engine.auditLogger.logError = jest.fn();
    engine.auditLogger.searchLogs = jest.fn().mockReturnValue([]);
    engine.auditLogger.logAutomationStarted = jest.fn();
    engine.auditLogger.logAutomationCompleted = jest.fn();
    engine.auditLogger.logAutomationFailed = jest.fn();
    engine.auditLogger.getAutomationHistory = jest.fn().mockReturnValue([]);
    engine.auditLogger.getAutomationStats = jest.fn().mockReturnValue({
      totalAutomations: 0,
      successfulAutomations: 0,
      failedAutomations: 0
    });
  });
  describe("initialization", () => {
    test("deve inicializar com configurações padrão", () => {
      expect(engine.config.aiModel).toBe("gemini-2.0-flash");
      expect(engine.config.temperature).toBe(0.7);
      expect(engine.config.maxRetries).toBe(3);
    });
    test("deve inicializar componentes", () => {
      expect(engine.validator).toBeDefined();
      expect(engine.auditLogger).toBeDefined();
      expect(engine.specialistSelector).toBeDefined();
    });
  });
  describe("analyzeCommand", () => {
    test("deve analisar comando simples", async () => {
      const analysis = await engine.analyzeCommand("cria um componente de login");
      expect(analysis.command).toBeDefined();
      expect(analysis.taskType).toBeDefined();
      expect(analysis.keywords).toBeDefined();
      expect(analysis.commitMessage).toBeDefined();
    });
    test("deve detectar tipo de tarefa COMPONENT", async () => {
      const analysis = await engine.analyzeCommand("cria um componente de login");
      expect(analysis.taskType).toBe("COMPONENT");
    });
    test("deve detectar tipo de tarefa FUNCTION", async () => {
      const analysis = await engine.analyzeCommand("cria uma função de autenticação");
      expect(analysis.taskType).toBe("FUNCTION");
    });
    test("deve detectar tipo de tarefa TEST", async () => {
      const analysis = await engine.analyzeCommand("cria testes para login");
      expect(analysis.taskType).toBe("TEST");
    });
    test("deve detectar tipo de tarefa REFACTOR", async () => {
      const analysis = await engine.analyzeCommand("refatora o código de autenticação");
      expect(analysis.taskType).toBe("REFACTOR");
    });
    test("deve extrair keywords do comando", async () => {
      const analysis = await engine.analyzeCommand("cria componente login form");
      expect(analysis.keywords.length).toBeGreaterThan(0);
      expect(analysis.keywords).toContain("cria");
      expect(analysis.keywords).toContain("componente");
    });
  });
  describe("generateCode", () => {
    test("deve gerar código", async () => {
      const analysis = {
        taskType: "COMPONENT",
        description: "componente de login",
        keywords: ["login", "form"]
      };
      const generation = await engine.generateCode(analysis, "Frontend", {});
      expect(generation.files).toBeDefined();
      expect(generation.files.length).toBeGreaterThan(0);
      expect(generation.totalLines).toBeGreaterThan(0);
    });
    test("arquivo gerado deve ter conteúdo", async () => {
      const analysis = {
        taskType: "COMPONENT",
        description: "componente de login"
      };
      const generation = await engine.generateCode(analysis, "Frontend", {});
      expect(generation.files[0].path).toBeDefined();
      expect(generation.files[0].content).toBeDefined();
      expect(generation.files[0].content.length).toBeGreaterThan(0);
    });
  });
  describe("validateCode", () => {
    test("deve validar código gerado", async () => {
      const files = [{
        path: "src/LoginComponent.jsx",
        content: "export default function Login() { return <div>Login</div>; }"
      }];
      const validation = await engine.validateCode(files);
      expect(validation.isValid).toBe(true);
      expect(validation.errors.length).toBe(0);
    });
    test("deve rejeitar código perigoso", async () => {
      const files = [{
        path: "src/dangerous.js",
        content: 'exec("rm -rf /");'
      }];
      const validation = await engine.validateCode(files);
      expect(validation.isValid).toBe(false);
      expect(validation.errors.length).toBeGreaterThan(0);
    });
  });
  describe("executeAutomation", () => {
    test("deve executar automação completa", async () => {
      const request = {
        userId: "user123",
        username: "Test User",
        command: "cria um componente de login",
        mode: "OPTIMIZED",
        description: "componente de login com validação",
        creditsUsed: 5,
        ipAddress: "127.0.0.1",
        userAgent: "test",
        sessionId: "session123"
      };
      const result = await engine.executeAutomation(request);
      expect(result.automationId).toBeDefined();
      expect(result.status).toBeDefined();
      expect(result.steps).toBeDefined();
    });
    test("deve retornar automationId", async () => {
      const request = {
        userId: "user123",
        username: "Test User",
        command: "test command",
        mode: "MANUAL"
      };
      const result = await engine.executeAutomation(request);
      expect(result.automationId).toMatch(/^LOG_/);
    });
    test("deve incluir fases de execução", async () => {
      const request = {
        userId: "user123",
        username: "Test User",
        command: "cria um componente",
        mode: "OPTIMIZED"
      };
      const result = await engine.executeAutomation(request);
      expect(result.steps.length).toBeGreaterThan(0);
      expect(result.steps.some(s => s.phase === "ANALYSIS")).toBe(true);
      expect(result.steps.some(s => s.phase === "SPECIALIST_SELECTION")).toBe(true);
      expect(result.steps.some(s => s.phase === "CODE_GENERATION")).toBe(true);
      expect(result.steps.some(s => s.phase === "SECURITY_VALIDATION")).toBe(true);
    });
    test("deve bloquear código perigoso", async () => {
      engine.generateCode = async () => ({
        files: [{
          path: "dangerous.js",
          content: 'exec("rm -rf /");'
        }],
        totalLines: 1
      });
      const request = {
        userId: "user123",
        username: "Test User",
        command: "test",
        mode: "MANUAL"
      };
      const result = await engine.executeAutomation(request);
      expect(result.status).toBe("BLOCKED");
      expect(result.errors.length).toBeGreaterThan(0);
    });
  });
  describe("getAutomationHistory", () => {
    test("deve retornar histórico de automações", () => {
      const history = engine.getAutomationHistory("user123", 10);
      expect(Array.isArray(history)).toBe(true);
    });
  });
  describe("getAutomationStats", () => {
    test("deve retornar estatísticas", () => {
      const stats = engine.getAutomationStats("user123");
      expect(stats).toBeDefined();
      expect(stats.totalAutomations).toBeGreaterThanOrEqual(0);
      expect(stats.successfulAutomations).toBeGreaterThanOrEqual(0);
      expect(stats.failedAutomations).toBeGreaterThanOrEqual(0);
    });
  });
  describe("Modo Híbrido", () => {
    test("deve permitir seleção manual de especialista", async () => {
      const request = {
        userId: "user123",
        username: "Test User",
        command: "cria um componente",
        mode: "HYBRID",
        selectedSpecialist: "Frontend"
      };
      const result = await engine.executeAutomation(request);
      const selectionStep = result.steps.find(s => s.phase === "SPECIALIST_SELECTION");
      expect(selectionStep.specialist).toBe("Frontend");
    });
    test("deve usar especialista selecionado em modo HYBRID", async () => {
      const request = {
        userId: "user123",
        username: "Test User",
        command: "cria um componente",
        mode: "HYBRID",
        selectedSpecialist: "Designer"
      };
      const result = await engine.executeAutomation(request);
      const selectionStep = result.steps.find(s => s.phase === "SPECIALIST_SELECTION");
      expect(selectionStep.mode).toBe("HYBRID");
    });
  });
  describe("Modo Otimizado", () => {
    test("deve selecionar especialista automaticamente em OPTIMIZED", async () => {
      const request = {
        userId: "user123",
        username: "Test User",
        command: "cria um componente de login",
        mode: "OPTIMIZED"
      };
      const result = await engine.executeAutomation(request);
      const selectionStep = result.steps.find(s => s.phase === "SPECIALIST_SELECTION");
      expect(selectionStep.specialist).toBeDefined();
      expect(selectionStep.mode).toBe("OPTIMIZED");
    });
  });
  describe("Error Handling", () => {
    test("deve capturar erros durante execução", async () => {
      engine.generateCode = async () => {
        throw new Error("Erro na geração de código");
      };
      const request = {
        userId: "user123",
        username: "Test User",
        command: "test",
        mode: "MANUAL"
      };
      const result = await engine.executeAutomation(request);
      expect(result.status).toBe("FAILED");
      expect(result.errors.length).toBeGreaterThan(0);
    });
    test("deve incluir mensagem de erro", async () => {
      engine.generateCode = async () => {
        throw new Error("Erro específico");
      };
      const request = {
        userId: "user123",
        username: "Test User",
        command: "test",
        mode: "MANUAL"
      };
      const result = await engine.executeAutomation(request);
      expect(result.errors[0].message).toContain("Erro específico");
    });
  });
  describe("Logging", () => {
    test("deve registrar automação iniciada", async () => {
      const request = {
        userId: "user123",
        username: "Test User",
        command: "test command",
        mode: "MANUAL"
      };
      const result = await engine.executeAutomation(request);
      expect(result.automationId).toBeDefined();
    });
    test("deve registrar conclusão de automação", async () => {
      const request = {
        userId: "user123",
        username: "Test User",
        command: "test command",
        mode: "MANUAL"
      };
      const result = await engine.executeAutomation(request);
      expect(result.status).toBeDefined();
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImplc3QiLCJmbiIsIm1vY2tJbXBsZW1lbnRhdGlvbiIsInZhbGlkYXRlQ29kZSIsIm1vY2tSZXNvbHZlZFZhbHVlIiwiaXNWYWxpZCIsImVycm9ycyIsIndhcm5pbmdzIiwidmFsaWRhdGVGaWxlcyIsInZhbGlkRmlsZXMiLCJpbnZhbGlkRmlsZXMiLCJsb2dBdXRvbWF0aW9uUmVxdWVzdCIsIm1vY2tSZXR1cm5WYWx1ZSIsImxvZ1NlY3VyaXR5VmFsaWRhdGlvbiIsImxvZ0F1dG9tYXRpb25Db21wbGV0aW9uIiwibG9nRXJyb3IiLCJzZWFyY2hMb2dzIiwibG9nQXV0b21hdGlvblN0YXJ0ZWQiLCJsb2dBdXRvbWF0aW9uQ29tcGxldGVkIiwibG9nQXV0b21hdGlvbkZhaWxlZCIsImdldEF1dG9tYXRpb25IaXN0b3J5IiwiZ2V0QXV0b21hdGlvblN0YXRzIiwidG90YWxBdXRvbWF0aW9ucyIsInN1Y2Nlc3NmdWxBdXRvbWF0aW9ucyIsImZhaWxlZEF1dG9tYXRpb25zIiwic2VsZWN0U3BlY2lhbGlzdCIsInNwZWNpYWxpc3QiLCJjb25maWRlbmNlIiwiY3JlYXRlQnJhbmNoIiwiY29tbWl0RmlsZXMiLCJjcmVhdGVQdWxsUmVxdWVzdCIsIm51bWJlciIsIl9BdXRvbWF0aW9uRW5naW5lIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJlIiwiZGVzY3JpYmUiLCJlbmdpbmUiLCJiZWZvcmVFYWNoIiwiQXV0b21hdGlvbkVuZ2luZSIsImFpTW9kZWwiLCJ0ZW1wZXJhdHVyZSIsImF1ZGl0TG9nZ2VyIiwidGVzdCIsImV4cGVjdCIsImNvbmZpZyIsInRvQmUiLCJtYXhSZXRyaWVzIiwidmFsaWRhdG9yIiwidG9CZURlZmluZWQiLCJzcGVjaWFsaXN0U2VsZWN0b3IiLCJhbmFseXNpcyIsImFuYWx5emVDb21tYW5kIiwiY29tbWFuZCIsInRhc2tUeXBlIiwia2V5d29yZHMiLCJjb21taXRNZXNzYWdlIiwibGVuZ3RoIiwidG9CZUdyZWF0ZXJUaGFuIiwidG9Db250YWluIiwiZGVzY3JpcHRpb24iLCJnZW5lcmF0aW9uIiwiZ2VuZXJhdGVDb2RlIiwiZmlsZXMiLCJ0b3RhbExpbmVzIiwicGF0aCIsImNvbnRlbnQiLCJ2YWxpZGF0aW9uIiwicmVxdWVzdCIsInVzZXJJZCIsInVzZXJuYW1lIiwibW9kZSIsImNyZWRpdHNVc2VkIiwiaXBBZGRyZXNzIiwidXNlckFnZW50Iiwic2Vzc2lvbklkIiwicmVzdWx0IiwiZXhlY3V0ZUF1dG9tYXRpb24iLCJhdXRvbWF0aW9uSWQiLCJzdGF0dXMiLCJzdGVwcyIsInRvTWF0Y2giLCJzb21lIiwicyIsInBoYXNlIiwiaGlzdG9yeSIsIkFycmF5IiwiaXNBcnJheSIsInN0YXRzIiwidG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCIsInNlbGVjdGVkU3BlY2lhbGlzdCIsInNlbGVjdGlvblN0ZXAiLCJmaW5kIiwiRXJyb3IiLCJtZXNzYWdlIl0sInNvdXJjZXMiOlsiQXV0b21hdGlvbkVuZ2luZS50ZXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQVVUT01BVElPTiBFTkdJTkUgVEVTVFNcbiAqIFRlc3RlcyB1bml0w6FyaW9zIHBhcmEgbW90b3IgZGUgYXV0b21hw6fDo29cbiAqL1xuXG4vLyBNb2NrIGFsbCBkZXBlbmRlbmNpZXMgYmVmb3JlIGltcG9ydGluZyBBdXRvbWF0aW9uRW5naW5lXG5qZXN0Lm1vY2soXCIuLi9TZWN1cml0eVZhbGlkYXRvci5qc1wiLCAoKSA9PiAoe1xuICBfX2VzTW9kdWxlOiB0cnVlLFxuICBkZWZhdWx0OiBqZXN0LmZuKCkubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+ICh7XG4gICAgdmFsaWRhdGVDb2RlOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgaXNWYWxpZDogdHJ1ZSxcbiAgICAgIGVycm9yczogW10sXG4gICAgICB3YXJuaW5nczogW10sXG4gICAgfSksXG4gICAgdmFsaWRhdGVGaWxlczogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgIGlzVmFsaWQ6IHRydWUsXG4gICAgICB2YWxpZEZpbGVzOiAxLFxuICAgICAgaW52YWxpZEZpbGVzOiAwLFxuICAgICAgZXJyb3JzOiBbXSxcbiAgICB9KSxcbiAgfSkpLFxufSkpO1xuXG5qZXN0Lm1vY2soXCIuLi9BdWRpdExvZ2dlci5qc1wiLCAoKSA9PiAoe1xuICBfX2VzTW9kdWxlOiB0cnVlLFxuICBkZWZhdWx0OiBqZXN0LmZuKCkubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+ICh7XG4gICAgbG9nQXV0b21hdGlvblJlcXVlc3Q6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoXCJtb2NrLWF1dG9tYXRpb24taWRcIiksXG4gICAgbG9nU2VjdXJpdHlWYWxpZGF0aW9uOiBqZXN0LmZuKCksXG4gICAgbG9nQXV0b21hdGlvbkNvbXBsZXRpb246IGplc3QuZm4oKSxcbiAgICBsb2dFcnJvcjogamVzdC5mbigpLFxuICAgIHNlYXJjaExvZ3M6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoW10pLFxuICAgIGxvZ0F1dG9tYXRpb25TdGFydGVkOiBqZXN0LmZuKCksXG4gICAgbG9nQXV0b21hdGlvbkNvbXBsZXRlZDogamVzdC5mbigpLFxuICAgIGxvZ0F1dG9tYXRpb25GYWlsZWQ6IGplc3QuZm4oKSxcbiAgICBnZXRBdXRvbWF0aW9uSGlzdG9yeTogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZShbXSksXG4gICAgZ2V0QXV0b21hdGlvblN0YXRzOiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgIHRvdGFsQXV0b21hdGlvbnM6IDAsXG4gICAgICBzdWNjZXNzZnVsQXV0b21hdGlvbnM6IDAsXG4gICAgICBmYWlsZWRBdXRvbWF0aW9uczogMCxcbiAgICB9KSxcbiAgfSkpLFxufSkpO1xuXG5qZXN0Lm1vY2soXCIuLi9TcGVjaWFsaXN0U2VsZWN0b3IuanNcIiwgKCkgPT4gKHtcbiAgX19lc01vZHVsZTogdHJ1ZSxcbiAgZGVmYXVsdDogamVzdC5mbigpLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiAoe1xuICAgIHNlbGVjdFNwZWNpYWxpc3Q6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgc3BlY2lhbGlzdDogXCJGcm9udGVuZFwiLFxuICAgICAgY29uZmlkZW5jZTogMC45LFxuICAgIH0pLFxuICB9KSksXG59KSk7XG5cbmplc3QubW9jayhcIi4uL0dpdEh1YkF1dG9tYXRpb24uanNcIiwgKCkgPT4gKHtcbiAgX19lc01vZHVsZTogdHJ1ZSxcbiAgZGVmYXVsdDogamVzdC5mbigpLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiAoe1xuICAgIGNyZWF0ZUJyYW5jaDogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHRydWUpLFxuICAgIGNvbW1pdEZpbGVzOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUodHJ1ZSksXG4gICAgY3JlYXRlUHVsbFJlcXVlc3Q6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7IG51bWJlcjogMSB9KSxcbiAgfSkpLFxufSkpO1xuXG5pbXBvcnQgQXV0b21hdGlvbkVuZ2luZSBmcm9tIFwiLi4vQXV0b21hdGlvbkVuZ2luZS5qc1wiO1xuXG5kZXNjcmliZShcIkF1dG9tYXRpb25FbmdpbmVcIiwgKCkgPT4ge1xuICBsZXQgZW5naW5lO1xuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIGVuZ2luZSA9IG5ldyBBdXRvbWF0aW9uRW5naW5lKHtcbiAgICAgIGFpTW9kZWw6IFwiZ2VtaW5pLTIuMC1mbGFzaFwiLFxuICAgICAgdGVtcGVyYXR1cmU6IDAuNyxcbiAgICB9KTtcbiAgICBcbiAgICAvLyBNYW51YWxseSBtb2NrIHRoZSBhdWRpdExvZ2dlciBtZXRob2RzIG9uIHRoZSBpbnN0YW5jZVxuICAgIGVuZ2luZS5hdWRpdExvZ2dlci5sb2dBdXRvbWF0aW9uUmVxdWVzdCA9IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoXCJtb2NrLWF1dG9tYXRpb24taWRcIik7XG4gICAgZW5naW5lLmF1ZGl0TG9nZ2VyLmxvZ1NlY3VyaXR5VmFsaWRhdGlvbiA9IGplc3QuZm4oKTtcbiAgICBlbmdpbmUuYXVkaXRMb2dnZXIubG9nQXV0b21hdGlvbkNvbXBsZXRpb24gPSBqZXN0LmZuKCk7XG4gICAgZW5naW5lLmF1ZGl0TG9nZ2VyLmxvZ0Vycm9yID0gamVzdC5mbigpO1xuICAgIGVuZ2luZS5hdWRpdExvZ2dlci5zZWFyY2hMb2dzID0gamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZShbXSk7XG4gICAgZW5naW5lLmF1ZGl0TG9nZ2VyLmxvZ0F1dG9tYXRpb25TdGFydGVkID0gamVzdC5mbigpO1xuICAgIGVuZ2luZS5hdWRpdExvZ2dlci5sb2dBdXRvbWF0aW9uQ29tcGxldGVkID0gamVzdC5mbigpO1xuICAgIGVuZ2luZS5hdWRpdExvZ2dlci5sb2dBdXRvbWF0aW9uRmFpbGVkID0gamVzdC5mbigpO1xuICAgIGVuZ2luZS5hdWRpdExvZ2dlci5nZXRBdXRvbWF0aW9uSGlzdG9yeSA9IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoW10pO1xuICAgIGVuZ2luZS5hdWRpdExvZ2dlci5nZXRBdXRvbWF0aW9uU3RhdHMgPSBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgIHRvdGFsQXV0b21hdGlvbnM6IDAsXG4gICAgICBzdWNjZXNzZnVsQXV0b21hdGlvbnM6IDAsXG4gICAgICBmYWlsZWRBdXRvbWF0aW9uczogMCxcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoXCJpbml0aWFsaXphdGlvblwiLCAoKSA9PiB7XG4gICAgdGVzdChcImRldmUgaW5pY2lhbGl6YXIgY29tIGNvbmZpZ3VyYcOnw7VlcyBwYWRyw6NvXCIsICgpID0+IHtcbiAgICAgIGV4cGVjdChlbmdpbmUuY29uZmlnLmFpTW9kZWwpLnRvQmUoXCJnZW1pbmktMi4wLWZsYXNoXCIpO1xuICAgICAgZXhwZWN0KGVuZ2luZS5jb25maWcudGVtcGVyYXR1cmUpLnRvQmUoMC43KTtcbiAgICAgIGV4cGVjdChlbmdpbmUuY29uZmlnLm1heFJldHJpZXMpLnRvQmUoMyk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KFwiZGV2ZSBpbmljaWFsaXphciBjb21wb25lbnRlc1wiLCAoKSA9PiB7XG4gICAgICBleHBlY3QoZW5naW5lLnZhbGlkYXRvcikudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChlbmdpbmUuYXVkaXRMb2dnZXIpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QoZW5naW5lLnNwZWNpYWxpc3RTZWxlY3RvcikudG9CZURlZmluZWQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoXCJhbmFseXplQ29tbWFuZFwiLCAoKSA9PiB7XG4gICAgdGVzdChcImRldmUgYW5hbGlzYXIgY29tYW5kbyBzaW1wbGVzXCIsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGFuYWx5c2lzID0gYXdhaXQgZW5naW5lLmFuYWx5emVDb21tYW5kKFwiY3JpYSB1bSBjb21wb25lbnRlIGRlIGxvZ2luXCIpO1xuXG4gICAgICBleHBlY3QoYW5hbHlzaXMuY29tbWFuZCkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChhbmFseXNpcy50YXNrVHlwZSkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChhbmFseXNpcy5rZXl3b3JkcykudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChhbmFseXNpcy5jb21taXRNZXNzYWdlKS50b0JlRGVmaW5lZCgpO1xuICAgIH0pO1xuXG4gICAgdGVzdChcImRldmUgZGV0ZWN0YXIgdGlwbyBkZSB0YXJlZmEgQ09NUE9ORU5UXCIsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGFuYWx5c2lzID0gYXdhaXQgZW5naW5lLmFuYWx5emVDb21tYW5kKFwiY3JpYSB1bSBjb21wb25lbnRlIGRlIGxvZ2luXCIpO1xuXG4gICAgICBleHBlY3QoYW5hbHlzaXMudGFza1R5cGUpLnRvQmUoXCJDT01QT05FTlRcIik7XG4gICAgfSk7XG5cbiAgICB0ZXN0KFwiZGV2ZSBkZXRlY3RhciB0aXBvIGRlIHRhcmVmYSBGVU5DVElPTlwiLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBhbmFseXNpcyA9IGF3YWl0IGVuZ2luZS5hbmFseXplQ29tbWFuZChcImNyaWEgdW1hIGZ1bsOnw6NvIGRlIGF1dGVudGljYcOnw6NvXCIpO1xuXG4gICAgICBleHBlY3QoYW5hbHlzaXMudGFza1R5cGUpLnRvQmUoXCJGVU5DVElPTlwiKTtcbiAgICB9KTtcblxuICAgIHRlc3QoXCJkZXZlIGRldGVjdGFyIHRpcG8gZGUgdGFyZWZhIFRFU1RcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgYW5hbHlzaXMgPSBhd2FpdCBlbmdpbmUuYW5hbHl6ZUNvbW1hbmQoXCJjcmlhIHRlc3RlcyBwYXJhIGxvZ2luXCIpO1xuXG4gICAgICBleHBlY3QoYW5hbHlzaXMudGFza1R5cGUpLnRvQmUoXCJURVNUXCIpO1xuICAgIH0pO1xuXG4gICAgdGVzdChcImRldmUgZGV0ZWN0YXIgdGlwbyBkZSB0YXJlZmEgUkVGQUNUT1JcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgYW5hbHlzaXMgPSBhd2FpdCBlbmdpbmUuYW5hbHl6ZUNvbW1hbmQoXCJyZWZhdG9yYSBvIGPDs2RpZ28gZGUgYXV0ZW50aWNhw6fDo29cIik7XG5cbiAgICAgIGV4cGVjdChhbmFseXNpcy50YXNrVHlwZSkudG9CZShcIlJFRkFDVE9SXCIpO1xuICAgIH0pO1xuXG4gICAgdGVzdChcImRldmUgZXh0cmFpciBrZXl3b3JkcyBkbyBjb21hbmRvXCIsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGFuYWx5c2lzID0gYXdhaXQgZW5naW5lLmFuYWx5emVDb21tYW5kKFwiY3JpYSBjb21wb25lbnRlIGxvZ2luIGZvcm1cIik7XG5cbiAgICAgIGV4cGVjdChhbmFseXNpcy5rZXl3b3Jkcy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgIGV4cGVjdChhbmFseXNpcy5rZXl3b3JkcykudG9Db250YWluKFwiY3JpYVwiKTtcbiAgICAgIGV4cGVjdChhbmFseXNpcy5rZXl3b3JkcykudG9Db250YWluKFwiY29tcG9uZW50ZVwiKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoXCJnZW5lcmF0ZUNvZGVcIiwgKCkgPT4ge1xuICAgIHRlc3QoXCJkZXZlIGdlcmFyIGPDs2RpZ29cIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgYW5hbHlzaXMgPSB7XG4gICAgICAgIHRhc2tUeXBlOiBcIkNPTVBPTkVOVFwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJjb21wb25lbnRlIGRlIGxvZ2luXCIsXG4gICAgICAgIGtleXdvcmRzOiBbXCJsb2dpblwiLCBcImZvcm1cIl0sXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBnZW5lcmF0aW9uID0gYXdhaXQgZW5naW5lLmdlbmVyYXRlQ29kZShhbmFseXNpcywgXCJGcm9udGVuZFwiLCB7fSk7XG5cbiAgICAgIGV4cGVjdChnZW5lcmF0aW9uLmZpbGVzKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KGdlbmVyYXRpb24uZmlsZXMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICBleHBlY3QoZ2VuZXJhdGlvbi50b3RhbExpbmVzKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KFwiYXJxdWl2byBnZXJhZG8gZGV2ZSB0ZXIgY29udGXDumRvXCIsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGFuYWx5c2lzID0ge1xuICAgICAgICB0YXNrVHlwZTogXCJDT01QT05FTlRcIixcbiAgICAgICAgZGVzY3JpcHRpb246IFwiY29tcG9uZW50ZSBkZSBsb2dpblwiLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgZ2VuZXJhdGlvbiA9IGF3YWl0IGVuZ2luZS5nZW5lcmF0ZUNvZGUoYW5hbHlzaXMsIFwiRnJvbnRlbmRcIiwge30pO1xuXG4gICAgICBleHBlY3QoZ2VuZXJhdGlvbi5maWxlc1swXS5wYXRoKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KGdlbmVyYXRpb24uZmlsZXNbMF0uY29udGVudCkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChnZW5lcmF0aW9uLmZpbGVzWzBdLmNvbnRlbnQubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKFwidmFsaWRhdGVDb2RlXCIsICgpID0+IHtcbiAgICB0ZXN0KFwiZGV2ZSB2YWxpZGFyIGPDs2RpZ28gZ2VyYWRvXCIsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGZpbGVzID0gW1xuICAgICAgICB7XG4gICAgICAgICAgcGF0aDogXCJzcmMvTG9naW5Db21wb25lbnQuanN4XCIsXG4gICAgICAgICAgY29udGVudDogXCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBMb2dpbigpIHsgcmV0dXJuIDxkaXY+TG9naW48L2Rpdj47IH1cIixcbiAgICAgICAgfSxcbiAgICAgIF07XG5cbiAgICAgIGNvbnN0IHZhbGlkYXRpb24gPSBhd2FpdCBlbmdpbmUudmFsaWRhdGVDb2RlKGZpbGVzKTtcblxuICAgICAgZXhwZWN0KHZhbGlkYXRpb24uaXNWYWxpZCkudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdCh2YWxpZGF0aW9uLmVycm9ycy5sZW5ndGgpLnRvQmUoMCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KFwiZGV2ZSByZWplaXRhciBjw7NkaWdvIHBlcmlnb3NvXCIsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGZpbGVzID0gW1xuICAgICAgICB7XG4gICAgICAgICAgcGF0aDogXCJzcmMvZGFuZ2Vyb3VzLmpzXCIsXG4gICAgICAgICAgY29udGVudDogJ2V4ZWMoXCJybSAtcmYgL1wiKTsnLFxuICAgICAgICB9LFxuICAgICAgXTtcblxuICAgICAgY29uc3QgdmFsaWRhdGlvbiA9IGF3YWl0IGVuZ2luZS52YWxpZGF0ZUNvZGUoZmlsZXMpO1xuXG4gICAgICBleHBlY3QodmFsaWRhdGlvbi5pc1ZhbGlkKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdCh2YWxpZGF0aW9uLmVycm9ycy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoXCJleGVjdXRlQXV0b21hdGlvblwiLCAoKSA9PiB7XG4gICAgdGVzdChcImRldmUgZXhlY3V0YXIgYXV0b21hw6fDo28gY29tcGxldGFcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVxdWVzdCA9IHtcbiAgICAgICAgdXNlcklkOiBcInVzZXIxMjNcIixcbiAgICAgICAgdXNlcm5hbWU6IFwiVGVzdCBVc2VyXCIsXG4gICAgICAgIGNvbW1hbmQ6IFwiY3JpYSB1bSBjb21wb25lbnRlIGRlIGxvZ2luXCIsXG4gICAgICAgIG1vZGU6IFwiT1BUSU1JWkVEXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcImNvbXBvbmVudGUgZGUgbG9naW4gY29tIHZhbGlkYcOnw6NvXCIsXG4gICAgICAgIGNyZWRpdHNVc2VkOiA1LFxuICAgICAgICBpcEFkZHJlc3M6IFwiMTI3LjAuMC4xXCIsXG4gICAgICAgIHVzZXJBZ2VudDogXCJ0ZXN0XCIsXG4gICAgICAgIHNlc3Npb25JZDogXCJzZXNzaW9uMTIzXCIsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBlbmdpbmUuZXhlY3V0ZUF1dG9tYXRpb24ocmVxdWVzdCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuYXV0b21hdGlvbklkKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5zdGF0dXMpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QocmVzdWx0LnN0ZXBzKS50b0JlRGVmaW5lZCgpO1xuICAgIH0pO1xuXG4gICAgdGVzdChcImRldmUgcmV0b3JuYXIgYXV0b21hdGlvbklkXCIsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSB7XG4gICAgICAgIHVzZXJJZDogXCJ1c2VyMTIzXCIsXG4gICAgICAgIHVzZXJuYW1lOiBcIlRlc3QgVXNlclwiLFxuICAgICAgICBjb21tYW5kOiBcInRlc3QgY29tbWFuZFwiLFxuICAgICAgICBtb2RlOiBcIk1BTlVBTFwiLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZW5naW5lLmV4ZWN1dGVBdXRvbWF0aW9uKHJlcXVlc3QpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmF1dG9tYXRpb25JZCkudG9NYXRjaCgvXkxPR18vKTtcbiAgICB9KTtcblxuICAgIHRlc3QoXCJkZXZlIGluY2x1aXIgZmFzZXMgZGUgZXhlY3XDp8Ojb1wiLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXF1ZXN0ID0ge1xuICAgICAgICB1c2VySWQ6IFwidXNlcjEyM1wiLFxuICAgICAgICB1c2VybmFtZTogXCJUZXN0IFVzZXJcIixcbiAgICAgICAgY29tbWFuZDogXCJjcmlhIHVtIGNvbXBvbmVudGVcIixcbiAgICAgICAgbW9kZTogXCJPUFRJTUlaRURcIixcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGVuZ2luZS5leGVjdXRlQXV0b21hdGlvbihyZXF1ZXN0KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdGVwcy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuc3RlcHMuc29tZSgocykgPT4gcy5waGFzZSA9PT0gXCJBTkFMWVNJU1wiKSkudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuc3RlcHMuc29tZSgocykgPT4gcy5waGFzZSA9PT0gXCJTUEVDSUFMSVNUX1NFTEVDVElPTlwiKSkudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuc3RlcHMuc29tZSgocykgPT4gcy5waGFzZSA9PT0gXCJDT0RFX0dFTkVSQVRJT05cIikpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QocmVzdWx0LnN0ZXBzLnNvbWUoKHMpID0+IHMucGhhc2UgPT09IFwiU0VDVVJJVFlfVkFMSURBVElPTlwiKSkudG9CZSh0cnVlKTtcbiAgICB9KTtcblxuICAgIHRlc3QoXCJkZXZlIGJsb3F1ZWFyIGPDs2RpZ28gcGVyaWdvc29cIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgZW5naW5lLmdlbmVyYXRlQ29kZSA9IGFzeW5jICgpID0+ICh7XG4gICAgICAgIGZpbGVzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgcGF0aDogXCJkYW5nZXJvdXMuanNcIixcbiAgICAgICAgICAgIGNvbnRlbnQ6ICdleGVjKFwicm0gLXJmIC9cIik7JyxcbiAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgICAgICB0b3RhbExpbmVzOiAxLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSB7XG4gICAgICAgIHVzZXJJZDogXCJ1c2VyMTIzXCIsXG4gICAgICAgIHVzZXJuYW1lOiBcIlRlc3QgVXNlclwiLFxuICAgICAgICBjb21tYW5kOiBcInRlc3RcIixcbiAgICAgICAgbW9kZTogXCJNQU5VQUxcIixcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGVuZ2luZS5leGVjdXRlQXV0b21hdGlvbihyZXF1ZXN0KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdGF0dXMpLnRvQmUoXCJCTE9DS0VEXCIpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvcnMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKFwiZ2V0QXV0b21hdGlvbkhpc3RvcnlcIiwgKCkgPT4ge1xuICAgIHRlc3QoXCJkZXZlIHJldG9ybmFyIGhpc3TDs3JpY28gZGUgYXV0b21hw6fDtWVzXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IGhpc3RvcnkgPSBlbmdpbmUuZ2V0QXV0b21hdGlvbkhpc3RvcnkoXCJ1c2VyMTIzXCIsIDEwKTtcblxuICAgICAgZXhwZWN0KEFycmF5LmlzQXJyYXkoaGlzdG9yeSkpLnRvQmUodHJ1ZSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKFwiZ2V0QXV0b21hdGlvblN0YXRzXCIsICgpID0+IHtcbiAgICB0ZXN0KFwiZGV2ZSByZXRvcm5hciBlc3RhdMOtc3RpY2FzXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IHN0YXRzID0gZW5naW5lLmdldEF1dG9tYXRpb25TdGF0cyhcInVzZXIxMjNcIik7XG5cbiAgICAgIGV4cGVjdChzdGF0cykudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChzdGF0cy50b3RhbEF1dG9tYXRpb25zKS50b0JlR3JlYXRlclRoYW5PckVxdWFsKDApO1xuICAgICAgZXhwZWN0KHN0YXRzLnN1Y2Nlc3NmdWxBdXRvbWF0aW9ucykudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCgwKTtcbiAgICAgIGV4cGVjdChzdGF0cy5mYWlsZWRBdXRvbWF0aW9ucykudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCgwKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoXCJNb2RvIEjDrWJyaWRvXCIsICgpID0+IHtcbiAgICB0ZXN0KFwiZGV2ZSBwZXJtaXRpciBzZWxlw6fDo28gbWFudWFsIGRlIGVzcGVjaWFsaXN0YVwiLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXF1ZXN0ID0ge1xuICAgICAgICB1c2VySWQ6IFwidXNlcjEyM1wiLFxuICAgICAgICB1c2VybmFtZTogXCJUZXN0IFVzZXJcIixcbiAgICAgICAgY29tbWFuZDogXCJjcmlhIHVtIGNvbXBvbmVudGVcIixcbiAgICAgICAgbW9kZTogXCJIWUJSSURcIixcbiAgICAgICAgc2VsZWN0ZWRTcGVjaWFsaXN0OiBcIkZyb250ZW5kXCIsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBlbmdpbmUuZXhlY3V0ZUF1dG9tYXRpb24ocmVxdWVzdCk7XG5cbiAgICAgIGNvbnN0IHNlbGVjdGlvblN0ZXAgPSByZXN1bHQuc3RlcHMuZmluZCgocykgPT4gcy5waGFzZSA9PT0gXCJTUEVDSUFMSVNUX1NFTEVDVElPTlwiKTtcbiAgICAgIGV4cGVjdChzZWxlY3Rpb25TdGVwLnNwZWNpYWxpc3QpLnRvQmUoXCJGcm9udGVuZFwiKTtcbiAgICB9KTtcblxuICAgIHRlc3QoXCJkZXZlIHVzYXIgZXNwZWNpYWxpc3RhIHNlbGVjaW9uYWRvIGVtIG1vZG8gSFlCUklEXCIsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSB7XG4gICAgICAgIHVzZXJJZDogXCJ1c2VyMTIzXCIsXG4gICAgICAgIHVzZXJuYW1lOiBcIlRlc3QgVXNlclwiLFxuICAgICAgICBjb21tYW5kOiBcImNyaWEgdW0gY29tcG9uZW50ZVwiLFxuICAgICAgICBtb2RlOiBcIkhZQlJJRFwiLFxuICAgICAgICBzZWxlY3RlZFNwZWNpYWxpc3Q6IFwiRGVzaWduZXJcIixcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGVuZ2luZS5leGVjdXRlQXV0b21hdGlvbihyZXF1ZXN0KTtcblxuICAgICAgY29uc3Qgc2VsZWN0aW9uU3RlcCA9IHJlc3VsdC5zdGVwcy5maW5kKChzKSA9PiBzLnBoYXNlID09PSBcIlNQRUNJQUxJU1RfU0VMRUNUSU9OXCIpO1xuICAgICAgZXhwZWN0KHNlbGVjdGlvblN0ZXAubW9kZSkudG9CZShcIkhZQlJJRFwiKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoXCJNb2RvIE90aW1pemFkb1wiLCAoKSA9PiB7XG4gICAgdGVzdChcImRldmUgc2VsZWNpb25hciBlc3BlY2lhbGlzdGEgYXV0b21hdGljYW1lbnRlIGVtIE9QVElNSVpFRFwiLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXF1ZXN0ID0ge1xuICAgICAgICB1c2VySWQ6IFwidXNlcjEyM1wiLFxuICAgICAgICB1c2VybmFtZTogXCJUZXN0IFVzZXJcIixcbiAgICAgICAgY29tbWFuZDogXCJjcmlhIHVtIGNvbXBvbmVudGUgZGUgbG9naW5cIixcbiAgICAgICAgbW9kZTogXCJPUFRJTUlaRURcIixcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGVuZ2luZS5leGVjdXRlQXV0b21hdGlvbihyZXF1ZXN0KTtcblxuICAgICAgY29uc3Qgc2VsZWN0aW9uU3RlcCA9IHJlc3VsdC5zdGVwcy5maW5kKChzKSA9PiBzLnBoYXNlID09PSBcIlNQRUNJQUxJU1RfU0VMRUNUSU9OXCIpO1xuICAgICAgZXhwZWN0KHNlbGVjdGlvblN0ZXAuc3BlY2lhbGlzdCkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChzZWxlY3Rpb25TdGVwLm1vZGUpLnRvQmUoXCJPUFRJTUlaRURcIik7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKFwiRXJyb3IgSGFuZGxpbmdcIiwgKCkgPT4ge1xuICAgIHRlc3QoXCJkZXZlIGNhcHR1cmFyIGVycm9zIGR1cmFudGUgZXhlY3XDp8Ojb1wiLCBhc3luYyAoKSA9PiB7XG4gICAgICBlbmdpbmUuZ2VuZXJhdGVDb2RlID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFcnJvIG5hIGdlcmHDp8OjbyBkZSBjw7NkaWdvXCIpO1xuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVxdWVzdCA9IHtcbiAgICAgICAgdXNlcklkOiBcInVzZXIxMjNcIixcbiAgICAgICAgdXNlcm5hbWU6IFwiVGVzdCBVc2VyXCIsXG4gICAgICAgIGNvbW1hbmQ6IFwidGVzdFwiLFxuICAgICAgICBtb2RlOiBcIk1BTlVBTFwiLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZW5naW5lLmV4ZWN1dGVBdXRvbWF0aW9uKHJlcXVlc3QpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN0YXR1cykudG9CZShcIkZBSUxFRFwiKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3JzLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgIH0pO1xuXG4gICAgdGVzdChcImRldmUgaW5jbHVpciBtZW5zYWdlbSBkZSBlcnJvXCIsIGFzeW5jICgpID0+IHtcbiAgICAgIGVuZ2luZS5nZW5lcmF0ZUNvZGUgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkVycm8gZXNwZWPDrWZpY29cIik7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXF1ZXN0ID0ge1xuICAgICAgICB1c2VySWQ6IFwidXNlcjEyM1wiLFxuICAgICAgICB1c2VybmFtZTogXCJUZXN0IFVzZXJcIixcbiAgICAgICAgY29tbWFuZDogXCJ0ZXN0XCIsXG4gICAgICAgIG1vZGU6IFwiTUFOVUFMXCIsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBlbmdpbmUuZXhlY3V0ZUF1dG9tYXRpb24ocmVxdWVzdCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3JzWzBdLm1lc3NhZ2UpLnRvQ29udGFpbihcIkVycm8gZXNwZWPDrWZpY29cIik7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKFwiTG9nZ2luZ1wiLCAoKSA9PiB7XG4gICAgdGVzdChcImRldmUgcmVnaXN0cmFyIGF1dG9tYcOnw6NvIGluaWNpYWRhXCIsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSB7XG4gICAgICAgIHVzZXJJZDogXCJ1c2VyMTIzXCIsXG4gICAgICAgIHVzZXJuYW1lOiBcIlRlc3QgVXNlclwiLFxuICAgICAgICBjb21tYW5kOiBcInRlc3QgY29tbWFuZFwiLFxuICAgICAgICBtb2RlOiBcIk1BTlVBTFwiLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZW5naW5lLmV4ZWN1dGVBdXRvbWF0aW9uKHJlcXVlc3QpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmF1dG9tYXRpb25JZCkudG9CZURlZmluZWQoKTtcbiAgICB9KTtcblxuICAgIHRlc3QoXCJkZXZlIHJlZ2lzdHJhciBjb25jbHVzw6NvIGRlIGF1dG9tYcOnw6NvXCIsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSB7XG4gICAgICAgIHVzZXJJZDogXCJ1c2VyMTIzXCIsXG4gICAgICAgIHVzZXJuYW1lOiBcIlRlc3QgVXNlclwiLFxuICAgICAgICBjb21tYW5kOiBcInRlc3QgY29tbWFuZFwiLFxuICAgICAgICBtb2RlOiBcIk1BTlVBTFwiLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZW5naW5lLmV4ZWN1dGVBdXRvbWF0aW9uKHJlcXVlc3QpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN0YXR1cykudG9CZURlZmluZWQoKTtcbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBQSxXQUFBLEdBQUtDLElBQUksQ0FBQyx5QkFBeUIsRUFBRSxPQUFPO0VBQzFDQyxVQUFVLEVBQUUsSUFBSTtFQUNoQkMsT0FBTyxFQUFFQyxJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDLENBQUNDLGtCQUFrQixDQUFDLE9BQU87SUFDM0NDLFlBQVksRUFBRUgsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQyxDQUFDRyxpQkFBaUIsQ0FBQztNQUN4Q0MsT0FBTyxFQUFFLElBQUk7TUFDYkMsTUFBTSxFQUFFLEVBQUU7TUFDVkMsUUFBUSxFQUFFO0lBQ1osQ0FBQyxDQUFDO0lBQ0ZDLGFBQWEsRUFBRVIsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQyxDQUFDRyxpQkFBaUIsQ0FBQztNQUN6Q0MsT0FBTyxFQUFFLElBQUk7TUFDYkksVUFBVSxFQUFFLENBQUM7TUFDYkMsWUFBWSxFQUFFLENBQUM7TUFDZkosTUFBTSxFQUFFO0lBQ1YsQ0FBQztFQUNILENBQUMsQ0FBQztBQUNKLENBQUMsQ0FBQyxDQUFDO0FBRUhWLFdBQUEsR0FBS0MsSUFBSSxDQUFDLG1CQUFtQixFQUFFLE9BQU87RUFDcENDLFVBQVUsRUFBRSxJQUFJO0VBQ2hCQyxPQUFPLEVBQUVDLElB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